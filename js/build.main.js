/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

var requirejs,require,define;!function(e){function t(e,t){return m.call(e,t)}function i(e,t){var i,r,n,o,a,s,l,d,c,x,f,u=t&&t.split("/"),h=y.map,p=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),a=e.length-1,y.nodeIdCompat&&w.test(e[a])&&(e[a]=e[a].replace(w,"")),e=u.slice(0,u.length-1).concat(e),c=0;c<e.length;c+=1)if(f=e[c],"."===f)e.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((u||p)&&h){for(i=e.split("/"),c=i.length;c>0;c-=1){if(r=i.slice(0,c).join("/"),u)for(x=u.length;x>0;x-=1)if(n=h[u.slice(0,x).join("/")],n&&(n=n[r])){o=n,s=c;break}if(o)break;!l&&p&&p[r]&&(l=p[r],d=c)}!o&&l&&(o=l,s=d),o&&(i.splice(0,s,o),e=i.join("/"))}return e}function r(t,i){return function(){var r=g.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),c.apply(e,r.concat([t,i]))}}function n(e){return function(t){return i(t,e)}}function o(e){return function(t){u[e]=t}}function a(i){if(t(h,i)){var r=h[i];delete h[i],p[i]=!0,d.apply(e,r)}if(!t(u,i)&&!t(p,i))throw new Error("No "+i);return u[i]}function s(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function l(e){return function(){return y&&y.config&&y.config[e]||{}}}var d,c,x,f,u={},h={},y={},p={},m=Object.prototype.hasOwnProperty,g=[].slice,w=/\.js$/;x=function(e,t){var r,o=s(e),l=o[0];return e=o[1],l&&(l=i(l,t),r=a(l)),l?e=r&&r.normalize?r.normalize(e,n(t)):i(e,t):(e=i(e,t),o=s(e),l=o[0],e=o[1],l&&(r=a(l))),{f:l?l+"!"+e:e,n:e,pr:l,p:r}},f={require:function(e){return r(e)},exports:function(e){var t=u[e];return"undefined"!=typeof t?t:u[e]={}},module:function(e){return{id:e,uri:"",exports:u[e],config:l(e)}}},d=function(i,n,s,l){var d,c,y,m,g,w,v=[],b=typeof s;if(l=l||i,"undefined"===b||"function"===b){for(n=!n.length&&s.length?["require","exports","module"]:n,g=0;g<n.length;g+=1)if(m=x(n[g],l),c=m.f,"require"===c)v[g]=f.require(i);else if("exports"===c)v[g]=f.exports(i),w=!0;else if("module"===c)d=v[g]=f.module(i);else if(t(u,c)||t(h,c)||t(p,c))v[g]=a(c);else{if(!m.p)throw new Error(i+" missing "+c);m.p.load(m.n,r(l,!0),o(c),{}),v[g]=u[c]}y=s?s.apply(u[i],v):void 0,i&&(d&&d.exports!==e&&d.exports!==u[i]?u[i]=d.exports:y===e&&w||(u[i]=y))}else i&&(u[i]=s)},requirejs=require=c=function(t,i,r,n,o){if("string"==typeof t)return f[t]?f[t](i):a(x(t,i).f);if(!t.splice){if(y=t,y.deps&&c(y.deps,y.callback),!i)return;i.splice?(t=i,i=r,r=null):t=e}return i=i||function(){},"function"==typeof r&&(r=n,n=o),n?d(e,t,i,r):setTimeout(function(){d(e,t,i,r)},4),c},c.config=function(e){return c(e)},requirejs._defined=u,define=function(e,i,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");i.splice||(r=i,i=[]),t(u,e)||t(h,e)||(h[e]=[e,i,r])},define.amd={jQuery:!0}}(),define("almond",function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=Z.type(e);return"function"===i||Z.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,i){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==i});if(t.nodeType)return Z.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(se.test(t))return Z.filter(t,e,i);t=Z.filter(t,e)}return Z.grep(e,function(e){return W.call(t,e)>=0!==i})}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Z.each(e.match(ue)||[],function(e,i){t[i]=!0}),t}function a(){Q.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Z.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(e,t,i){var r;if(void 0===i&&1===e.nodeType)if(r="data-"+t.replace(ve,"-$1").toLowerCase(),i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:we.test(i)?Z.parseJSON(i):i}catch(n){}ge.set(e,t,i)}else i=void 0;return i}function d(){return!0}function c(){return!1}function x(){try{return Q.activeElement}catch(e){}}function f(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function u(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var i=0,r=e.length;r>i;i++)me.set(e[i],"globalEval",!t||me.get(t[i],"globalEval"))}function p(e,t){var i,r,n,o,a,s,l,d;if(1===t.nodeType){if(me.hasData(e)&&(o=me.access(e),a=me.set(t,o),d=o.events)){delete a.handle,a.events={};for(n in d)for(i=0,r=d[n].length;r>i;i++)Z.event.add(t,n,d[n][i])}ge.hasData(e)&&(s=ge.access(e),l=Z.extend({},s),ge.set(t,l))}}function m(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],i):i}function g(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ne.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function w(t,i){var r,n=Z(i.createElement(t)).appendTo(i.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(n[0]))?r.display:Z.css(n[0],"display");return n.detach(),o}function v(e){var t=Q,i=Fe[e];return i||(i=w(e,t),"none"!==i&&i||(Oe=(Oe||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Oe[0].contentDocument,t.write(),t.close(),i=w(e,t),Oe.detach()),Fe[e]=i),i}function b(e,t,i){var r,n,o,a,s=e.style;return i=i||Ae(e),i&&(a=i.getPropertyValue(t)||i[t]),i&&(""!==a||Z.contains(e.ownerDocument,e)||(a=Z.style(e,t)),je.test(a)&&Ee.test(t)&&(r=s.width,n=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=r,s.minWidth=n,s.maxWidth=o)),void 0!==a?a+"":a}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),r=t,n=Ge.length;n--;)if(t=Ge[n]+i,t in e)return t;return r}function N(e,t,i){var r=ze.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function k(e,t,i,r,n){for(var o=i===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===i&&(a+=Z.css(e,i+Re[o],!0,n)),r?("content"===i&&(a-=Z.css(e,"padding"+Re[o],!0,n)),"margin"!==i&&(a-=Z.css(e,"border"+Re[o]+"Width",!0,n))):(a+=Z.css(e,"padding"+Re[o],!0,n),"padding"!==i&&(a+=Z.css(e,"border"+Re[o]+"Width",!0,n)));return a}function D(e,t,i){var r=!0,n="width"===t?e.offsetWidth:e.offsetHeight,o=Ae(e),a="border-box"===Z.css(e,"boxSizing",!1,o);if(0>=n||null==n){if(n=b(e,t,o),(0>n||null==n)&&(n=e.style[t]),je.test(n))return n;r=a&&(K.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+k(e,t,i||(a?"border":"content"),r,o)+"px"}function C(e,t){for(var i,r,n,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=me.get(r,"olddisplay"),i=r.style.display,t?(o[a]||"none"!==i||(r.style.display=""),""===r.style.display&&Se(r)&&(o[a]=me.access(r,"olddisplay",v(r.nodeName)))):(n=Se(r),"none"===i&&n||me.set(r,"olddisplay",n?i:Z.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function T(e,t,i,r,n){return new T.prototype.init(e,t,i,r,n)}function L(){return setTimeout(function(){Ke=void 0}),Ke=Z.now()}function q(e,t){var i,r=0,n={height:e};for(t=t?1:0;4>r;r+=2-t)i=Re[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function P(e,t,i){for(var r,n=(it[t]||[]).concat(it["*"]),o=0,a=n.length;a>o;o++)if(r=n[o].call(i,t,e))return r}function X(e,t,i){var r,n,o,a,s,l,d,c,x=this,f={},u=e.style,h=e.nodeType&&Se(e),y=me.get(e,"fxshow");i.queue||(s=Z._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,x.always(function(){x.always(function(){s.unqueued--,Z.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=Z.css(e,"display"),c="none"===d?me.get(e,"olddisplay")||v(e.nodeName):d,"inline"===c&&"none"===Z.css(e,"float")&&(u.display="inline-block")),i.overflow&&(u.overflow="hidden",x.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(r in t)if(n=t[r],Je.exec(n)){if(delete t[r],o=o||"toggle"===n,n===(h?"hide":"show")){if("show"!==n||!y||void 0===y[r])continue;h=!0}f[r]=y&&y[r]||Z.style(e,r)}else d=void 0;if(Z.isEmptyObject(f))"inline"===("none"===d?v(e.nodeName):d)&&(u.display=d);else{y?"hidden"in y&&(h=y.hidden):y=me.access(e,"fxshow",{}),o&&(y.hidden=!h),h?Z(e).show():x.done(function(){Z(e).hide()}),x.done(function(){var t;me.remove(e,"fxshow");for(t in f)Z.style(e,t,f[t])});for(r in f)a=P(h?y[r]:0,r,x),r in y||(y[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function Y(e,t){var i,r,n,o,a;for(i in e)if(r=Z.camelCase(i),n=t[r],o=e[i],Z.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==r&&(e[r]=o,delete e[i]),a=Z.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(i in o)i in e||(e[i]=o[i],t[i]=n)}else t[r]=n}function V(e,t,i){var r,n,o=0,a=tt.length,s=Z.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=Ke||L(),i=Math.max(0,d.startTime+d.duration-t),r=i/d.duration||0,o=1-r,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(o);return s.notifyWith(e,[d,o,i]),1>o&&l?i:(s.resolveWith(e,[d]),!1)},d=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Ke||L(),duration:i.duration,tweens:[],createTween:function(t,i){var r=Z.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(r),r},stop:function(t){var i=0,r=t?d.tweens.length:0;if(n)return this;for(n=!0;r>i;i++)d.tweens[i].run(1);return t?s.resolveWith(e,[d,t]):s.rejectWith(e,[d,t]),this}}),c=d.props;for(Y(c,d.opts.specialEasing);a>o;o++)if(r=tt[o].call(d,e,c,d.opts))return r;return Z.map(c,P,d),Z.isFunction(d.opts.start)&&d.opts.start.call(e,d),Z.fx.timer(Z.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function B(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,n=0,o=t.toLowerCase().match(ue)||[];if(Z.isFunction(i))for(;r=o[n++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(i)):(e[r]=e[r]||[]).push(i)}}function H(e,t,i,r){function n(s){var l;return o[s]=!0,Z.each(e[s]||[],function(e,s){var d=s(t,i,r);return"string"!=typeof d||a||o[d]?a?!(l=d):void 0:(t.dataTypes.unshift(d),n(d),!1)}),l}var o={},a=e===bt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function U(e,t){var i,r,n=Z.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((n[i]?e:r||(r={}))[i]=t[i]);return r&&Z.extend(!0,e,r),e}function M(e,t,i){for(var r,n,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(n in s)if(s[n]&&s[n].test(r)){l.unshift(n);break}if(l[0]in i)o=l[0];else{for(n in i){if(!l[0]||e.converters[n+" "+l[0]]){o=n;break}a||(a=n)}o=o||a}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function O(e,t,i,r){var n,o,a,s,l,d={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=d[l+" "+o]||d["* "+o],!a)for(n in d)if(s=n.split(" "),s[1]===o&&(a=d[l+" "+s[0]]||d["* "+s[0]])){a===!0?a=d[n]:d[n]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(x){return{state:"parsererror",error:a?x:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function F(e,t,i,r){var n;if(Z.isArray(t))Z.each(t,function(t,n){i||kt.test(e)?r(e,n):F(e+"["+("object"==typeof n?t:"")+"]",n,i,r)});else if(i||"object"!==Z.type(t))r(e,t);else for(n in t)F(e+"["+n+"]",t[n],i,r)}function E(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var j=[],A=j.slice,I=j.concat,z=j.push,W=j.indexOf,_={},$=_.toString,G=_.hasOwnProperty,K={},Q=e.document,J="2.1.1",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ie=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return A.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:A.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:z,sort:j.sort,splice:j.splice},Z.extend=Z.fn.extend=function(){var e,t,i,r,n,o,a=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[s]||{},s++),"object"==typeof a||Z.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],r=e[t],a!==r&&(d&&r&&(Z.isPlainObject(r)||(n=Z.isArray(r)))?(n?(n=!1,o=i&&Z.isArray(i)?i:[]):o=i&&Z.isPlainObject(i)?i:{},a[t]=Z.extend(d,o,r)):void 0!==r&&(a[t]=r));return a},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==Z.type(e)||e.nodeType||Z.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?_[$.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=Q.createElement("script"),t.text=e,Q.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ie,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var n,o=0,a=e.length,s=i(e);if(r){if(s)for(;a>o&&(n=t.apply(e[o],r),n!==!1);o++);else for(o in e)if(n=t.apply(e[o],r),n===!1)break}else if(s)for(;a>o&&(n=t.call(e[o],o,e[o]),n!==!1);o++);else for(o in e)if(n=t.call(e[o],o,e[o]),n===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(i(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):z.call(r,e)),r},inArray:function(e,t,i){return null==t?-1:W.call(t,e,i)},merge:function(e,t){for(var i=+t.length,r=0,n=e.length;i>r;r++)e[n++]=t[r];return e.length=n,e},grep:function(e,t,i){for(var r,n=[],o=0,a=e.length,s=!i;a>o;o++)r=!t(e[o],o),r!==s&&n.push(e[o]);return n},map:function(e,t,r){var n,o=0,a=e.length,s=i(e),l=[];if(s)for(;a>o;o++)n=t(e[o],o,r),null!=n&&l.push(n);else for(o in e)n=t(e[o],o,r),null!=n&&l.push(n);return I.apply([],l)},guid:1,proxy:function(e,t){var i,r,n;return"string"==typeof t&&(i=e[t],t=e,e=i),Z.isFunction(e)?(r=A.call(arguments,2),n=function(){return e.apply(t||this,r.concat(A.call(arguments)))},n.guid=e.guid=e.guid||Z.guid++,n):void 0},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){_["[object "+t+"]"]=t.toLowerCase()});var ne=function(e){function t(e,t,i,r){var n,o,a,s,l,d,x,u,h,y;if((t?t.ownerDocument||t:F)!==X&&P(t),t=t||X,i=i||[],!e||"string"!=typeof e)return i;if(1!==(s=t.nodeType)&&9!==s)return[];if(V&&!r){if(n=ge.exec(e))if(a=n[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return i;if(o.id===a)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&M(t,o)&&o.id===a)return i.push(o),i}else{if(n[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((a=n[3])&&b.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(a)),i}if(b.qsa&&(!B||!B.test(e))){if(u=x=O,h=t,y=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=k(e),(x=t.getAttribute("id"))?u=x.replace(ve,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=d.length;l--;)d[l]=u+f(d[l]);h=we.test(e)&&c(t.parentNode)||t,y=d.join(",")}if(y)try{return Z.apply(i,h.querySelectorAll(y)),i}catch(p){}finally{x||t.removeAttribute("id")}}}return C(e.replace(le,"$1"),t,i,r)}function i(){function e(i,r){return t.push(i+" ")>R.cacheLength&&delete e[t.shift()],e[i+" "]=r}var t=[];return e}function r(e){return e[O]=!0,e}function n(e){var t=X.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),r=e.length;r--;)R.attrHandle[i[r]]=t}function a(e,t){var i=t&&e,r=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return r(function(t){return t=+t,r(function(i,r){for(var n,o=e([],i.length,t),a=o.length;a--;)i[n=o[a]]&&(i[n]=!(r[n]=i[n]))})})}function c(e){return e&&typeof e.getElementsByTagName!==_&&e}function x(){}function f(e){for(var t=0,i=e.length,r="";i>t;t++)r+=e[t].value;return r}function u(e,t,i){var r=t.dir,n=i&&"parentNode"===r,o=j++;return t.first?function(t,i,o){for(;t=t[r];)if(1===t.nodeType||n)return e(t,i,o)}:function(t,i,a){var s,l,d=[E,o];if(a){for(;t=t[r];)if((1===t.nodeType||n)&&e(t,i,a))return!0}else for(;t=t[r];)if(1===t.nodeType||n){if(l=t[O]||(t[O]={}),(s=l[r])&&s[0]===E&&s[1]===o)return d[2]=s[2];if(l[r]=d,d[2]=e(t,i,a))return!0}}}function h(e){return e.length>1?function(t,i,r){for(var n=e.length;n--;)if(!e[n](t,i,r))return!1;return!0}:e[0]}function y(e,i,r){for(var n=0,o=i.length;o>n;n++)t(e,i[n],r);return r}function p(e,t,i,r,n){for(var o,a=[],s=0,l=e.length,d=null!=t;l>s;s++)(o=e[s])&&(!i||i(o,r,n))&&(a.push(o),d&&t.push(s));return a}function m(e,t,i,n,o,a){return n&&!n[O]&&(n=m(n)),o&&!o[O]&&(o=m(o,a)),r(function(r,a,s,l){var d,c,x,f=[],u=[],h=a.length,m=r||y(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:p(m,f,e,s,l),w=i?o||(r?e:h||n)?[]:a:g;if(i&&i(g,w,s,l),n)for(d=p(w,u),n(d,[],s,l),c=d.length;c--;)(x=d[c])&&(w[u[c]]=!(g[u[c]]=x));if(r){if(o||e){if(o){for(d=[],c=w.length;c--;)(x=w[c])&&d.push(g[c]=x);o(null,w=[],d,l)}for(c=w.length;c--;)(x=w[c])&&(d=o?te.call(r,x):f[c])>-1&&(r[d]=!(a[d]=x))}}else w=p(w===a?w.splice(h,w.length):w),o?o(null,a,w,l):Z.apply(a,w)})}function g(e){for(var t,i,r,n=e.length,o=R.relative[e[0].type],a=o||R.relative[" "],s=o?1:0,l=u(function(e){return e===t},a,!0),d=u(function(e){return te.call(t,e)>-1},a,!0),c=[function(e,i,r){return!o&&(r||i!==T)||((t=i).nodeType?l(e,i,r):d(e,i,r))}];n>s;s++)if(i=R.relative[e[s].type])c=[u(h(c),i)];else{if(i=R.filter[e[s].type].apply(null,e[s].matches),i[O]){for(r=++s;n>r&&!R.relative[e[r].type];r++);return m(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),i,r>s&&g(e.slice(s,r)),n>r&&g(e=e.slice(r)),n>r&&f(e))}c.push(i)}return h(c)}function w(e,i){var n=i.length>0,o=e.length>0,a=function(r,a,s,l,d){var c,x,f,u=0,h="0",y=r&&[],m=[],g=T,w=r||o&&R.find.TAG("*",d),v=E+=null==g?1:Math.random()||.1,b=w.length;for(d&&(T=a!==X&&a);h!==b&&null!=(c=w[h]);h++){if(o&&c){for(x=0;f=e[x++];)if(f(c,a,s)){l.push(c);break}d&&(E=v)}n&&((c=!f&&c)&&u--,r&&y.push(c))}if(u+=h,n&&h!==u){for(x=0;f=i[x++];)f(y,m,a,s);if(r){if(u>0)for(;h--;)y[h]||m[h]||(m[h]=Q.call(l));m=p(m)}Z.apply(l,m),d&&!r&&m.length>0&&u+i.length>1&&t.uniqueSort(l)}return d&&(E=v,T=g),y};return n?r(a):a}var v,b,R,S,N,k,D,C,T,L,q,P,X,Y,V,B,H,U,M,O="sizzle"+-new Date,F=e.document,E=0,j=0,A=i(),I=i(),z=i(),W=function(e,t){return e===t&&(q=!0),0},_="undefined",$=1<<31,G={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,Z=K.push,ee=K.slice,te=K.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ne.replace("w","w#"),ae="\\["+re+"*("+ne+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+oe+"))|)"+re+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",le=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),de=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),xe=new RegExp("="+re+"*([^\\]'\"]*?)"+re+"*\\]","g"),fe=new RegExp(se),ue=new RegExp("^"+oe+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ye=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,ve=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+re+"?|("+re+")|.)","ig"),Re=function(e,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Z.apply(K=ee.call(F.childNodes),F.childNodes),K[F.childNodes.length].nodeType}catch(Se){Z={apply:K.length?function(e,t){J.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,r=0;e[i++]=t[r++];);e.length=i-1}}}b=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:F,r=i.defaultView;return i!==X&&9===i.nodeType&&i.documentElement?(X=i,Y=i.documentElement,V=!N(i),r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",function(){P()},!1):r.attachEvent&&r.attachEvent("onunload",function(){P()})),b.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=n(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=me.test(i.getElementsByClassName)&&n(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),b.getById=n(function(e){return Y.appendChild(e).id=O,!i.getElementsByName||!i.getElementsByName(O).length}),b.getById?(R.find.ID=function(e,t){if(typeof t.getElementById!==_&&V){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},R.filter.ID=function(e){var t=e.replace(be,Re);return function(e){return e.getAttribute("id")===t}}):(delete R.find.ID,R.filter.ID=function(e){var t=e.replace(be,Re);return function(e){var i=typeof e.getAttributeNode!==_&&e.getAttributeNode("id");return i&&i.value===t}}),R.find.TAG=b.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==_?t.getElementsByTagName(e):void 0}:function(e,t){var i,r=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&r.push(i);return r}return o},R.find.CLASS=b.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==_&&V?t.getElementsByClassName(e):void 0},H=[],B=[],(b.qsa=me.test(i.querySelectorAll))&&(n(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&B.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||B.push("\\["+re+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||B.push(":checked")}),n(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&B.push("name"+re+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||B.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),B.push(",.*:")})),(b.matchesSelector=me.test(U=Y.matches||Y.webkitMatchesSelector||Y.mozMatchesSelector||Y.oMatchesSelector||Y.msMatchesSelector))&&n(function(e){b.disconnectedMatch=U.call(e,"div"),U.call(e,"[s!='']:x"),H.push("!=",se)}),B=B.length&&new RegExp(B.join("|")),H=H.length&&new RegExp(H.join("|")),t=me.test(Y.compareDocumentPosition),M=t||me.test(Y.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return q=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!b.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===F&&M(F,e)?-1:t===i||t.ownerDocument===F&&M(F,t)?1:L?te.call(L,e)-te.call(L,t):0:4&r?-1:1)}:function(e,t){if(e===t)return q=!0,0;var r,n=0,o=e.parentNode,s=t.parentNode,l=[e],d=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:L?te.call(L,e)-te.call(L,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)d.unshift(r);for(;l[n]===d[n];)n++;return n?a(l[n],d[n]):l[n]===F?-1:d[n]===F?1:0},i):X},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==X&&P(e),i=i.replace(xe,"='$1']"),!(!b.matchesSelector||!V||H&&H.test(i)||B&&B.test(i)))try{var r=U.call(e,i);if(r||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(n){}return t(i,X,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==X&&P(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==X&&P(e);var i=R.attrHandle[t.toLowerCase()],r=i&&G.call(R.attrHandle,t.toLowerCase())?i(e,t,!V):void 0;return void 0!==r?r:b.attributes||!V?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],r=0,n=0;if(q=!b.detectDuplicates,L=!b.sortStable&&e.slice(0),e.sort(W),q){for(;t=e[n++];)t===e[n]&&(r=i.push(n));for(;r--;)e.splice(i[r],1)}return L=null,e},S=t.getText=function(e){var t,i="",r=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[r++];)i+=S(t);return i},R=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,Re),e[3]=(e[3]||e[4]||e[5]||"").replace(be,Re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&fe.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,Re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&A(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==_&&e.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(n){var o=t.attr(n,e);return null==o?"!="===i:i?(o+="","="===i?o===r:"!="===i?o!==r:"^="===i?r&&0===o.indexOf(r):"*="===i?r&&o.indexOf(r)>-1:"$="===i?r&&o.slice(-r.length)===r:"~="===i?(" "+o+" ").indexOf(r)>-1:"|="===i?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,i,r,n){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var d,c,x,f,u,h,y=o!==a?"nextSibling":"previousSibling",p=t.parentNode,m=s&&t.nodeName.toLowerCase(),g=!l&&!s;if(p){if(o){for(;y;){for(x=t;x=x[y];)if(s?x.nodeName.toLowerCase()===m:1===x.nodeType)return!1;h=y="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?p.firstChild:p.lastChild],a&&g){for(c=p[O]||(p[O]={}),d=c[e]||[],u=d[0]===E&&d[1],f=d[0]===E&&d[2],x=u&&p.childNodes[u];x=++u&&x&&x[y]||(f=u=0)||h.pop();)if(1===x.nodeType&&++f&&x===t){c[e]=[E,u,f];break}}else if(g&&(d=(t[O]||(t[O]={}))[e])&&d[0]===E)f=d[1];else for(;(x=++u&&x&&x[y]||(f=u=0)||h.pop())&&((s?x.nodeName.toLowerCase()!==m:1!==x.nodeType)||!++f||(g&&((x[O]||(x[O]={}))[e]=[E,f]),x!==t)););return f-=n,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,i){var n,o=R.pseudos[e]||R.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[O]?o(i):o.length>1?(n=[e,e,"",i],R.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,n=o(e,i),a=n.length;a--;)r=te.call(e,n[a]),e[r]=!(t[r]=n[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:r(function(e){var t=[],i=[],n=D(e.replace(le,"$1"));return n[O]?r(function(e,t,i,r){for(var o,a=n(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:r(function(e){return function(i){return t(e,i).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,Re).toLowerCase(),function(t){var i;do if(i=V?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===Y},focus:function(e){return e===X.activeElement&&(!X.hasFocus||X.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!R.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return ye.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var r=0>i?i+t:i;--r>=0;)e.push(r);
return e}),gt:d(function(e,t,i){for(var r=0>i?i+t:i;++r<t;)e.push(r);return e})}},R.pseudos.nth=R.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[v]=s(v);for(v in{submit:!0,reset:!0})R.pseudos[v]=l(v);return x.prototype=R.filters=R.pseudos,R.setFilters=new x,k=t.tokenize=function(e,i){var r,n,o,a,s,l,d,c=I[e+" "];if(c)return i?0:c.slice(0);for(s=e,l=[],d=R.preFilter;s;){(!r||(n=de.exec(s)))&&(n&&(s=s.slice(n[0].length)||s),l.push(o=[])),r=!1,(n=ce.exec(s))&&(r=n.shift(),o.push({value:r,type:n[0].replace(le," ")}),s=s.slice(r.length));for(a in R.filter)!(n=he[a].exec(s))||d[a]&&!(n=d[a](n))||(r=n.shift(),o.push({value:r,type:a,matches:n}),s=s.slice(r.length));if(!r)break}return i?s.length:s?t.error(e):I(e,l).slice(0)},D=t.compile=function(e,t){var i,r=[],n=[],o=z[e+" "];if(!o){for(t||(t=k(e)),i=t.length;i--;)o=g(t[i]),o[O]?r.push(o):n.push(o);o=z(e,w(n,r)),o.selector=e}return o},C=t.select=function(e,t,i,r){var n,o,a,s,l,d="function"==typeof e&&e,x=!r&&k(e=d.selector||e);if(i=i||[],1===x.length){if(o=x[0]=x[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&b.getById&&9===t.nodeType&&V&&R.relative[o[1].type]){if(t=(R.find.ID(a.matches[0].replace(be,Re),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(n=he.needsContext.test(e)?0:o.length;n--&&(a=o[n],!R.relative[s=a.type]);)if((l=R.find[s])&&(r=l(a.matches[0].replace(be,Re),we.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(n,1),e=r.length&&f(o),!e)return Z.apply(i,r),i;break}}return(d||D(e,x))(r,t,!V,i,we.test(e)&&c(t.parentNode)||t),i},b.sortStable=O.split("").sort(W).join("")===O,b.detectDuplicates=!!q,P(),b.sortDetached=n(function(e){return 1&e.compareDocumentPosition(X.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(ie,function(e,t,i){var r;return i?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ne,Z.expr=ne.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ne.uniqueSort,Z.text=ne.getText,Z.isXMLDoc=ne.isXML,Z.contains=ne.contains;var oe=Z.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,i){var r=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,i=this.length,r=[],n=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;i>t;t++)if(Z.contains(n[t],this))return!0}));for(t=0;i>t;t++)Z.find(e,n[t],r);return r=this.pushStack(i>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var le,de=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var i,r;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:de.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Q,!0)),ae.test(i[1])&&Z.isPlainObject(t))for(i in t)Z.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=Q.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,le=Z(Q);var xe=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,i){for(var r=[],n=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&Z(e).is(i))break;r.push(e)}return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Z.fn.extend({has:function(e){var t=Z(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,r=0,n=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;n>r;r++)for(i=this[r];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?W.call(Z(e),this[0]):W.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Z.dir(e,"parentNode",i)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Z.dir(e,"previousSibling",i)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(i,r){var n=Z.map(this,t,i);return"Until"!==e.slice(-5)&&(r=i),r&&"string"==typeof r&&(n=Z.filter(r,n)),this.length>1&&(fe[e]||Z.unique(n),xe.test(e)&&n.reverse()),this.pushStack(n)}});var ue=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Z.extend({},e);var t,i,r,n,a,s,l=[],d=!e.once&&[],c=function(o){for(t=e.memory&&o,i=!0,s=n||0,n=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,l&&(d?d.length&&c(d.shift()):t?l=[]:x.disable())},x={add:function(){if(l){var i=l.length;!function o(t){Z.each(t,function(t,i){var r=Z.type(i);"function"===r?e.unique&&x.has(i)||l.push(i):i&&i.length&&"string"!==r&&o(i)})}(arguments),r?a=l.length:t&&(n=i,c(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var i;(i=Z.inArray(t,l,i))>-1;)l.splice(i,1),r&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=d=t=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,t||x.disable(),this},locked:function(){return!d},fireWith:function(e,t){return!l||i&&!d||(t=t||[],t=[e,t.slice?t.slice():t],r?d.push(t):c(t)),this},fire:function(){return x.fireWith(this,arguments),this},fired:function(){return!!i}};return x},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(i){Z.each(t,function(t,o){var a=Z.isFunction(e[t])&&e[t];n[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===r?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},n={};return r.pipe=r.then,Z.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),n[o[0]]=function(){return n[o[0]+"With"](this===n?r:this,arguments),this},n[o[0]+"With"]=a.fireWith}),r.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,r,n=0,o=A.call(arguments),a=o.length,s=1!==a||e&&Z.isFunction(e.promise)?a:0,l=1===s?e:Z.Deferred(),d=function(e,i,r){return function(n){i[e]=this,r[e]=arguments.length>1?A.call(arguments):n,r===t?l.notifyWith(i,r):--s||l.resolveWith(i,r)}};if(a>1)for(t=new Array(a),i=new Array(a),r=new Array(a);a>n;n++)o[n]&&Z.isFunction(o[n].promise)?o[n].promise().done(d(n,r,o)).fail(l.reject).progress(d(n,i,t)):--s;return s||l.resolveWith(r,o),l.promise()}});var ye;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ye.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(t){return ye||(ye=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),ye.promise(t)},Z.ready.promise();var pe=Z.access=function(e,t,i,r,n,o,a){var s=0,l=e.length,d=null==i;if("object"===Z.type(i)){n=!0;for(s in i)Z.access(e,t,s,i[s],!0,o,a)}else if(void 0!==r&&(n=!0,Z.isFunction(r)||(a=!0),d&&(a?(t.call(e,r),t=null):(d=t,t=function(e,t,i){return d.call(Z(e),i)})),t))for(;l>s;s++)t(e[s],i,a?r:r.call(e[s],s,t(e[s],i)));return n?e:d?t.call(e):l?t(e[0],i):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Z.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=s.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(r){t[this.expando]=i,Z.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var r,n=this.key(e),o=this.cache[n];if("string"==typeof t)o[t]=i;else if(Z.isEmptyObject(o))Z.extend(this.cache[n],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var r;return void 0===t||t&&"string"==typeof t&&void 0===i?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,r,n,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(n=Z.camelCase(t),t in a?r=[t,n]:(r=n,r=r in a?[r]:r.match(ue)||[])),i=r.length;for(;i--;)delete a[r[i]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var me=new s,ge=new s,we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ve=/([A-Z])/g;Z.extend({hasData:function(e){return ge.hasData(e)||me.hasData(e)},data:function(e,t,i){return ge.access(e,t,i)},removeData:function(e,t){ge.remove(e,t)},_data:function(e,t,i){return me.access(e,t,i)},_removeData:function(e,t){me.remove(e,t)}}),Z.fn.extend({data:function(e,t){var i,r,n,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(n=ge.get(o),1===o.nodeType&&!me.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(r=a[i].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),l(o,r,n[r])));me.set(o,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){ge.set(this,e)}):pe(this,function(t){var i,r=Z.camelCase(e);if(o&&void 0===t){if(i=ge.get(o,e),void 0!==i)return i;if(i=ge.get(o,r),void 0!==i)return i;if(i=l(o,r,void 0),void 0!==i)return i}else this.each(function(){var i=ge.get(this,r);ge.set(this,r,t),-1!==e.indexOf("-")&&void 0!==i&&ge.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ge.remove(this,e)})}}),Z.extend({queue:function(e,t,i){var r;return e?(t=(t||"fx")+"queue",r=me.get(e,t),i&&(!r||Z.isArray(i)?r=me.access(e,t,Z.makeArray(i)):r.push(i)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Z.queue(e,t),r=i.length,n=i.shift(),o=Z._queueHooks(e,t),a=function(){Z.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return me.get(e,i)||me.access(e,i,{empty:Z.Callbacks("once memory").add(function(){me.remove(e,[t+"queue",i])})})}}),Z.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):void 0===t?this:this.each(function(){var i=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,r=1,n=Z.Deferred(),o=this,a=this.length,s=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=me.get(o[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(s));return s(),n.promise(t)}});var be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Re=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i;!function(){var e=Q.createDocumentFragment(),t=e.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),K.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";K.focusinBubbles="onfocusin"in e;var De=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,i,r,n){var o,a,s,l,d,c,x,f,u,h,y,p=me.get(e);if(p)for(i.handler&&(o=i,i=o.handler,n=o.selector),i.guid||(i.guid=Z.guid++),(l=p.events)||(l=p.events={}),(a=p.handle)||(a=p.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ue)||[""],d=t.length;d--;)s=Le.exec(t[d])||[],u=y=s[1],h=(s[2]||"").split(".").sort(),u&&(x=Z.event.special[u]||{},u=(n?x.delegateType:x.bindType)||u,x=Z.event.special[u]||{},c=Z.extend({type:u,origType:y,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&Z.expr.match.needsContext.test(n),namespace:h.join(".")},o),(f=l[u])||(f=l[u]=[],f.delegateCount=0,x.setup&&x.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(u,a,!1)),x.add&&(x.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),n?f.splice(f.delegateCount++,0,c):f.push(c),Z.event.global[u]=!0)},remove:function(e,t,i,r,n){var o,a,s,l,d,c,x,f,u,h,y,p=me.hasData(e)&&me.get(e);if(p&&(l=p.events)){for(t=(t||"").match(ue)||[""],d=t.length;d--;)if(s=Le.exec(t[d])||[],u=y=s[1],h=(s[2]||"").split(".").sort(),u){for(x=Z.event.special[u]||{},u=(r?x.delegateType:x.bindType)||u,f=l[u]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!n&&y!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,x.remove&&x.remove.call(e,c));a&&!f.length&&(x.teardown&&x.teardown.call(e,h,p.handle)!==!1||Z.removeEvent(e,u,p.handle),delete l[u])}else for(u in l)Z.event.remove(e,u+t[d],i,r,!0);Z.isEmptyObject(l)&&(delete p.handle,me.remove(e,"events"))}},trigger:function(t,i,r,n){var o,a,s,l,d,c,x,f=[r||Q],u=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!Te.test(u+Z.event.triggered)&&(u.indexOf(".")>=0&&(h=u.split("."),u=h.shift(),h.sort()),d=u.indexOf(":")<0&&"on"+u,t=t[Z.expando]?t:new Z.Event(u,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:Z.makeArray(i,[t]),x=Z.event.special[u]||{},n||!x.trigger||x.trigger.apply(r,i)!==!1)){if(!n&&!x.noBubble&&!Z.isWindow(r)){for(l=x.delegateType||u,Te.test(l+u)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||Q)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?l:x.bindType||u,c=(me.get(a,"events")||{})[t.type]&&me.get(a,"handle"),c&&c.apply(a,i),c=d&&a[d],c&&c.apply&&Z.acceptData(a)&&(t.result=c.apply(a,i),t.result===!1&&t.preventDefault());return t.type=u,n||t.isDefaultPrevented()||x._default&&x._default.apply(f.pop(),i)!==!1||!Z.acceptData(r)||d&&Z.isFunction(r[u])&&!Z.isWindow(r)&&(s=r[d],s&&(r[d]=null),Z.event.triggered=u,r[u](),Z.event.triggered=void 0,s&&(r[d]=s)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,i,r,n,o,a=[],s=A.call(arguments),l=(me.get(this,"events")||{})[e.type]||[],d=Z.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=Z.event.handlers.call(this,e,l),t=0;(n=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,i=0;(o=n.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,r,n,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(r=[],i=0;s>i;i++)o=t[i],n=o.selector+" ",void 0===r[n]&&(r[n]=o.needsContext?Z(n,this).index(l)>=0:Z.find(n,this,null,[l]).length),r[n]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,r,n,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||Q,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,i,r,n=e.type,o=e,a=this.fixHooks[n];for(a||(this.fixHooks[n]=a=Ce.test(n)?this.mouseHooks:De.test(n)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new Z.Event(o),t=r.length;t--;)i=r[t],e[i]=o[i];return e.target||(e.target=Q),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==x()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===x()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,r){var n=Z.extend(new Z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(n,null,t):Z.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,n=e.relatedTarget,o=e.handleObj;return(!n||n!==r&&!Z.contains(r,n))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,n=me.access(r,t);n||r.addEventListener(e,i,!0),me.access(r,t,(n||0)+1)},teardown:function(){var r=this.ownerDocument||this,n=me.access(r,t)-1;n?me.access(r,t,n):(r.removeEventListener(e,i,!0),me.remove(r,t))}}}),Z.fn.extend({on:function(e,t,i,r,n){var o,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(a in e)this.on(a,t,i,e[a],n);return this}if(null==i&&null==r?(r=t,i=t=void 0):null==r&&("string"==typeof t?(r=i,i=void 0):(r=i,i=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===n&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,i,t)})},one:function(e,t,i,r){return this.on(e,t,i,r,1)},off:function(e,t,i){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=c),this.each(function(){Z.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Z.event.trigger(e,t,i,!0):void 0}});var qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pe=/<([\w:]+)/,Xe=/<|&#?\w+;/,Ye=/<(?:script|style|link)/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^$|\/(?:java|ecma)script/i,He=/^true\/(.*)/,Ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Z.extend({clone:function(e,t,i){var r,n,o,a,s=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(K.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(a=m(s),o=m(e),r=0,n=o.length;n>r;r++)g(o[r],a[r]);if(t)if(i)for(o=o||m(e),a=a||m(s),r=0,n=o.length;n>r;r++)p(o[r],a[r]);else p(e,s);return a=m(s,"script"),a.length>0&&y(a,!l&&m(e,"script")),s},buildFragment:function(e,t,i,r){for(var n,o,a,s,l,d,c=t.createDocumentFragment(),x=[],f=0,u=e.length;u>f;f++)if(n=e[f],n||0===n)if("object"===Z.type(n))Z.merge(x,n.nodeType?[n]:n);else if(Xe.test(n)){for(o=o||c.appendChild(t.createElement("div")),a=(Pe.exec(n)||["",""])[1].toLowerCase(),s=Me[a]||Me._default,o.innerHTML=s[1]+n.replace(qe,"<$1></$2>")+s[2],d=s[0];d--;)o=o.lastChild;Z.merge(x,o.childNodes),o=c.firstChild,o.textContent=""}else x.push(t.createTextNode(n));for(c.textContent="",f=0;n=x[f++];)if((!r||-1===Z.inArray(n,r))&&(l=Z.contains(n.ownerDocument,n),o=m(c.appendChild(n),"script"),l&&y(o),i))for(d=0;n=o[d++];)Be.test(n.type||"")&&i.push(n);return c},cleanData:function(e){for(var t,i,r,n,o=Z.event.special,a=0;void 0!==(i=e[a]);a++){if(Z.acceptData(i)&&(n=i[me.expando],n&&(t=me.cache[n]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(i,r):Z.removeEvent(i,r,t.handle);me.cache[n]&&delete me.cache[n]}delete ge.cache[i[ge.expando]]}}}),Z.fn.extend({text:function(e){return pe(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,r=e?Z.filter(e,this):this,n=0;null!=(i=r[n]);n++)t||1!==i.nodeType||Z.cleanData(m(i)),i.parentNode&&(t&&Z.contains(i.ownerDocument,i)&&y(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return pe(this,function(e){var t=this[0]||{},i=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ye.test(e)&&!Me[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(qe,"<$1></$2>");try{for(;r>i;i++)t=this[i]||{},1===t.nodeType&&(Z.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(n){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=I.apply([],e);var i,r,n,o,a,s,l=0,d=this.length,c=this,x=d-1,f=e[0],y=Z.isFunction(f);if(y||d>1&&"string"==typeof f&&!K.checkClone&&Ve.test(f))return this.each(function(i){var r=c.eq(i);y&&(e[0]=f.call(this,i,r.html())),r.domManip(e,t)});if(d&&(i=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=i.firstChild,1===i.childNodes.length&&(i=r),r)){for(n=Z.map(m(i,"script"),u),o=n.length;d>l;l++)a=i,l!==x&&(a=Z.clone(a,!0,!0),o&&Z.merge(n,m(a,"script"))),t.call(this[l],a,l);if(o)for(s=n[n.length-1].ownerDocument,Z.map(n,h),l=0;o>l;l++)a=n[l],Be.test(a.type||"")&&!me.access(a,"globalEval")&&Z.contains(s,a)&&(a.src?Z._evalUrl&&Z._evalUrl(a.src):Z.globalEval(a.textContent.replace(Ue,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var i,r=[],n=Z(e),o=n.length-1,a=0;o>=a;a++)i=a===o?this:this.clone(!0),Z(n[a])[t](i),z.apply(r,i.get());return this.pushStack(r)}});var Oe,Fe={},Ee=/^margin/,je=new RegExp("^("+be+")(?!px)[a-z%]+$","i"),Ae=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",n.appendChild(o);var t=e.getComputedStyle(a,null);i="1%"!==t.top,r="4px"===t.width,n.removeChild(o)}var i,r,n=Q.documentElement,o=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,i=a.appendChild(Q.createElement("div"));return i.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",a.style.width="1px",n.appendChild(o),t=!parseFloat(e.getComputedStyle(i,null).marginRight),n.removeChild(o),t}}))}(),Z.swap=function(e,t,i,r){var n,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,r||[]);for(o in t)e.style[o]=a[o];return n};var Ie=/^(none|table(?!-c[ea]).+)/,ze=new RegExp("^("+be+")(.*)$","i"),We=new RegExp("^([+-])=("+be+")","i"),_e={position:"absolute",visibility:"hidden",display:"block"},$e={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=b(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,s=Z.camelCase(t),l=e.style;return t=Z.cssProps[s]||(Z.cssProps[s]=S(l,s)),a=Z.cssHooks[t]||Z.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(n=a.get(e,!1,r))?n:l[t]:(o=typeof i,"string"===o&&(n=We.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(Z.css(e,t)),o="number"),void(null!=i&&i===i&&("number"!==o||Z.cssNumber[s]||(i+="px"),K.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,r))||(l[t]=i))))}},css:function(e,t,i,r){var n,o,a,s=Z.camelCase(t);return t=Z.cssProps[s]||(Z.cssProps[s]=S(e.style,s)),a=Z.cssHooks[t]||Z.cssHooks[s],a&&"get"in a&&(n=a.get(e,!0,i)),void 0===n&&(n=b(e,t,r)),"normal"===n&&t in $e&&(n=$e[t]),""===i||i?(o=parseFloat(n),i===!0||Z.isNumeric(o)?o||0:n):n}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,i,r){return i?Ie.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,_e,function(){return D(e,t,r)}):D(e,t,r):void 0},set:function(e,i,r){var n=r&&Ae(e);return N(e,i,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,n),n):0)}}}),Z.cssHooks.marginRight=R(K.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},b,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(i){for(var r=0,n={},o="string"==typeof i?i.split(" "):[i];4>r;r++)n[e+Re[r]+t]=o[r]||o[r-2]||o[0];return n}},Ee.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return pe(this,function(e,t,i){var r,n,o={},a=0;if(Z.isArray(t)){for(r=Ae(e),n=t.length;n>a;a++)o[t[a]]=Z.css(e,t[a],!1,r);return o}return void 0!==i?Z.style(e,t,i):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=T,T.prototype={constructor:T,init:function(e,t,i,r,n,o){this.elem=e,this.prop=i,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,i=T.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={
_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=T.prototype.init,Z.fx.step={};var Ke,Qe,Je=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+be+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[X],it={"*":[function(e,t){var i=this.createTween(e,t),r=i.cur(),n=Ze.exec(t),o=n&&n[3]||(Z.cssNumber[e]?"":"px"),a=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(i.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],n=n||[],a=+r||1;do s=s||".5",a/=s,Z.style(i.elem,e,a+o);while(s!==(s=i.cur()/r)&&1!==s&&--l)}return n&&(a=i.start=+a||+r||0,i.unit=o,i.end=n[1]?a+(n[1]+1)*n[2]:+n[2]),i}]};Z.Animation=Z.extend(V,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,r=0,n=e.length;n>r;r++)i=e[r],it[i]=it[i]||[],it[i].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,i){var r=e&&"object"==typeof e?Z.extend({},e):{complete:i||!i&&t||Z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,i,r){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var n=Z.isEmptyObject(e),o=Z.speed(t,i,r),a=function(){var t=V(this,Z.extend({},e),o);(n||me.get(this,"finish"))&&t.stop(!0)};return a.finish=a,n||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Z.timers,a=me.get(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&et.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=me.get(this),r=i[e+"queue"],n=i[e+"queueHooks"],o=Z.timers,a=r?r.length:0;for(i.finish=!0,Z.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var i=Z.fn[t];Z.fn[t]=function(e,r,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(q(t,!0),e,r,n)}}),Z.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,i=Z.timers;for(Ke=Z.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Z.fx.stop(),Ke=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Qe||(Qe=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Qe),Qe=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,e);i.stop=function(){clearTimeout(r)}})},function(){var e=Q.createElement("input"),t=Q.createElement("select"),i=t.appendChild(Q.createElement("option"));e.type="checkbox",K.checkOn=""!==e.value,K.optSelected=i.selected,t.disabled=!0,K.optDisabled=!i.disabled,e=Q.createElement("input"),e.value="t",e.type="radio",K.radioValue="t"===e.value}();var rt,nt,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return pe(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,i){var r,n,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===ke?Z.prop(e,t,i):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?nt:rt)),void 0===i?r&&"get"in r&&null!==(n=r.get(e,t))?n:(n=Z.find.attr(e,t),null==n?void 0:n):null!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):void Z.removeAttr(e,t)):void 0},removeAttr:function(e,t){var i,r,n=0,o=t&&t.match(ue);if(o&&1===e.nodeType)for(;i=o[n++];)r=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(e[r]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!K.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),nt={set:function(e,t,i){return t===!1?Z.removeAttr(e,i):e.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var n,o;return r||(o=ot[t],ot[t]=n,n=null!=i(e,t,r)?t.toLowerCase():null,ot[t]=o),n}});var at=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return pe(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var r,n,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,n=Z.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:e[t]=i:n&&"get"in n&&null!==(r=n.get(e,t))?r:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,i,r,n,o,a,s="string"==typeof e&&e,l=0,d=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ue)||[];d>l;l++)if(i=this[l],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(st," "):" ")){for(o=0;n=t[o++];)r.indexOf(" "+n+" ")<0&&(r+=n+" ");a=Z.trim(r),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,r,n,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,d=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(ue)||[];d>l;l++)if(i=this[l],r=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(st," "):"")){for(o=0;n=t[o++];)for(;r.indexOf(" "+n+" ")>=0;)r=r.replace(" "+n+" "," ");a=e?Z.trim(r):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(i){Z(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,r=0,n=Z(this),o=e.match(ue)||[];t=o[r++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(i===ke||"boolean"===i)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||e===!1?"":me.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,r=this.length;r>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,i,r,n=this[0];return arguments.length?(r=Z.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=r?e.call(this,i,Z(this).val()):e,null==n?n="":"number"==typeof n?n+="":Z.isArray(n)&&(n=Z.map(n,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=Z.valHooks[n.type]||Z.valHooks[n.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(lt,""):null==i?"":i)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,i,r=e.options,n=e.selectedIndex,o="select-one"===e.type||0>n,a=o?null:[],s=o?n+1:r.length,l=0>n?s:o?n:0;s>l;l++)if(i=r[l],!(!i.selected&&l!==n||(K.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var i,r,n=e.options,o=Z.makeArray(t),a=n.length;a--;)r=n[a],(r.selected=Z.inArray(r.value,o)>=0)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},K.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var dt=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(r){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var xt,ft,ut=/#.*$/,ht=/([?&])_=[^&]*/,yt=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,vt={},bt={},Rt="*/".concat("*");try{ft=location.href}catch(St){ft=Q.createElement("a"),ft.href="",ft=ft.href}xt=wt.exec(ft.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft,type:"GET",isLocal:pt.test(xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,Z.ajaxSettings),t):U(Z.ajaxSettings,e)},ajaxPrefilter:B(vt),ajaxTransport:B(bt),ajax:function(e,t){function i(e,t,i,a){var l,c,m,g,v,R=t;2!==w&&(w=2,s&&clearTimeout(s),r=void 0,o=a||"",b.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(g=M(x,b,i)),g=O(x,g,b,l),l?(x.ifModified&&(v=b.getResponseHeader("Last-Modified"),v&&(Z.lastModified[n]=v),v=b.getResponseHeader("etag"),v&&(Z.etag[n]=v)),204===e||"HEAD"===x.type?R="nocontent":304===e?R="notmodified":(R=g.state,c=g.data,m=g.error,l=!m)):(m=R,(e||!R)&&(R="error",0>e&&(e=0))),b.status=e,b.statusText=(t||R)+"",l?h.resolveWith(f,[c,R,b]):h.rejectWith(f,[b,R,m]),b.statusCode(p),p=void 0,d&&u.trigger(l?"ajaxSuccess":"ajaxError",[b,x,l?c:m]),y.fireWith(f,[b,R]),d&&(u.trigger("ajaxComplete",[b,x]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,n,o,a,s,l,d,c,x=Z.ajaxSetup({},t),f=x.context||x,u=x.context&&(f.nodeType||f.jquery)?Z(f):Z.event,h=Z.Deferred(),y=Z.Callbacks("once memory"),p=x.statusCode||{},m={},g={},w=0,v="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=yt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=g[i]=g[i]||e,m[e]=t),this},overrideMimeType:function(e){return w||(x.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)p[t]=[p[t],e[t]];else b.always(e[b.status]);return this},abort:function(e){var t=e||v;return r&&r.abort(t),i(0,t),this}};if(h.promise(b).complete=y.add,b.success=b.done,b.error=b.fail,x.url=((e||x.url||ft)+"").replace(ut,"").replace(gt,xt[1]+"//"),x.type=t.method||t.type||x.method||x.type,x.dataTypes=Z.trim(x.dataType||"*").toLowerCase().match(ue)||[""],null==x.crossDomain&&(l=wt.exec(x.url.toLowerCase()),x.crossDomain=!(!l||l[1]===xt[1]&&l[2]===xt[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(xt[3]||("http:"===xt[1]?"80":"443")))),x.data&&x.processData&&"string"!=typeof x.data&&(x.data=Z.param(x.data,x.traditional)),H(vt,x,t,b),2===w)return b;d=x.global,d&&0===Z.active++&&Z.event.trigger("ajaxStart"),x.type=x.type.toUpperCase(),x.hasContent=!mt.test(x.type),n=x.url,x.hasContent||(x.data&&(n=x.url+=(ct.test(n)?"&":"?")+x.data,delete x.data),x.cache===!1&&(x.url=ht.test(n)?n.replace(ht,"$1_="+dt++):n+(ct.test(n)?"&":"?")+"_="+dt++)),x.ifModified&&(Z.lastModified[n]&&b.setRequestHeader("If-Modified-Since",Z.lastModified[n]),Z.etag[n]&&b.setRequestHeader("If-None-Match",Z.etag[n])),(x.data&&x.hasContent&&x.contentType!==!1||t.contentType)&&b.setRequestHeader("Content-Type",x.contentType),b.setRequestHeader("Accept",x.dataTypes[0]&&x.accepts[x.dataTypes[0]]?x.accepts[x.dataTypes[0]]+("*"!==x.dataTypes[0]?", "+Rt+"; q=0.01":""):x.accepts["*"]);for(c in x.headers)b.setRequestHeader(c,x.headers[c]);if(x.beforeSend&&(x.beforeSend.call(f,b,x)===!1||2===w))return b.abort();v="abort";for(c in{success:1,error:1,complete:1})b[c](x[c]);if(r=H(bt,x,t,b)){b.readyState=1,d&&u.trigger("ajaxSend",[b,x]),x.async&&x.timeout>0&&(s=setTimeout(function(){b.abort("timeout")},x.timeout));try{w=1,r.send(m,i)}catch(R){if(!(2>w))throw R;i(-1,R)}}else i(-1,"No Transport");return b},getJSON:function(e,t,i){return Z.get(e,t,i,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,i,r,n){return Z.isFunction(i)&&(n=n||r,r=i,i=void 0),Z.ajax({url:e,type:t,dataType:n,data:i,success:r})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(i){Z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Nt=/%20/g,kt=/\[\]$/,Dt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var i,r=[],n=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){n(this.name,this.value)});else for(i in e)F(i,e[i],t,n);return r.join("&").replace(Nt,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Tt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:i.replace(Dt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Lt=0,qt={},Pt={0:200,1223:204},Xt=Z.ajaxSettings.xhr();e.ActiveXObject&&Z(e).on("unload",function(){for(var e in qt)qt[e]()}),K.cors=!!Xt&&"withCredentials"in Xt,K.ajax=Xt=!!Xt,Z.ajaxTransport(function(e){var t;return K.cors||Xt&&!e.crossDomain?{send:function(i,r){var n,o=e.xhr(),a=++Lt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)o[n]=e.xhrFields[n];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(n in i)o.setRequestHeader(n,i[n]);t=function(e){return function(){t&&(delete qt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(Pt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=qt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(r,n){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&n("error"===e.type?404:200,e.type)}),Q.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Yt=[],Vt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||Z.expando+"_"+dt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,i,r){var n,o,a,s=t.jsonp!==!1&&(Vt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Vt,"$1"+n):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return a||Z.error(n+" was not called"),a[0]},t.dataTypes[0]="json",o=e[n],e[n]=function(){a=arguments},r.always(function(){e[n]=o,t[n]&&(t.jsonpCallback=i.jsonpCallback,Yt.push(n)),a&&Z.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Q;var r=ae.exec(e),n=!i&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,n),n&&n.length&&Z(n).remove(),Z.merge([],r.childNodes))};var Bt=Z.fn.load;Z.fn.load=function(e,t,i){if("string"!=typeof e&&Bt)return Bt.apply(this,arguments);var r,n,o,a=this,s=e.indexOf(" ");return s>=0&&(r=Z.trim(e.slice(s)),e=e.slice(0,s)),Z.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(n="POST"),a.length>0&&Z.ajax({url:e,type:n,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ht=e.document.documentElement;Z.offset={setOffset:function(e,t,i){var r,n,o,a,s,l,d,c=Z.css(e,"position"),x=Z(e),f={};"static"===c&&(e.style.position="relative"),s=x.offset(),o=Z.css(e,"top"),l=Z.css(e,"left"),d=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,d?(r=x.position(),a=r.top,n=r.left):(a=parseFloat(o)||0,n=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+n),"using"in t?t.using.call(e,f):x.css(f)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,i,r=this[0],n={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(n=r.getBoundingClientRect()),i=E(o),{top:n.top+i.pageYOffset-t.clientTop,left:n.left+i.pageXOffset-t.clientLeft}):n):void 0},position:function(){if(this[0]){var e,t,i=this[0],r={top:0,left:0};return"fixed"===Z.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(i,"marginTop",!0),left:t.left-r.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ht;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ht})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var r="pageYOffset"===i;Z.fn[t]=function(n){return pe(this,function(t,n,o){var a=E(t);return void 0===o?a?a[i]:t[n]:void(a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[n]=o)},t,n,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=R(K.pixelPosition,function(e,i){return i?(i=b(e,t),je.test(i)?Z(e).position()[t]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,r){Z.fn[r]=function(r,n){var o=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||n===!0?"margin":"border");return pe(this,function(t,i,r){var n;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===r?Z.css(t,i,a):Z.style(t,i,r,a)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Ut=e.jQuery,Mt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Mt),t&&e.jQuery===Z&&(e.jQuery=Ut),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z}),define("enginevars",["jquery"],function(e){var t=function(){function t(){i.gameCVS=e("#cvs"),i.hudCVS=e("#hud-cvs"),i.fovHalf=i.fovAngle/2,i.tanFovHalf=Math.tan(i.fovHalf),i.tanFovHalfY=Math.tan(i.fovHalf*i.screenRatio),i.distToProjSurf=Math.abs(i.canvasSize.x/i.tanFovHalf)}var i={frameDeltaLimit:50,maxNum:99999,worldSize:{x:1024,y:1024,z:1024},cvsID:"cvs",gameCVS:null,hudCVS:null,canvasSize:{x:400,y:300},nearClip:1,farClip:2048,fovAngle:1.74533,fovHalf:0,screenRatio:.75,tanFovHalf:0,tanFovHalfY:0,wallHeight:64,cameraHeight:32,cameraHeightDeadOffset:-24,cameraBobAmount:2.5,cameraBobSpeed:.6,distToProjSurf:0,playerCollisionRadius:16,playerSoftCollisionRadius:20,playerSoftCollisionMult:.5,maxScaledMovementStep:8,propCollisionRadius:16,pathNodeSeparation:64,pathNodeCollisionRadius:16,collisionZeroThreshold:.01,effectSurfaceOffset:10,pathingBaseMovementCost:1,playerCanPushNpcs:!1,playerHealth:50,playerArmour:150,playerHitCooldown:20,hudUnitsPerBar:10};return t(),{init:t,get:function(e){return i.hasOwnProperty(e)?i[e]:void 0}}}();return t}),define("assets",["enginevars"],function(e){var t=function(){function e(){var e=[];for(var t in s)s.hasOwnProperty(t)&&(s[t].loaded||e.push(t));return e}function t(i){var r=s[i];r.img=new Image,r.img.src=r.path,r.img.onload=function(){n.width=this.width,n.height=this.height,o.drawImage(this,0,0,this.width,this.height),r.pixels=o.getImageData(0,0,this.width,this.height).data,o.fillStyle="rgba(0,0,0,0.0)",o.fillRect(0,0,n.width,n.height),r.loaded=!0,console.log('MESSAGE: MOD_AssetLoader: loaded asset "'+i+'"');var s=e();s.length>0?t(s[0]):(a=!0,console.log("MESSAGE: MOD_AssetLoader: all assets loaded."))}}function i(){var i=e();t(i[0])}function r(e){if("undefined"==typeof e)return s;for(var t in s)if(s.hasOwnProperty(t)&&e==t)return s[t]}var n=document.createElement("canvas"),o=n.getContext("2d"),a=!1,s={pistol:{type:"thing",path:"img/hud/sprites/weapons/pistol_sheet_v2.png",img:null,pixels:null,texSizeX:1024,texSizeY:1024},pistol_fullbrights:{type:"thing",path:"img/hud/sprites/weapons/pistol_sheet_fullbrights_v2.png",img:null,pixels:null,texSizeX:1024,texSizeY:1024},bullethit:{type:"thing",path:"img/hud/sprites/weapons/effects/bullethit.png",img:null,pixels:null,texSizeX:96,texSizeY:96},deadtree01:{type:"thing",path:"img/env/sprites/deadtree01.png",img:null,pixels:null,texSizeX:140,texSizeY:140},barrel01:{type:"thing",path:"img/env/sprites/barrel01.png",img:null,pixels:null,texSizeX:32,texSizeY:32},stalactite01:{type:"thing",path:"img/env/sprites/stalactite01b.png",img:null,pixels:null,texSizeX:32,texSizeY:32},monster01:{type:"thing",path:"img/env/sprites/monster01_sheet.png",img:null,pixels:null,texSizeX:1024,texSizeY:1024},telepath:{type:"thing",path:"img/env/sprites/telepath_sheet_v5.png",img:null,pixels:null,texSizeX:1024,texSizeY:1024},walldev64:{type:"wall",path:"img/env/wall_dev_64.png",img:null,pixels:null,texSizeX:64,texSizeY:64},greenmetal64:{type:"wall",path:"img/env/doom_wall_greenmetal_64.png",img:null,pixels:null,texSizeX:64,texSizeY:64},greenmetalhole64:{type:"wall",path:"img/env/doom_wall_greenmetalhole_64.png",img:null,pixels:null,texSizeX:64,texSizeY:64},blackhex64:{type:"flat",path:"img/env/doom_floor_blackhex_64.png",img:null,pixels:null,texSizeX:64,texSizeY:64},wolfdoorsilver64:{type:"wall",path:"img/env/wolf_door_silver_64.png",img:null,pixels:null,texSizeX:64,texSizeY:64},woodlion:{type:"wall",path:"img/env/doom_wall_woodlion.png",img:null,pixels:null,texSizeX:120,texSizeY:112},floorearth64:{type:"flat",path:"img/env/doom_floor_earth.png",img:null,pixels:null,texSizeX:64,texSizeY:64},floorlavacracks64:{type:"flat",path:"img/env/doom_stone_floor_lava.png",img:null,pixels:null,texSizeX:64,texSizeY:64},water64:{type:"flat",path:"img/env/doom_floor_water.png",img:null,pixels:null,texSizeX:64,texSizeY:64},stonebrick64:{type:"wall",path:"img/env/doom_stone_brick.png",img:null,pixels:null,texSizeX:64,texSizeY:64},woodwalltrans:{type:"wall",path:"img/env/woodwall_transtest.png",img:null,pixels:null,texSizeX:120,texSizeY:112},light64:{type:"flat",path:"img/env/light-64.png",img:null,pixels:null,texSizeX:64,texSizeY:64},skyred:{type:"sky",path:"img/env/sky-red.png",img:null,pixels:null,texSizeX:2048,texSizeY:256},space:{type:"sky",path:"img/env/sky-space.png",img:null,pixels:null,texSizeX:2048,texSizeY:256}};return{init:i,get:r,allLoaded:function(){return a}}}();return t}),define("time",["enginevars"],function(e){var t=function(){function t(){return Date.now()}function i(e){e>o&&(e=o),r=e/16.7,n=e}var r=0,n=0,o=e.get("frameDeltaLimit");return{getCurrent:t,setDeltaTime:i,getDeltaTime:function(){return r},getDeltaMS:function(){return n}}}();return t}),define("input",["jquery","enginevars","time"],function(e,t,i){var r=function(){function r(e){return c.hasOwnProperty(e)?c[e]:void 0}function n(){x.deltaPos.x=0,x.deltaPos.y=0}function o(){if(navigator.getGamepads){var e=navigator.getGamepads();if(e.length>0&&"undefined"!=typeof e[0]){var t=e[0];f.leftStick.fwd=t.axes[1]<=-f.stickThreshold,f.leftStick.back=t.axes[1]>=f.stickThreshold,f.leftStick.right=t.axes[0]>=f.stickThreshold,f.leftStick.left=t.axes[0]<=-f.stickThreshold,f.leftStick.btn=t.buttons[10].pressed,f.leftStick.axisFwdBack=t.axes[1],f.leftStick.axisLeftRight=t.axes[0],f.rightStick.fwd=t.axes[3]<=-f.stickThreshold,f.rightStick.back=t.axes[3]>=f.stickThreshold,f.rightStick.right=t.axes[2]>=f.stickThreshold,f.rightStick.left=t.axes[2]<=-f.stickThreshold,f.rightStick.btn=t.buttons[11].pressed,f.rightStick.axisFwdBack=t.axes[3],f.rightStick.axisLeftRight=t.axes[2],f.btnStart=t.buttons[9].pressed,f.btnBack=t.buttons[8].pressed,f.btnA=t.buttons[0].pressed,f.btnB=t.buttons[1].pressed,f.btnX=t.buttons[2].pressed,f.btnY=t.buttons[3].pressed,f.rTrigger=t.buttons[7].pressed,f.rBumper=t.buttons[5].pressed,f.lTrigger=t.buttons[6].pressed,f.lBumper=t.buttons[4].pressed,f.dPad.fwd=t.buttons[12].pressed,f.dPad.back=t.buttons[13].pressed,f.dPad.left=t.buttons[14].pressed,f.dPad.right=t.buttons[15].pressed}}}function a(){x.deltaPos.x=x.frameDeltaPos.x,x.frameDeltaPos.x=0}function s(){o(),a()}function l(){n()}function d(){var r=t.get("hudCVS");r.on("click",function(e){this.requestPointerLock=this.requestPointerLock||this.mozRequestPointerLock||this.webkitRequestPointerLock,this.requestPointerLock()}),e(document).on("pointerlockchange",function(e){document.pointerLockElement===r[0]||document.webkitPointerLockElement===r[0]||document.mozPointerLockElement===r[0]?x.locked=!0:x.locked=!1}),e(document).on("mousemove",function(e){if(x.locked){var t=void 0;"undefined"!=typeof e.originalEvent.movementX?t=e.originalEvent.movementX:"undefined"!=typeof e.originalEvent.webkitMovementX?t=e.originalEvent.webkitMovementX:"undefined"!=typeof e.originalEvent.mozMovementX&&(t=e.originalEvent.mozMovementX),x.frameDeltaPos.x+="undefined"==typeof t?0:t*i.getDeltaTime()}}),e("#toggle-collision").text("Collision "+(u?"on":"off")),e("#toggle-collision").on("click",function(t){u=!u,e("#toggle-collision").text("Collision "+(u?"on":"off"))})}var c={w:!1,a:!1,s:!1,d:!1,up:!1,lt:!1,dn:!1,rt:!1,ctrl:!1,shift:!1,alt:!1,space:!1,r:!1,num1:!1,num2:!1,num3:!1,num4:!1,num5:!1,num6:!1,num7:!1,num8:!1,num9:!1,num0:!1,del:!1},x={locked:!1,down:!1,leftBtn:!1,rightBtn:!1,pos:{x:0,y:0},worldPos:{x:0,y:0},deltaPos:{x:0,y:0},frameDeltaPos:{x:0,y:0}},f={stickThreshold:.2,leftStick:{fwd:!1,right:!1,back:!1,left:!1,btn:!1,axisLeftRight:0,axisFwdBack:0},rightStick:{fwd:!1,right:!1,back:!1,left:!1,btn:!1,axisLeftRight:0,axisFwdBack:0},dPad:{fwd:!1,right:!1,back:!1,left:!1},btnStart:!1,btnBack:!1,btnA:!1,btnB:!1,btnX:!1,btnY:!1,rTrigger:!1,lTrigger:!1,rBumper:!1,lBumper:!1},u=!0;Date.now();return e(document).ready(function(){e(window).on("keydown",function(e){switch(e.which){case 87:c.w=!0;break;case 65:c.a=!0;break;case 83:c.s=!0;break;case 68:c.d=!0;break;case 38:e.preventDefault(),c.up=!0;break;case 37:c.lt=!0;break;case 40:e.preventDefault(),c.dn=!0;break;case 39:c.rt=!0;break;case 17:c.ctrl=!0;break;case 16:c.shift=!0;break;case 18:c.alt=!0;break;case 32:e.preventDefault(),c.space=!0;break;case 82:e.preventDefault(),c.r=!0;break;case 49:c.num1=!0;break;case 50:c.num2=!0;break;case 51:c.num3=!0;break;case 52:c.num4=!0;break;case 53:c.num5=!0;break;case 54:c.num6=!0;break;case 55:c.num7=!0;break;case 56:c.num8=!0;break;case 57:c.num9=!0;break;case 48:c.num0=!0;break;case 46:c.del=!0}}),e(window).on("keyup",function(e){switch(e.which){case 87:c.w=!1;break;case 65:c.a=!1;break;case 83:c.s=!1;break;case 68:c.d=!1;break;case 38:c.up=!1;break;case 37:c.lt=!1;break;case 40:c.dn=!1;break;case 39:c.rt=!1;break;case 17:c.ctrl=!1;break;case 16:c.shift=!1;break;case 18:c.alt=!1;break;case 32:c.space=!1;break;case 82:c.r=!1;break;case 49:c.num1=!1;break;case 50:c.num2=!1;break;case 51:c.num3=!1;break;case 52:c.num4=!1;break;case 53:c.num5=!1;break;case 54:c.num6=!1;break;case 55:c.num7=!1;break;case 56:c.num8=!1;break;case 57:c.num9=!1;break;case 48:c.num0=!1;break;case 46:c.del=!1}}),e(window).on("mousedown",function(e){
switch(e.which){case 1:x.leftBtn=!0;break;case 2:x.rightBtn=!0}}),e(window).on("mouseup",function(e){switch(e.which){case 1:x.leftBtn=!1;break;case 2:x.rightBtn=!1}})}),d(),{getKeyStates:function(){return c},getMouseStates:function(){return x},getPadStates:function(){return f},getKeyState:r,getCollisionOn:function(){return u},update:s,reset:l}}();return r}),define("vector2",[],function(){var e=function(){function e(e){return e*D}function t(e){return e*C}function i(e){var t=(R(e),b(e));return{x:t,y:t}}function r(e){return t(N(e.y,e.x))}function n(e){return N(e.y,e.x)}function o(e){var t=e.x,i=e.y;return k(t*t+i*i)}function a(e){var t=o(e);return 0==t?{x:0,y:0}:{x:e.x/t,y:e.y/t}}function s(e,t){return e.x*t.x+e.y*t.y}function l(e,t){var i=a,n=r;e=i(e),t=i(t);var o=n(e),s=n(t),l=s-o;return l>180?l-=360:-180>l&&(l+=360),l}function d(e,t){var i=N;return i(t.y,t.x)-i(e.y,e.x)}function c(e,i){var r=a,n=o;e=r(e),i=r(i);var l=s(e,i),d=n(e),c=n(i),x=l/(d*c);return x>1?x=1:-1>x&&(x=-1),t(S(x))}function x(e,t){var i=a,r=o;e=i(e),t=i(t);var n=s(e,t),l=r(e),d=r(t),c=n/(l*d);return c>1?c=1:-1>c&&(c=-1),S(c)}function f(e,t){var i=R(t),r=b(t);return{x:e.x*i-e.y*r,y:e.y*i+e.x*r}}function u(t,i){return f(t,e(i))}function h(e,t,i){return u(i*c(e,t))}function y(e,t){return{x:e.x*t,y:e.y*t}}function p(e,t,i){return{x:t.x*i+e.x,y:t.y*i+e.y}}function m(e,t){return{x:t.x-e.x,y:t.y-e.y}}function g(e,t){return{x:e.x+t.x,y:e.y+t.y}}function w(e,t){return{x:e.x*t,y:e.y*t}}function p(e,t,i){return{x:t.x*i+e.x,y:t.y*i+e.y}}function v(e,t){var i=s,r=a(t);return w(r,i(e,r)/i(r,r))}var b=Math.sin,R=Math.cos,S=(Math.tan,Math.atan,Math.acos),N=Math.atan2,k=Math.sqrt,D=Math.PI/180,C=180/Math.PI,T=function(e,t){return"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=0),{x:e,y:t}};return{New:T,degreesToVector:i,degreesFromVector:r,radiansFromVector:n,angleBetweenVectors:c,radiansBetweenVectors:x,signedAngleBetweenVectors:l,signedRadiansBetweenVectors:d,vectorToDestination:m,rotateByDegrees:u,rotateByRadians:f,rotationLERP:h,translationLERP:y,getMagnitude:o,sumVectors:g,normalise:a,scaleVector:w,getRenderablePoint:p,dotProduct:s,degreesToRadians:e,getProjectedVector:v}}();return e}),define("collision",["vector2","enginevars"],function(e,t){var i=function(){function i(e,t){return e.x>=t.x&&e.x<=t.x+t.w&&e.y>=t.y&&e.y<=t.y+t.h?!0:!1}function r(e,t){var i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)<=t.rad}function n(e,t){return e.x+e.w<t.x||e.x>t.x+t.w||e.y+e.h<t.y||e.y>t.y+t.h?!1:!0}function o(e,t){return e.x>t.x&&e.y>t.y&&e.x+e.w<t.x+t.w&&e.y+e.h<t.y+t.h}function a(e,t,i,r){var n=i.x-e.x,o=i.y-e.y;return Math.sqrt(n*n+o*o)<t+r}function s(e,t,i,r,o,a,s,l,d){var c=Math.abs,x={x:i>e?e:i,y:r>t?t:r,w:c(i-e),h:c(r-t)},f={x:s>o?o:s,y:l>a?a:l,w:c(s-o),h:c(l-a)};if(!("undefined"!=typeof d&&d||n(x,f)))return{result:!1,ib_result:null};var u=r-t,h=l-a,y=e-i,p=o-s,m=u*e+y*t,g=h*o+p*a,w=u*p-h*y,v=(p*m-y*g)/w,b=(u*g-h*m)/w,R=x.w>0?(v-e)/(i-e):(b-t)/(r-t),S=f.w>0?(v-o)/(s-o):(b-a)/(l-a);return 0>=R||R>1||0>=S||S>1?{result:!1,ib_result:!0,intersect:{x:v,y:b}}:{result:!0,ib_result:!0,intersect:{x:v,y:b}}}function l(e,t,i,r,n,o,a,s){var l=L,d={x:i>e?e:i,y:r>t?t:r,w:l(i-e),h:l(r-t)},c={x:a>n?n:a,y:s>o?o:s,w:l(a-n),h:l(s-o)},x=d.x,f=d.y,u=d.w,h=d.h,y=c.x,p=c.y,m=c.w,g=c.h;if(y>x+u||x>y+m||p>f+h||f>p+g)return!1;var w=r-t,v=s-o,b=e-i,R=n-a,S=w*e+b*t,N=v*n+R*o,k=w*R-v*b,D=(R*S-b*N)/k,C=(w*N-v*S)/k,T=d.w>0?(D-e)/(i-e):(C-t)/(r-t),q=c.w>0?(D-n)/(a-n):(C-o)/(s-o);return 0>=T||T>1||0>=q||q>1?!1:{result:!0,x:D,y:C}}function d(e,t,r,o,a){var s={x:e.x<=t.x?e.x:t.x,y:e.y<=t.y?e.y:t.y,w:e.x<=t.x?t.x-e.x:e.x-t.x,h:e.y<=t.y?t.y-e.y:e.y-t.y},l={x:r.x-o,y:r.y-o,w:2*o,h:2*o};if(!n(s,l))return{result:!1};var d=999999,c=-999999,x={x:e.x,y:e.y},f={x:t.x,y:t.y},u=o,h=r.x,y=r.y,p=(f.y-x.y)/(f.x-x.x);p>d?p=d:c>p&&(p=c);var m=x.y-p*x.x,g=p*p+1,w=2*((m-y)*p)-2*h,v=h*h+(m-y)*(m-y)-u*u,b=g/g,R=w/g,S=v/g,N=R*R-4*b*S;if(0>N)return{result:!1};var k=(-R+Math.sqrt(N))/(2*b),D=(-R-Math.sqrt(N))/(2*b);Ya=p*k+m,Yb=p*D+m;var C=[{x:k,y:Ya},{x:D,y:Yb}];return C[0].x==C[1].x&&C[0].y==C[1].y&&C.pop(),("undefined"==typeof a||!a)&&(s.x-=1,s.y-=1,s.w+=2,s.h+=2,C.length>0&&(i(C[0],s)||C.splice(0,1)),C.length>1&&(i(C[1],s)||C.splice(1,1)),C.length<1)?{result:!1}:{result:!0,intersectPoints:C}}function c(e,t,i){for(var r={x:i.x-1,y:i.y-1},n=0,o=0;o<t.length;o++){var a=s(r.x,r.y,e.x,e.y,t[o].start.x,t[o].start.y,t[o].end.x,t[o].end.y);1==a.result&&n++}return n%2>0?!0:!1}function x(e,t){return o(e.bBox,t.bBox)}function f(e,t){for(var i=0;i<t.length;i++){var r=s(e.start.x,e.start.y,e.end.x,e.end.y,t[i].start.x,t[i].start.y,t[i].end.x,t[i].end.y);if(r.result)return!0}return!1}function u(e,t,i){var r=d(t.wall.start,t.wall.end,e,i+1,!0);if(0==r.result)return console.log("WARNING: MOD_Collision.getAverageVector : ubCol.result is false at nextPos ("+e.x+","+e.y+"). This is a known unfixed bug."),t.intersectPoints[0];if(r.intersectPoints.length>1){r.intersectPoints[1].x-r.intersectPoints[0].x,r.intersectPoints[1].y-r.intersectPoints[0].y;return{x:(r.intersectPoints[0].x+r.intersectPoints[1].x)/2,y:(r.intersectPoints[0].y+r.intersectPoints[1].y)/2}}return{x:r.intersectPoints[0].x,y:r.intersectPoints[0].y}}function h(t,i,r,n,o,a){var s=n.resVec,l={x:t.x+s.x,y:t.y+s.y},d=p(l,o,i,r);if(0==d.length)return n;if(a>D||(0==s.x||s.x<0&&s.x>-k||s.x>0&&s.x<k)&&(0==s.y||s.y<0&&s.y>-k||s.y>0&&s.y<k))return a>D&&console.log("Warning: max recursions exceeded - Wall collision"),s.x=0,s.y=0,n.resVec=s,n;for(var c=0;c<d.length;c++){d[c].avgIsect=u(l,d[c],o);var x=d[c].avgIsect.x-t.x,f=d[c].avgIsect.y-t.y;d[c].distToAvgIsect=Math.sqrt(x*x+f*f)}d.sort(function(e,t){return e.distToAvgIsect-t.distToAvgIsect});var y=d[0],m={x:y.avgIsect.x-l.x,y:y.avgIsect.y-l.y},g=o-e.getMagnitude(m),w=e.scaleVector(e.normalise(m),g);if(0>=g)return console.log("penetration magnitude lte zero! (actual value is "+g+")"),n;var v=e.radiansBetweenVectors(w,s),b=g/Math.cos(v),R=e.scaleVector(e.normalise(s),b),S={x:s.x-1.05*R.x,y:s.y-1.05*R.y},N=e.getProjectedVector(R,{x:y.wall.end.x-y.wall.start.x,y:y.wall.end.y-y.wall.start.y});return s=e.sumVectors(S,N),(isNaN(s.x)||isNaN(s.y))&&console.log("ERROR: MOD_Collision.getResolutionWalls : resVec component is NaN"),n.result=!0,n.resVec=s,h(t,i,r,n,o,++a)}function y(t,i,r,n,o){var a={x:t.x+r.x,y:t.y+r.y},s=g(a,n,i);if(o>D||0==s.length||(0==r.x||r.x<0&&r.x>-k||r.x>0&&r.x<k)&&(0==r.y||r.y<0&&r.y>-k||r.y>0&&r.y<k))return o>D&&(console.log("Warning: max recursions exceeded - Prop collision"),r.x=0,r.y=0),r;for(var l=0;l<s.length;l++){var d=s[l].pos.x-t.x,c=s[l].pos.y-t.y;s[l].distToCenter=Math.sqrt(d*d+c*c),s[l].vecToCenter={x:d,y:c}}s.sort(function(e,t){return e.distToCenter-t.distToCenter});var x=s[0],f=e.rotateByRadians(x.vecToCenter,1.57079633),u=e.getProjectedVector(r,f);return(isNaN(u.x)||isNaN(u.y))&&console.log("ERROR: MOD_Collision.getResolutionProps : resVec component is NaN"),y(t,i,u,n,++o)}function p(t,i,r,n){for(var o=[],a=0;a<n.length;a++)if(n[a].solid){var s={x:n[a].start.x-t.x,y:n[a].start.y-t.y},l=d(n[a].start,n[a].end,t,i);if(1==l.result){var c=l.intersectPoints[0].x-t.x,x=l.intersectPoints[0].y-t.y;o.push({wall:n[a],dist:Math.sqrt(c*c+x*x),intersectPoints:l.intersectPoints})}}for(var f=0;f<r.length;f++)for(var u=0;u<r[f].lineDefs.length;u++)if(r[f].lineDefs[u].solid){if(r[f].lineDefs[u].inwardSides.left&&r[f].lineDefs[u].inwardSides.right){var l=d(r[f].lineDefs[u].start,r[f].lineDefs[u].end,t,i);if(1==l.result){var c=l.intersectPoints[0].x-t.x,x=l.intersectPoints[0].y-t.y;o.push({wall:r[f].lineDefs[u],dist:Math.sqrt(c*c+x*x),intersectPoints:l.intersectPoints})}}else{var h,s={x:r[f].lineDefs[u].start.x-t.x,y:r[f].lineDefs[u].start.y-t.y};if(h=r[f].lineDefs[u].collisionInverted?r[f].lineDefs[u].inwardSides.left?r[f].lineDefs[u].sides.rightNormal:r[f].lineDefs[u].sides.leftNormal:r[f].lineDefs[u].inwardSides.left?r[f].lineDefs[u].sides.leftNormal:r[f].lineDefs[u].sides.rightNormal,e.radiansBetweenVectors(s,h)>1.57079633){var l=d(r[f].lineDefs[u].start,r[f].lineDefs[u].end,t,i);if(1==l.result){var c=l.intersectPoints[0].x-t.x,x=l.intersectPoints[0].y-t.y;o.push({wall:r[f].lineDefs[u],dist:Math.sqrt(c*c+x*x),intersectPoints:l.intersectPoints})}}}}return o}function m(e,t,i){var r=d(i.start,i.end,e,t);return r.result}function g(e,t,i){for(var r=[],n=0;n<i.length;n++){var o=i[n];if(o.isSolid&&(!T||!o.isNPC)){var s=a(o.pos,o.colRad,e,t);1==s&&r.push(o)}}return r}function w(e,t,i){for(var r=[],n=0;n<i.length;n++){var o=i[n];if(o.isSolid&&o.isNPC){var s=a(o.pos,S,e,t);1==s&&r.push(o.npc)}}return r}function v(e,t){for(var i={result:!1,others:[]},r=0;r<t.length;r++){var o=t[r];if(o.isSolid&&o.isNPC){var s=o.npc;if(s==e)continue;n({x:e.movement.pos.x-S,y:e.movement.pos.y-S,w:N,h:N},{x:s.movement.pos.x-S,y:s.movement.pos.y-S,w:N,h:N})&&a(e.movement.pos,S,s.movement.pos,S)&&(i.result=!0,i.others.push(s))}}return i}function b(e,t,i,r){for(var o=0;o<r.length;o++)if(r[o].opaque){var a=s(e.x,e.y,t.x,t.y,r[o].start.x,r[o].start.y,r[o].end.x,r[o].end.y);if(1==a.result)return{result:!1,intersect:a.intersect}}for(var l=0;l<i.length;l++){var d={x:e.x<=t.x?e.x:t.x,y:e.y<=t.y?e.y:t.y,w:e.x<=t.x?t.x-e.x:e.x-t.x,h:e.y<=t.y?t.y-e.y:e.y-t.y};if(0!=n(d,i[l].bBox))for(var c=0;c<i[l].lineDefs.length;c++)if(i[l].lineDefs[c].opaque){var a=s(e.x,e.y,t.x,t.y,i[l].lineDefs[c].start.x,i[l].lineDefs[c].start.y,i[l].lineDefs[c].end.x,i[l].lineDefs[c].end.y);if(1==a.result)return{result:!1,intersect:a.intersect}}}return{result:!0}}function R(e,t,i,o,a,l){var c=[],x=l.getPos(),f=l.getCollisionRadius(),u=r(e,{x:x.x,y:x.y,rad:f});if(!u){var h=d(e,t,x,f,!1);if(h.result){if(h.intersectPoints.length>1){var y=h.intersectPoints[0],p=h.intersectPoints[1],m=y.x-e.x,g=y.y-e.y,w=p.x-e.x,v=p.y-e.y,b=Math.sqrt(m*m+g*g),R=Math.sqrt(w*w+v*v);h.intersect=R>b?y:p}else h.intersect=h.intersectPoints[0];console.log("weapon ray hit player"),h.objRef=l,h.typeHit="player",c.push(h)}}for(var S=0;S<a.length;S++){var N=a[S];if(N.solidToProjectiles){if(N.isNPC){var k=r(e,{x:N.pos.x,y:N.pos.y,rad:N.projectileColRad});if(k)continue}var h=d(e,t,N.pos,N.projectileColRad,!1);if(h.result){if(h.intersectPoints.length>1){var y=h.intersectPoints[0],p=h.intersectPoints[1],m=y.x-e.x,g=y.y-e.y,w=p.x-e.x,v=p.y-e.y,b=Math.sqrt(m*m+g*g),R=Math.sqrt(w*w+v*v);h.intersect=R>b?y:p}else h.intersect=h.intersectPoints[0];h.objRef=N,N.isNPC?h.typeHit="npc":h.typeHit="prop",c.push(h)}}}for(var D=0;D<o.length;D++){var T=o[D];if(T.solid){var h=s(e.x,e.y,t.x,t.y,T.start.x,T.start.y,T.end.x,T.end.y);h.result&&(h.typeHit="door",h.objRef=T,c.push(h))}}for(var L=0;L<i.length;L++){var q=i[L],P={x:e.x<=t.x?e.x:t.x,y:e.y<=t.y?e.y:t.y,w:e.x<=t.x?t.x-e.x:e.x-t.x,h:e.y<=t.y?t.y-e.y:e.y-t.y};if(0!=n(P,i[L].bBox))for(var X=0;X<q.lineDefs.length;X++){var Y=q.lineDefs[X];if(Y.solid){var h=s(e.x,e.y,t.x,t.y,Y.start.x,Y.start.y,Y.end.x,Y.end.y);h.result&&(h.typeHit="wall",h.objRef=Y,c.push(h))}}}if(c.length>0){for(var V={typeHit:"notset",coord:{x:0,y:0},dist:C},B=0;B<c.length;B++){var H=c[B],U=H.intersect.x-e.x,M=H.intersect.y-e.y,O=Math.sqrt(U*U+M*M);O<V.dist&&(V.typeHit=H.typeHit,V.objRef=H.objRef,V.dist=O,V.coord.x=H.intersect.x,V.coord.y=H.intersect.y)}return V}return{result:!1}}var S=t.get("propCollisionRadius"),N=2*S,k=t.get("collisionZeroThreshold"),D=10,C=t.get("maxNum"),T=t.get("playerCanPushNpcs"),L=Math.abs;return{collidingPointWithRect:i,collidingPointWithCircle:r,intersectsLineWithLine:s,intersectsLineWithLineOptimised:l,intersectsLineWithCircle:d,pointInPolygon:c,sectorWithinSector:x,intersectsSegWithSegs:f,getResolutionProps:y,getResolutionWalls:h,checkCollisionsPlayerLinedefs:p,checkCollisionsPlayerSeg:m,checkCollisionsPlayerThings:g,checkCollisionsPlayerNpcs:w,checkCollisionsNpcNpcs:v,lineOfSight:b,weaponRay:R}}();return i}),define("sprite",["enginevars","time","vector2"],function(e,t,i){var r=function(){function e(e,r){var o={sheetTex:e.sheetTex,hasOrientations:e.hasOrientations,frameCoords:e.frameCoords,sourceScale:e.sourceScale,frameSequences:e.frameSequences,frameElapsed:0,currentSequence:0,currentFrame:0,parentThing:r};for(var a in o.frameSequences)if(o.frameSequences.hasOwnProperty(a)){for(var s=0,l=0;l<o.frameSequences[a].frames.length;l++)s+=o.frameSequences[a].frames[l].duration;o.frameSequences[a].duration=s}return o.update=function(e){var i=t.getDeltaTime();o.frameElapsed<o.frameSequences[o.currentSequence].frames[o.currentFrame].duration?o.frameElapsed+=i:(o.currentFrame<o.frameSequences[o.currentSequence].frames.length-1?o.currentFrame++:o.frameSequences[o.currentSequence].loop&&(o.currentFrame=0),o.frameElapsed=0),n=e},o.getCurrentFrame=function(){var e;if(o.hasOrientations){var t={x:o.parentThing.pos.x-n.x,y:o.parentThing.pos.y-n.y},r=i.signedAngleBetweenVectors(t,o.parentThing.fwd),a="notset";switch(!0){case-157.5>=r||r>157.5:a="north";break;case-112.5>=r&&r>-157.5:a="northwest";break;case-67.5>=r&&r>-112.5:a="west";break;case-22.5>=r&&r>-67.5:a="southwest";break;case 22.5>=r&&r>-22.5:a="south";break;case 67.5>=r&&r>22.5:a="southeast";break;case 112.5>=r&&r>67.5:a="east";break;case 157.5>=r&&r>112.5:a="northeast";break;default:a="north"}e=o.frameCoords.orientation[a].frames[o.frameSequences[o.currentSequence].frames[o.currentFrame].frame]}else e=o.frameCoords[o.frameSequences[o.currentSequence].frames[o.currentFrame].frame];return{sheetTex:o.sheetTex,frameCoords:e}},o.switchSequence=function(e){var t=0;for(var i in o.frameSequences){if(o.frameSequences[i].name==e)return o.currentSequence=t,void(o.currentFrame=0);t++}console.log("ERROR: sprite.switchAnim : sequence name not recognised")},o}var r=document.createElement("canvas"),n=(r.getContext("2d"),{x:0,y:0});return{sprite:e}}();return r}),define("effects",["enginevars","time","assets","sprite"],function(e,t,i,r){var n=function(){function e(e,n){var a={effectType:e.effectType,pos:n,anchor:e.anchor,duration:e.duration,age:0},s=e.spriteInfo;s.sheetTex=i.get(e.effectType),a.sprite=r.sprite(s,a),a.update=function(e){var i=t.getDeltaTime();a.age+=i,a.sprite.update(e)},o.push(a)}function n(e){for(var t=[],i=0;i<o.length;i++){var r=o[i];r.update(e),r.age>r.duration&&t.push(i)}for(var n=0;n<t.length;n++)o.splice(t[n],1)}var o=[];return{effect:e,update:n,get:function(){return o}}}();return n}),define("effectdefs",["enginevars"],function(e){var t=function(){function e(e){if("undefined"==typeof e)return t;for(var i in t)if(t.hasOwnProperty(i)&&t[i])return t[i]}var t={bullethit:{effectType:"bullethit",duration:40,anchor:"central",spriteInfo:{sheetTex:null,sourceScale:1,hasOrientations:!1,frameCoords:{bullethit1:{x:2,y:2,w:3,h:60},bullethit2:{x:9,y:2,w:5,h:60},bullethit3:{x:16,y:2,w:12,h:60},bullethit4:{x:30,y:2,w:15,h:60},bullethit5:{x:47,y:2,w:16,h:60},bullethit6:{x:65,y:2,w:17,h:60}},frameSequences:[{name:"bullethit",loop:!1,frames:[{frame:"bullethit1",duration:2},{frame:"bullethit2",duration:2},{frame:"bullethit3",duration:4},{frame:"bullethit4",duration:4},{frame:"bullethit5",duration:3},{frame:"bullethit6",duration:3}]}]}}};return{get:e}}();return t}),define("weapon",["enginevars","assets","time","sprite","vector2","collision","effects","effectdefs"],function(e,t,i,r,n,o,a,s){var l=function(){function l(e,l,x,f,u){var h="undefined"==typeof u?!1:u;if(h&&!e.playerCanOwn)return void console.log("ERROR: tried to give player a weapon type they cannot own");if(!h&&!e.npcsCanOwn)return void console.log("ERROR: tried to give NPC a weapon type they cannot own");var y={type:e.type,playerOwned:h,effectType:e.effectType,sceneData:null,parentPos:l,parentFwd:x,playerRef:f,ammo:{finite:e.ammo.finite,type:e.ammo.type,mag:{capacity:e.ammo.capacity.mag,current:e.ammo.capacity.mag},total:{capacity:e.ammo.capacity.total,current:e.ammo.capacity.total}},states:{idle:"idle",firing:"firing",reloading:"reloading"},hudCoords:e.hudCoords,damage:e.damage,range:e.range,reloadTime:e.reloadTime,rateOfFire:e.rateOfFire,autoMode:e.autoMode,timeSinceFiring:e.rateOfFire,timeSinceReloading:e.reloadTime,firingLocked:!1,sprite:null,fullbrightsSheet:null};if(y.currentState=y.states.idle,y.playerOwned){var p=e.spriteInfo;p.sheetTex=t.get(e.type),y.fullbrightsSheet=t.get(e.type+"_fullbrights"),y.sprite=r.sprite(e.spriteInfo,y)}return y.fire=function(){!y.firingLocked&&y.currentState!=y.states.reloading&&y.timeSinceFiring>=y.rateOfFire&&(y.ammo.mag.current>0||!y.ammo.finite)&&(y.switchState(y.states.firing),(0==y.autoMode||1==y.autoMode)&&(y.firingLocked=!0))},y.playImpactEffect=function(e){var t={x:e.x-y.parentPos.x,y:e.y-y.parentPos.y},i=n.scaleVector(n.normalise(t),-1),i=n.scaleVector(i,c),r=n.sumVectors(t,i),o=n.sumVectors(r,y.parentPos);a.effect(s.get(y.effectType),o)},y.fireProjectile=function(){var e=n.scaleVector(n.normalise(y.parentFwd),y.range),t=o.weaponRay(y.parentPos,{x:y.parentPos.x+e.x,y:y.parentPos.y+e.y},y.sceneData.sectors,y.sceneData.doors,y.sceneData.things,y.playerRef);switch(t.typeHit){case"wall":y.playImpactEffect(t.coord);break;case"door":y.playImpactEffect(t.coord);break;case"prop":y.playImpactEffect(t.coord),t.objRef.projectileHit(y.damage,e);break;case"npc":t.objRef.projectileHit(y.damage,e);break;case"player":console.log("Player hit by projectile. If this happens when you are firing your own weapon, something is wrong."),t.objRef.projectileHit(y.damage,e)}y.ammo.finite&&y.ammo.mag.current--},y.unlock=function(){y.firingLocked=!1},y.reload=function(){y.ammo.mag.current<y.ammo.mag.capacity&&y.currentState!=y.states.reloading&&y.ammo.total.current>0&&y.switchState(y.states.reloading)},y.switchState=function(e){switch(e){case y.states.idle:y.currentState=y.states[e],y.playerOwned&&(0==y.ammo.mag.current?y.sprite.switchSequence("out"):y.sprite.switchSequence("idle"));break;case y.states.firing:y.timeSinceFiring=0,y.currentState=y.states[e],y.playerOwned&&(1==y.ammo.mag.current?y.sprite.switchSequence("firinglast"):y.sprite.switchSequence("firing")),y.fireProjectile();break;case y.states.reloading:y.timeSinceReloading=0,y.currentState=y.states[e],y.playerOwned&&y.sprite.switchSequence("reloading")}},y.stateActions=function(){switch(y.currentState){case y.states.firing:y.timeSinceFiring>y.rateOfFire&&y.switchState(y.states.idle);break;case y.states.reloading:if(y.timeSinceReloading>y.reloadTime){if(y.ammo.total.current>0)if(y.ammo.total.current>=y.ammo.mag.capacity){var e=y.ammo.mag.capacity-y.ammo.mag.current;y.ammo.mag.current=y.ammo.mag.capacity,y.ammo.total.current-=e}else y.ammo.mag.current=y.ammo.total.current,y.ammo.total.current=0;y.switchState(y.states.idle)}}},y.update=function(e){d=i.getDeltaTime(),y.sceneData=e,y.timeSinceFiring+=d,y.timeSinceReloading+=d,y.stateActions(),y.playerOwned&&y.sprite.update(y.parentPos)},y}var d=i.getDeltaTime(),c=e.get("effectSurfaceOffset");return{weapon:l}}();return l}),define("weapondefs",["enginevars"],function(e){var t=function(){var t=e.get("canvasSize"),i={pistol:{type:"pistol",playerCanOwn:!0,npcsCanOwn:!0,effectType:"bullethit",ammo:{finite:!0,type:"bullet",capacity:{mag:15,total:150}},damage:10,range:1024,reloadTime:50,autoMode:1,rateOfFire:8,hudCoords:{x:t.x,y:t.y},spriteInfo:{sheetTex:null,hasOrientations:!1,frameCoords:{1:{x:0,y:0,w:137,h:126},2:{x:137,y:0,w:148,h:126},3:{x:285,y:0,w:158,h:126},4:{x:443,y:0,w:137,h:126},5:{x:580,y:0,w:136,h:126},6:{x:716,y:0,w:138,h:126},7:{x:854,y:0,w:103,h:130},8:{x:0,y:126,w:102,h:130},9:{x:102,y:126,w:121,h:130},10:{x:223,y:126,w:102,h:130}},frameSequences:[{name:"idle",loop:!0,frames:[{frame:"1",duration:60}]},{name:"out",loop:!0,frames:[{frame:"6",duration:60}]},{name:"firing",loop:!1,frames:[{frame:"1",duration:1},{frame:"3",duration:1},{frame:"4",duration:1},{frame:"5",duration:1}]},{name:"firinglast",loop:!1,frames:[{frame:"1",duration:1},{frame:"3",duration:1},{frame:"10",duration:60}]},{name:"reloading",loop:!1,frames:[{frame:"7",duration:8},{frame:"8",duration:8},{frame:"10",duration:16},{frame:"9",duration:8},{frame:"10",duration:8}]}]}},mindray:{type:"mindray",playerCanOwn:!1,npcsCanOwn:!0,effectType:"bullethit",ammo:{finite:!1,capacity:{mag:1,total:1}},damage:10,range:1024,reloadTime:1,autoMode:1,rateOfFire:1}};return{get:function(){return i}}}();return t}),define("astar",["enginevars","vector2"],function(e,t){var i=function(){function t(e,t){return e.x!=t.x?e.y!=t.y?d[e.y][e.x].moveCostDiag+d[t.y][t.x].gCost:d[e.y][e.x].moveCostOrthog+d[t.y][t.x].gCost:e.y!=t.y?e.x!=t.x?d[e.y][e.x].moveCostDiag+d[t.y][t.x].gCost:d[e.y][e.x].moveCostOrthog+d[t.y][t.x].gCost:void 0}function i(e){var t=Math.abs(e.x-l.x),i=Math.abs(e.y-l.y);d[e.y][e.x].hCost=(t+i)*c}function r(e){d[e.y][e.x].fCost=d[e.y][e.x].gCost+d[e.y][e.x].hCost}function n(e){var t=e,i=[];for(i.push(t);"start"!=d[t.y][t.x].flag;)t=d[t.y][t.x].nodeParentIdx,i.push(t);return i.reverse()}function o(e,t){for(var i=0;i<e.occupants.length;i++)if(e.occupants[i]!=t)return!0;return!1}function a(e,a,c,x){d=x;for(var f=0;f<x.length;f++)for(var u=0;u<x[f].length;u++){var h=d[f][u];h.nodeParentIdx={x:0,y:0},h.flag="none",h.list="none",h.gCost=0,h.hCost=0,h.fCost=0}s=e,l=a,d[s.y][s.x].flag="start",d[l.y][l.x].flag="goal";var y=[],p=[],m=[];d[s.y][s.x].list="open",y.push(s);for(var g=s.y-1;g<=s.y+1;g++)for(var w=s.x-1;w<=s.x+1;w++)if((w!=s.x||g!=s.y)&&g>=0&&g<d.length&&w>=0&&w<d[g].length){var h=d[g][w];if(h.isValid&&(!h.isOccupied||!o(h,c))){var v=!1;if(w!=s.x&&g!=s.y)for(var b=g-1;g+1>=b;b++)if(!(0>b||b>=d.length))for(var R=w-1;w+1>=R;R++)if(!(0>R||R>=d[b].length)&&(R==w||b==g)&&R>=s.x-1&&R<=s.x+1){var h=d[b][R];h.isValid&&o(h,c)||(v=!0)}v||(d[g][w].nodeParentIdx.x=s.x,d[g][w].nodeParentIdx.y=s.y,d[g][w].list="open",y.push({x:w,y:g}))}}for(var S=0;S<y.length;S++)if(y[S].x==s.x&&y[S].y==s.y){var N=y.splice(S,1);d[N[0].y][N[0].x].list="closed",p.push(N[0]);break}for(var S=0;S<y.length;S++)d[y[S].y][y[S].x].gCost=t(y[S],d[y[S].y][y[S].x].nodeParentIdx),i(y[S]),r(y[S]);for(;y.length>0;){for(var k=y[0],S=0;S<y.length;S++)d[y[S].y][y[S].x].fCost<d[k.y][k.x].fCost&&(k=y[S]);for(var S=0;S<y.length;S++)if(y[S].x==k.x&&y[S].y==k.y){var N=y.splice(S,1);d[N[0].y][N[0].x].list="closed",p.push(N[0]);break}if("goal"==d[k.y][k.x].flag)return n(k);m=[];for(var g=k.y-1;g<=k.y+1;g++)for(var w=k.x-1;w<=k.x+1;w++)if((w!=k.x||g!=k.y)&&g>=0&&g<d.length&&w>=0&&w<d[g].length&&"closed"!=d[g][w].list&&d[g][w].isValid&&(!d[g][w].isOccupied||d[g][w].isOccupied&&d[g][w].occupyingThing==c)){var v=!1;if(w!=k.x&&g!=k.y)for(var b=g-1;g+1>=b;b++)if(!(0>b||b>=d.length))for(var R=w-1;w+1>=R;R++)0>R||R>=d[b].length||(R==w||b==g)&&R>=k.x-1&&R<=k.x+1&&(!d[b][R].isValid||d[g][w].isOccupied&&d[g][w].occupyingThing!=c)&&(v=!0);v||m.push({x:w,y:g})}for(var S=0;S<m.length;S++)if("open"!=d[m[S].y][m[S].x].list)d[m[S].y][m[S].x].list="open",y.push(m[S]),d[m[S].y][m[S].x].nodeParentIdx.x=k.x,d[m[S].y][m[S].x].nodeParentIdx.y=k.y,d[m[S].y][m[S].x].gCost=t(m[S],d[m[S].y][m[S].x].nodeParentIdx),i(m[S]),r(m[S]);else{var D=t(m[S],k);D<d[m[S].y][m[S].x].gCost&&(d[m[S].y][m[S].x].nodeParentIdx.x=k.x,d[m[S].y][m[S].x].nodeParentIdx.y=k.y,d[m[S].y][m[S].x].gCost=D,i(m[S]),r(m[S]))}}console.log("MOD_AStar : No path was found between ("+s.x.toString()+","+s.y.toString()+") and ("+l.x.toString()+","+l.y.toString()+")!");var C=[];return C.push(s),C}var s,l,d,c=e.get("pathingBaseMovementCost");return{aStar:a}}();return i}),define("pathfinding",["enginevars","astar"],function(e,t){var i=function(){function i(e,i,n,o,a,s,l){c=l,x=Math.round(c.x/2),f=Math.round(c.y/2);var d=r(e,i,a,s);if(0==d.result)return[];var u=r(n,o,a,s);if(0==u.result)return[];var h={x:d.x,y:d.y},y={x:u.x,y:u.y};if(h.x==y.x&&h.y==y.y)return[];s[h.y][h.x].debugHilight=!0,s[y.y][y.x].debugHilight=!0;for(var p=t.aStar(h,y,a,s),m=[],g=0;g<p.length;g++)m.push(s[p[g].y][p[g].x]);return m.shift(),m}function r(e,t,i,r,o){"undefined"==typeof o&&(o=[]);var a=0,s=n(e,t,i,r),l={x:Math.floor((e+x)/d),y:Math.floor((t+f)/d)};if(s)return{result:!0,x:l.x,y:l.y};for(var c=[],u=2;!s;){if(++a>u)return s=!0,{result:!1};for(var h=l.y-a;h<=l.y+a;h++)if(h>=0&&h<r.length)for(var y=l.x-a;y<=l.x+a;y++)if(y>=0&&y<r[h].length){for(var p=!1,m=0;m<c.length;m++)(c[m].x==y||c[m].y==h)&&(p=!0);if(y==l.x&&h==l.y&&(p=!0),!p){if(n(y*d-x,h*d-f,i,r))return{result:!0,x:y,y:h};c.push({x:y,y:h})}}}}function n(e,t,i,r){var n={x:Math.floor((e+x)/d),y:Math.floor((t+f)/d)},o=r[n.y][n.x];if(n.y>=r.length)return!1;if(n.x>=r[n.y].length)return!1;if(!o.isValid)return!1;if(o.occupants.length)for(var a=0;a<o.occupants.length;a++)if(o.occupants[a]!=i)return!1;return!0}function o(e,t){return{x:Math.floor(e*d-x),y:Math.floor(t*d-f)}}function a(e,t,i,r,n){s(i[t][e],r,n)}function s(e,t,i){if(i){for(var r=0;r<e.occupants.length;r++)if(e.occupants[r]==t)return;e.occupants.push(t)}else for(var r=0;r<e.occupants.length;r++)e.occupants[r]==t&&(e.occupants.splice(r,1),r--)}function l(e,t,i,r,n,o,s){for(var l={x:Math.floor((e+x)/d),y:Math.floor((t+f)/d)},c=0,u=l.y-n;u<=l.y+n;u++)if(!(0>u||u>=i.length))for(var h=l.x-n;h<=l.x+n;h++)0>h||h>=i[u].length||(a(h,u,i,r,o),c++)}var d=e.get("pathNodeSeparation"),c=(Math.round(d),e.get("worldSize")),x=Math.round(c.x/2),f=Math.round(c.y/2);return{getPath:i,enterLeaveNodesInRange:l,getClosestValidNode:r,nodeIndexToWorldCoord:o}}();return i}),define("player",["enginevars","collision","input","vector2","time","weapon","weapondefs","pathfinding"],function(e,t,i,r,n,o,a,s){var l=function(){function s(){D=r.rotateByDegrees(k,90),C=r.rotateByDegrees(k,180),T=r.rotateByDegrees(k,-90)}function l(){0>=ue&&(ue=0,ye=!1)}function d(){var e={x:k.x,y:k.y};if(re.lt)e=r.rotateByDegrees(e,-ee*le);else if(oe.rightStick.left){var t=oe.rightStick.axisLeftRight;e=r.rotateByDegrees(e,te*t*le)}if(re.rt)e=r.rotateByDegrees(e,ee*le);else if(oe.rightStick.right){var t=oe.rightStick.axisLeftRight;e=r.rotateByDegrees(e,te*t*le)}ne.locked&&(e=r.rotateByDegrees(e,ie*ne.deltaPos.x*le)),k.x=e.x,k.y=e.y,s(),i.reset()}function c(){L={x:0,y:0},re.w?(L.x+=k.x,L.y+=k.y):oe.leftStick.fwd&&(L.x+=k.x*-oe.leftStick.axisFwdBack,L.y+=k.y*-oe.leftStick.axisFwdBack),re.s?(L.x+=C.x,L.y+=C.y):oe.leftStick.back&&(L.x+=C.x*oe.leftStick.axisFwdBack,L.y+=C.y*oe.leftStick.axisFwdBack),re.a?(L.x+=T.x,L.y+=T.y):oe.leftStick.left&&(L.x+=T.x*-oe.leftStick.axisLeftRight,L.y+=T.y*-oe.leftStick.axisLeftRight),re.d?(L.x+=D.x,L.y+=D.y):oe.leftStick.right&&(L.x+=D.x*oe.leftStick.axisLeftRight,L.y+=D.y*oe.leftStick.axisLeftRight),(re.up||oe.dPad.fwd)&&(N+=J),(re.dn||oe.dPad.back)&&(N-=J);var e=t.checkCollisionsPlayerLinedefs(R,E,ae.sectors,ae.doors);pe=(oe.lTrigger||re.shift)&&0==e.length;var i=pe?Z:1,n=G*i*le;n>O&&(n=O),q=r.scaleVector(L,n)}function x(){if(pe){var e=W*le;if(0!=L.x&&0!=L.y){var t=e*$;_+=t,_>z?(_=z,$=-1):-z>_&&(_=-z,$=1)}else _>e?_-=e:-e>_&&(_+=e),_>e||-e>_?_+=_>e?-e:e:_=0}}function f(){if(M){for(var e=t.checkCollisionsPlayerNpcs(R,F,ae.things),i=0;i<e.length;i++){var n,o=e[i],a=o.movement.pos.x-R.x,s=o.movement.pos.y-R.y,l=Math.sqrt(a*a+s*s),d=-(l-F-o.parentThing.colRad),c=d/2,x=.01*c;if(de)n=d,console.log("colliding with wall");else{n=c+x;var f=r.scaleVector(r.normalise(r.vectorToDestination(o.movement.pos,R)),c+x);q.x+=f.x,q.y+=f.y}var u=r.scaleVector(r.normalise(r.vectorToDestination(R,o.movement.pos)),n);o.movement.pos.x+=u.x,o.movement.pos.y+=u.y}var h=r.getMagnitude(q);q=t.getResolutionProps(R,ae.things,q,F,0);var y=t.getResolutionWalls(R,ae.sectors,ae.doors,{result:!1,resVec:q},F,0);q=y.resVec,de=y.result,r.getMagnitude(q)>h&&(q=r.scaleVector(r.normalise(q),h)),V=L}R.x+=q.x,R.y+=q.y}function u(){(re.space||oe.rTrigger||ne.locked&&ne.leftBtn)&&Y.fire(),re.space||oe.rTrigger||ne.leftBtn||Y.unlock(),(re.r||oe.btnX)&&Y.reload(),Y.update(ae)}function h(e){se=null;for(var i=0;i<e.length;i++)if(t.pointInPolygon(R,e[i].lineDefs,e[i].bBox)){var r=e[i];null!=se?t.sectorWithinSector(r,se)&&(se=r):se=r}}function y(){var e=null!=se?se.floorHeight:0;S=ye?e:e+I;var t=ye?K:Q,i=t*le;R.z<S?R.z=S-R.z<i?S:R.z+i:R.z>S&&(R.z=R.z-S<i?S:R.z-i)}function p(e,t){me=ge,he>e?he-=e:he>0?(ue-=e-he,he=0):ue-=e,we.hit=!0}function m(){me-=le,0>=me&&(me=0,we.hit=!1)}function g(){return{pos:R,fwd:k,velocity:L,proj:V,slidingPlane:B,insetA:H,insetB:U,moveSpeed:G,camHeight:R.z+A+_+N,pitch:j,occupiedSector:se,mouseDelta:ne.deltaPos}}function w(){return{currentWeapon:Y,hudEffects:we,hitCooldown:me,hitCooldownTime:ge,alive:ye,lightLevel:se.lightLevel,armour:he,health:ue,maxHealth:xe,maxArmour:fe}}function v(e){le=n.getDeltaTime(),ae=e,re=i.getKeyStates(),ne=i.getMouseStates(),oe=i.getPadStates(),M=i.getCollisionOn(),m(),h(ae.sectors),y(),l(),ye&&(d(),c(),x(),f(),u())}function b(e,t){R.x=e.x,R.y=e.y,R.z=e.z,ce=t.pathNodes,ae=t,X.push(o.weapon(P.pistol,R,k,this,!0)),Y=X[0]}var R={x:0,y:0,z:0},S=0,N=0,k={x:0,y:-1},D={x:1,y:0},C={x:0,y:1},T={x:-1,y:0},L={x:0,y:0},q={x:0,y:0},P=a.get(),X=[],Y=null,V={},B={},H={},U={},M=!0,O=e.get("maxScaledMovementStep"),F=e.get("playerCollisionRadius"),E=e.get("playerSoftCollisionRadius"),j=0,A=e.get("cameraHeight"),I=e.get("cameraHeightDeadOffset"),z=e.get("cameraBobAmount"),W=e.get("cameraBobSpeed"),_=0,$=1,G=3,K=3,Q=1,J=1,Z=2,ee=2,te=2.5,ie=.1,re=null,ne=i.getMouseStates(),oe=i.getPadStates(),ae=null,se=null,le=1,de=!1,ce=[],xe=e.get("playerHealth"),fe=e.get("playerArmour"),ue=xe,he=fe,ye=!0,pe=!1,me=(e.get("playerHealth"),0),ge=e.get("playerHitCooldown"),we={hit:!1};return{update:v,init:b,getPos:function(){return R},getFwd:function(){return k},getPlayerData:g,getCollisionRadius:function(){return F},getHudData:w,projectileHit:p,getAlive:function(){return ye}}}();return l}),define("doors",["enginevars","collision"],function(e,t){var i=function(){function e(e,t){var i={guid:e,openDir:t.openDir,autoCloseTime:"undefined"!=typeof t.autoCloseTime?t.autoCloseTime:5e3,lastOpenTime:Date.now(),speed:"undefined"!=typeof t.speed?t.speed:2.5,triggerDist:64,worldLength:0,xLength:0,yLength:0,xOpenDir:0,yOpenDir:0,doorRef:t,closedPos:{start:{x:t.start.x,y:t.start.y},end:{x:t.end.x,y:t.end.y}},openPos:{start:{x:0,y:0},end:{x:0,y:0}},openFrac:.95,currentOpenFrac:0,currentClosedFrac:0,opening:!1,closing:!1,open:!1,closed:!0},r=i.closedPos.end.x-i.closedPos.start.x,n=i.closedPos.end.y-i.closedPos.start.y;return i.xLength=Math.abs(r),i.yLength=Math.abs(n),i.worldLength=Math.sqrt(r*r+n*n),"left"==i.openDir?(i.xOpenDir=r>0?-1:1,i.yOpenDir=n>0?-1:1):(i.xOpenDir=r>0?1:-1,i.yOpenDir=n>0?1:-1),i.openPos.start.x=i.closedPos.start.x-i.xOpenDir*(i.xLength*i.openFrac),i.openPos.start.y=i.closedPos.start.y-i.yOpenDir*(i.yLength*i.openFrac),i.openPos.end.x=i.closedPos.end.x-i.xOpenDir*(i.xLength*i.openFrac),i.openPos.end.y=i.closedPos.end.y-i.yOpenDir*(i.yLength*i.openFrac),i}function i(){for(var e=0;e<m_Doors.length;e++){var t=m_Doors[e];if(t.opening){var i=t.speed*t.xOpenDir*(t.xLength/t.worldLength),r=t.speed*t.yOpenDir*(t.yLength/t.worldLength),n=t.closedPos.start.x-(t.doorRef.start.x-i),o=t.closedPos.start.y-(t.doorRef.start.y-r),a=Math.sqrt(n*n+o*o);t.currentOpenFrac=a/t.worldLength,t.currentOpenFrac<t.openFrac?(t.doorRef.start.x=t.doorRef.start.x-i,t.doorRef.start.y=t.doorRef.start.y-r,t.doorRef.end.x=t.doorRef.end.x-i,t.doorRef.end.y=t.doorRef.end.y-r):(t.doorRef.start.x=t.openPos.start.x,t.doorRef.start.y=t.openPos.start.y,t.doorRef.end.x=t.openPos.end.x,t.doorRef.end.y=t.openPos.end.y,t.currentOpenFrac=t.openFrac,t.opening=!1,t.closing=!1,t.open=!0,t.closed=!1,t.lastOpenTime=Date.now())}if(t.closing){var i=t.speed*-t.xOpenDir*(t.xLength/t.worldLength),r=t.speed*-t.yOpenDir*(t.yLength/t.worldLength),n=t.openPos.start.x-(t.doorRef.start.x-i),o=t.openPos.start.y-(t.doorRef.start.y-r),a=Math.sqrt(n*n+o*o);t.currentClosedFrac=a/t.worldLength,t.currentClosedFrac<t.openFrac?(t.doorRef.start.x=t.doorRef.start.x-i,t.doorRef.start.y=t.doorRef.start.y-r,t.doorRef.end.x=t.doorRef.end.x-i,t.doorRef.end.y=t.doorRef.end.y-r):(t.doorRef.start.x=t.closedPos.start.x,t.doorRef.start.y=t.closedPos.start.y,t.doorRef.end.x=t.closedPos.end.x,t.doorRef.end.y=t.closedPos.end.y,t.currentOpenFrac=0,t.currentClosedFrac=1-t.openFrac,t.opening=!1,t.closing=!1,t.open=!1,t.closed=!0)}t.open&&!t.closing&&Date.now()-t.lastOpenTime>t.autoCloseTime&&(t.closing=!0)}}function r(e){e.closed&&!e.opening?(e.opening=!0,e.closed=!1):e.open&&!e.closing&&(e.closing=!0,
e.open=!1)}function n(e){for(var i=0;i<m_Doors.length;i++){var n=m_Doors[i],o=t.intersectsLineWithCircle(n.closedPos.start,n.closedPos.end,e,n.triggerDist);1==o.result&&r(n)}}function o(t){for(var i=0,r=0;r<t.length;r++){var n=e(i++,t[r]);m_Doors.push(n)}}return m_Doors=[],{init:o,update:i,openNearby:n}}();return i}),define("thingdefs",["enginevars"],function(e){var t=function(){var e={playerstart:{type:"playerstart",isRenderable:!1,isSolid:!1,instantiable:!1,isNPC:!1,destructible:!1,health:100},deadtree01:{type:"deadtree01",isSolid:!0,solidToProjectiles:!0,collisionRadius:16,projectileCollisionRadius:8,isRenderable:!0,instantiable:!0,isNPC:!1,destructible:!1,anchor:"floor",anchorOffset:2,worldSize:{x:50,y:70},spriteInfo:{sheetTex:null,sourceScale:.436,hasOrientations:!1,frameCoords:{1:{x:0,y:0,w:140,h:140}},frameSequences:[{name:"idle",frames:[{frame:"1",duration:60}]}]}},barrel01:{type:"barrel01",isSolid:!0,solidToProjectiles:!0,collisionRadius:16,projectileCollisionRadius:13,isRenderable:!0,instantiable:!0,isNPC:!1,destructible:!0,health:1,hitCooldownTime:60,anchor:"floor",anchorOffset:2,worldSize:{x:23,y:32},spriteInfo:{sheetTex:null,sourceScale:1.2,hasOrientations:!1,frameCoords:{1:{x:6,y:0,w:23,h:32}},frameSequences:[{name:"idle",frames:[{frame:"1",duration:60}]}]}},stalactite01:{type:"stalactite01",isSolid:!1,solidToProjectiles:!1,collisionRadius:1,projectileCollisionRadius:1,isRenderable:!0,instantiable:!0,isNPC:!1,destructible:!1,anchor:"ceiling",anchorOffset:0,worldSize:{x:17,y:28},spriteInfo:{sheetTex:null,sourceScale:1,hasOrientations:!1,frameCoords:{1:{x:2,y:2,w:19,h:30}},frameSequences:[{name:"idle",frames:[{frame:"1",duration:60}]}]}},monster01:{type:"monster01",isSolid:!0,solidToProjectiles:!0,collisionRadius:16,projectileCollisionRadius:16,isRenderable:!0,instantiable:!0,isNPC:!0,destructible:!0,health:50,hitCooldownTime:6,npcDef:{weaponType:"mindray",moveSpeed:1.3,turnSpeed:.1,attackDelay:24,attackIntervalMin:80,attackIntervalMax:240,aimTimeMax:60,meleeDistance:128,alertRadius:64},halfFOV:.698132,anchor:"floor",anchorOffset:8,worldSize:{x:32,y:48},spriteInfo:{sheetTex:null,sourceScale:.436,hasOrientations:!0,frameCoords:{orientation:{north:{frames:{1:{x:2,y:2,w:71,h:109},2:{x:2,y:113,w:69,h:109},3:{x:2,y:224,w:63,h:109},4:{x:2,y:335,w:67,h:109},5:{x:2,y:446,w:51,h:109},6:{x:2,y:557,w:53,h:109},7:{x:2,y:668,w:61,h:109},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},northwest:{frames:{1:{x:73,y:2,w:63,h:107},2:{x:73,y:111,w:53,h:107},3:{x:67,y:222,w:57,h:107},4:{x:71,y:333,w:55,h:109},5:{x:55,y:446,w:77,h:107},6:{x:57,y:557,w:85,h:107},7:{x:65,y:666,w:65,h:107},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},west:{frames:{1:{x:140,y:2,w:79,h:105},2:{x:128,y:111,w:63,h:111},3:{x:126,y:222,w:75,h:109},4:{x:128,y:335,w:59,h:109},5:{x:134,y:446,w:87,h:105},6:{x:144,y:557,w:97,h:105},7:{x:132,y:666,w:85,h:105},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},southwest:{frames:{1:{x:221,y:2,w:89,h:99},2:{x:193,y:111,w:79,h:107},3:{x:201,y:222,w:77,h:109},4:{x:189,y:335,w:75,h:109},5:{x:223,y:446,w:67,h:103},6:{x:243,y:557,w:81,h:103},7:{x:219,y:666,w:85,h:103},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},south:{frames:{1:{x:312,y:2,w:69,h:101},2:{x:274,y:111,w:67,h:107},3:{x:282,y:222,w:67,h:109},4:{x:266,y:335,w:69,h:109},5:{x:292,y:446,w:51,h:101},6:{x:326,y:557,w:47,h:101},7:{x:306,y:666,w:61,h:105},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},southeast:{frames:{1:{x:383,y:2,w:89,h:99},2:{x:343,y:111,w:79,h:107},3:{x:351,y:222,w:77,h:109},4:{x:337,y:335,w:75,h:109},5:{x:345,y:446,w:67,h:103},6:{x:375,y:557,w:81,h:103},7:{x:369,y:666,w:85,h:103},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},east:{frames:{1:{x:474,y:2,w:79,h:105},2:{x:424,y:111,w:63,h:111},3:{x:430,y:224,w:75,h:109},4:{x:414,y:335,w:59,h:109},5:{x:414,y:446,w:87,h:105},6:{x:458,y:557,w:97,h:105},7:{x:456,y:666,w:85,h:105},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}},northeast:{frames:{1:{x:555,y:2,w:63,h:107},2:{x:489,y:111,w:53,h:107},3:{x:507,y:222,w:57,h:107},4:{x:475,y:335,w:55,h:109},5:{x:503,y:446,w:77,h:107},6:{x:557,y:557,w:85,h:107},7:{x:543,y:666,w:65,h:107},8:{x:3,y:779,w:65,h:119},9:{x:69,y:779,w:69,h:99},10:{x:140,y:779,w:83,h:69},11:{x:225,y:779,w:95,h:53},12:{x:322,y:779,w:103,h:33},13:{x:2,y:900,w:71,h:117},14:{x:75,y:898,w:85,h:123},15:{x:162,y:898,w:95,h:121},16:{x:259,y:898,w:105,h:109},17:{x:366,y:898,w:109,h:101},18:{x:477,y:898,w:113,h:85},19:{x:592,y:898,w:113,h:71},20:{x:707,y:898,w:113,h:51},21:{x:822,y:898,w:113,h:41}}}}},frameSequences:[{name:"idle",loop:!0,frames:[{frame:"3",duration:60}]},{name:"walk",loop:!0,frames:[{frame:"1",duration:6},{frame:"2",duration:6},{frame:"3",duration:6},{frame:"4",duration:6}]},{name:"shoot",loop:!1,frames:[{frame:"5",duration:24},{frame:"6",duration:12}]},{name:"special",loop:!1,frames:[{frame:"5",duration:24},{frame:"6",duration:12},{frame:"5",duration:12},{frame:"6",duration:12},{frame:"5",duration:12},{frame:"6",duration:12}]},{name:"hit",loop:!1,frames:[{frame:"7",duration:7}]},{name:"dying",loop:!1,frames:[{frame:"8",duration:4},{frame:"9",duration:5},{frame:"10",duration:6},{frame:"11",duration:6},{frame:"12",duration:6}]},{name:"gibbing",loop:!1,frames:[{frame:"13",duration:3},{frame:"14",duration:3},{frame:"15",duration:3},{frame:"16",duration:2},{frame:"17",duration:2},{frame:"18",duration:2},{frame:"19",duration:2},{frame:"20",duration:2},{frame:"21",duration:2}]},{name:"dead",loop:!0,frames:[{frame:"12",duration:60}]},{name:"splatted",loop:!0,frames:[{frame:"21",duration:60}]}]}},telepath:{type:"telepath",isSolid:!0,solidToProjectiles:!0,collisionRadius:16,projectileCollisionRadius:14,isRenderable:!0,instantiable:!0,isNPC:!0,destructible:!0,health:100,hitCooldownTime:6,npcDef:{weaponType:"mindray",moveSpeed:1.3,turnSpeed:.1,attackDelay:24,attackIntervalMin:60,attackIntervalMax:180,aimTimeMax:45,meleeDistance:128,alertRadius:128},halfFOV:.698132,anchor:"floor",anchorOffset:-4,worldSize:{x:32,y:48},spriteInfo:{sheetTex:null,sourceScale:.25,hasOrientations:!0,frameCoords:{orientation:{northeast:{frames:{1:{x:5,y:0,w:66,h:197},2:{x:5,y:1,w:66,h:197},3:{x:5,y:2,w:66,h:197},4:{x:5,y:3,w:66,h:197},5:{x:5,y:4,w:66,h:197},6:{x:5,y:5,w:66,h:197},7:{x:3,y:207,w:52,h:163},8:{x:2,y:375,w:64,h:184},9:{x:2,y:562,w:63,h:184},10:{x:2,y:750,w:61,h:187},11:{x:564,y:750,w:40,h:187},12:{x:565,y:562,w:28,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:565,y:0,w:66,h:197},19:{x:565,y:1,w:66,h:197},20:{x:565,y:2,w:66,h:197},21:{x:565,y:3,w:66,h:197},22:{x:565,y:4,w:66,h:197},23:{x:565,y:5,w:66,h:197}}},north:{frames:{1:{x:73,y:0,w:81,h:197},2:{x:73,y:1,w:81,h:197},3:{x:73,y:2,w:81,h:197},4:{x:73,y:3,w:81,h:197},5:{x:73,y:4,w:81,h:197},6:{x:73,y:5,w:81,h:197},7:{x:58,y:207,w:58,h:165},8:{x:68,y:375,w:97,h:178},9:{x:67,y:562,w:97,h:178},10:{x:66,y:750,w:97,h:187},11:{x:606,y:750,w:49,h:187},12:{x:595,y:562,w:30,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:633,y:0,w:80,h:198},19:{x:633,y:1,w:80,h:198},20:{x:633,y:2,w:80,h:198},21:{x:633,y:3,w:80,h:198},22:{x:633,y:4,w:80,h:198},23:{x:633,y:5,w:80,h:198}}},northwest:{frames:{1:{x:156,y:0,w:70,h:199},2:{x:156,y:1,w:70,h:199},3:{x:156,y:2,w:70,h:199},4:{x:156,y:3,w:70,h:199},5:{x:156,y:4,w:70,h:199},6:{x:156,y:5,w:70,h:199},7:{x:118,y:207,w:56,h:162},8:{x:167,y:375,w:65,h:185},9:{x:166,y:562,w:65,h:185},10:{x:167,y:750,w:64,h:187},11:{x:657,y:750,w:45,h:187},12:{x:627,y:562,w:29,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:715,y:0,w:69,h:198},19:{x:715,y:1,w:69,h:198},20:{x:715,y:2,w:69,h:198},21:{x:715,y:3,w:69,h:198},22:{x:715,y:4,w:69,h:198},23:{x:715,y:5,w:69,h:198}}},west:{frames:{1:{x:228,y:0,w:59,h:199},2:{x:228,y:1,w:59,h:199},3:{x:228,y:2,w:59,h:199},4:{x:228,y:3,w:59,h:199},5:{x:228,y:4,w:59,h:199},6:{x:228,y:5,w:59,h:199},7:{x:176,y:207,w:61,h:163},8:{x:234,y:375,w:46,h:179},9:{x:233,y:562,w:46,h:179},10:{x:234,y:750,w:43,h:187},11:{x:704,y:750,w:30,h:187},12:{x:658,y:562,w:18,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:786,y:0,w:58,h:198},19:{x:786,y:1,w:58,h:198},20:{x:786,y:2,w:58,h:198},21:{x:786,y:3,w:58,h:198},22:{x:786,y:4,w:58,h:198},23:{x:786,y:5,w:58,h:198}}},southwest:{frames:{1:{x:290,y:0,w:63,h:199},2:{x:290,y:1,w:63,h:199},3:{x:290,y:2,w:63,h:199},4:{x:290,y:3,w:63,h:199},5:{x:290,y:4,w:63,h:199},6:{x:290,y:5,w:63,h:199},7:{x:239,y:207,w:57,h:166},8:{x:282,y:375,w:69,h:180},9:{x:281,y:562,w:69,h:180},10:{x:282,y:750,w:66,h:187},11:{x:736,y:750,w:37,h:187},12:{x:678,y:562,w:21,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:565,y:207,w:61,h:196},19:{x:565,y:208,w:61,h:196},20:{x:565,y:209,w:61,h:196},21:{x:565,y:210,w:61,h:196},22:{x:565,y:211,w:61,h:196},23:{x:565,y:212,w:61,h:196}}},south:{frames:{1:{x:355,y:0,w:83,h:199},2:{x:355,y:1,w:83,h:199},3:{x:355,y:2,w:83,h:199},4:{x:355,y:3,w:83,h:199},5:{x:355,y:4,w:83,h:199},6:{x:355,y:5,w:83,h:199},7:{x:298,y:207,w:60,h:166},8:{x:353,y:375,w:90,h:182},9:{x:352,y:562,w:90,h:182},10:{x:353,y:750,w:89,h:187},11:{x:775,y:750,w:55,h:187},12:{x:701,y:562,w:28,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:628,y:207,w:82,h:196},19:{x:628,y:208,w:82,h:196},20:{x:628,y:209,w:82,h:196},21:{x:628,y:210,w:82,h:196},22:{x:628,y:211,w:82,h:196},23:{x:628,y:212,w:82,h:196}}},southeast:{frames:{1:{x:440,y:0,w:61,h:199},2:{x:440,y:1,w:61,h:199},3:{x:440,y:2,w:61,h:199},4:{x:440,y:3,w:61,h:199},5:{x:440,y:4,w:61,h:199},6:{x:440,y:5,w:61,h:199},7:{x:360,y:207,w:59,h:164},8:{x:445,y:375,w:71,h:184},9:{x:444,y:562,w:71,h:184},10:{x:446,y:750,w:69,h:187},11:{x:832,y:750,w:36,h:187},12:{x:731,y:562,w:22,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:712,y:207,w:61,h:197},19:{x:712,y:208,w:61,h:197},20:{x:712,y:209,w:61,h:197},21:{x:712,y:210,w:61,h:197},22:{x:712,y:211,w:61,h:197},23:{x:712,y:212,w:61,h:197}}},east:{frames:{1:{x:502,y:0,w:61,h:199},2:{x:502,y:1,w:61,h:199},3:{x:502,y:2,w:61,h:199},4:{x:502,y:3,w:61,h:199},5:{x:502,y:4,w:61,h:199},6:{x:502,y:5,w:61,h:199},7:{x:421,y:207,w:63,h:162},8:{x:518,y:375,w:46,h:185},9:{x:517,y:562,w:46,h:186},10:{x:518,y:750,w:44,h:187},11:{x:870,y:750,w:27,h:187},12:{x:755,y:562,w:17,h:186},13:{x:774,y:562,w:25,h:186},14:{x:801,y:562,w:18,h:186},15:{x:821,y:684,w:22,h:63},16:{x:914,y:0,w:82,h:203},17:{x:846,y:0,w:66,h:202},18:{x:775,y:207,w:58,h:196},19:{x:775,y:208,w:58,h:196},20:{x:775,y:209,w:58,h:196},21:{x:775,y:210,w:58,h:196},22:{x:775,y:211,w:58,h:196},23:{x:775,y:212,w:58,h:196}}}}},frameSequences:[{name:"idle",loop:!0,frames:[{frame:"1",duration:6},{frame:"2",duration:6},{frame:"3",duration:6},{frame:"4",duration:6},{frame:"5",duration:6},{frame:"6",duration:6},{frame:"5",duration:6},{frame:"4",duration:6},{frame:"3",duration:6},{frame:"2",duration:6}]},{name:"walk",loop:!0,frames:[{frame:"1",duration:6},{frame:"2",duration:6},{frame:"3",duration:6},{frame:"4",duration:6},{frame:"5",duration:6},{frame:"6",duration:6},{frame:"5",duration:6},{frame:"4",duration:6},{frame:"3",duration:6},{frame:"2",duration:6}]},{name:"aim",loop:!0,frames:[{frame:"16",duration:6}]},{name:"shoot",loop:!1,frames:[{frame:"16",duration:15},{frame:"17",duration:30}]},{name:"hit",loop:!1,frames:[{frame:"7",duration:20}]},{name:"dying",loop:!1,frames:[{frame:"8",duration:6},{frame:"9",duration:6},{frame:"10",duration:6},{frame:"11",duration:6},{frame:"12",duration:6},{frame:"13",duration:6},{frame:"14",duration:6}]},{name:"gibbing",loop:!1,frames:[{frame:"8",duration:6},{frame:"9",duration:6},{frame:"10",duration:6},{frame:"11",duration:6},{frame:"12",duration:6},{frame:"13",duration:6},{frame:"14",duration:6}]},{name:"dead",loop:!0,frames:[{frame:"15",duration:60}]},{name:"splatted",loop:!0,frames:[{frame:"25",duration:60}]}]}}};return{get:function(){return e}}}();return t}),define("movement",["enginevars","time","pathfinding","vector2","pathfinding"],function(e,t,i,r,n){var o=function(){function e(e,i,o){var a={deltaTime:t.getDeltaTime(),path:[],navMesh:i,worldSize:o,destPatrolNode:0,waitElapsed:0,rePathDelay:0,rePathDelayTime:15,nodeSnapThreshold:2,orientSnapThreshold:.0174533,nodeExitRadius:1,nodeEntryRadius:0,parentNpc:e,pathGoalCoord:{x:0,y:0},destCoord:{x:0,y:0},journeyVector:{x:0,y:0},normVecToDest:{x:0,y:0},pos:e.parentThing.pos,orient:e.parentThing.fwd,lastFramePos:{x:0,y:0},targetOrient:{x:e.parentThing.fwd.x,y:e.parentThing.fwd.y},moveSpeed:e.moveSpeed,turnSpeed:e.turnSpeed,inMotion:!0,prevInMotion:!0,distFromPlayer:0};return a.setPos=function(e){a.pos.x=e.x,a.pos.y=e.y},a.setOrient=function(e){a.orient.x=e.x,a.orient.y=e.y},a.rotateTowardOrientation=function(){var e=r.signedRadiansBetweenVectors(a.orient,a.targetOrient),t=Math.abs(e),i=a.turnSpeed*a.deltaTime,n=null;n=i>t?a.targetOrient:e>0?r.rotateByRadians(a.orient,3.14159>t?i:-i):r.rotateByRadians(a.orient,3.14159>t?-i:i),a.setOrient(n)},a.facingTargetOrient=function(){return a.orient.x+a.orientSnapThreshold>a.targetOrient.x&&a.orient.x-a.orientSnapThreshold<a.targetOrient.x&&a.orient.y+a.orientSnapThreshold>a.targetOrient.y&&a.orient.y-a.orientSnapThreshold<a.targetOrient.y},a.exitLocalNodes=function(){n.enterLeaveNodesInRange(a.pos.x,a.pos.y,a.navMesh,a.parentNpc,a.nodeExitRadius,!1,!1)},a.enterLocalNodes=function(){n.enterLeaveNodesInRange(a.pos.x,a.pos.y,a.navMesh,a.parentNpc,a.nodeEntryRadius,!0,!1)},a.patrol=function(){if(a.parentNpc.patrolNodes.length>0){var e=a.parentNpc.patrolNodes[a.destPatrolNode];a.destCoord.x=e.pos.x,a.destCoord.y=e.pos.y;var t=e.pos.x-a.pos.x,i=e.pos.y-a.pos.y,r=Math.sqrt(t*t+i*i);if(r<a.nodeSnapThreshold){if(a.waitElapsed<e.waitTime)return void(a.waitElapsed+=a.deltaTime);a.destPatrolNode==a.parentNpc.patrolNodes.length-1?a.destPatrolNode=0:a.destPatrolNode++,e=a.parentNpc.patrolNodes[a.destPatrolNode],a.waitElapsed=0}a.seek()}},a.pathFollow=function(){if(a.rePathDelay<=0){var e=n.getPath(a.pos.x,a.pos.y,a.pathGoalCoord.x,a.pathGoalCoord.y,a.parentNpc,a.navMesh,a.worldSize);e.length>0&&(a.path=e),a.rePathDelay=a.rePathDelayTime}else a.rePathDelay-=a.deltaTime;if(a.path.length>0){var t=a.path[0];a.destCoord.x=t.x,a.destCoord.y=t.y;var i=t.x-a.pos.x,o=t.y-a.pos.y,s=Math.sqrt(i*i+o*o);s<a.nodeSnapThreshold&&a.path.shift(),a.seek()}else a.targetOrient=r.normalise(r.vectorToDestination(a.pos,a.parentNpc.playerPos))},a.setDestToNearestValidNode=function(){var e=n.getClosestValidNode(a.pathGoalCoord.x,a.pathGoalCoord.y,a.parentNpc,a.navMesh),t=n.nodeIndexToWorldCoord(e.x,e.y);t.result&&a.setPathGoal(t)},a.seek=function(){var e=r.vectorToDestination(a.pos,a.destCoord),t=r.normalise(e),i=r.scaleVector(t,a.moveSpeed*a.deltaTime);a.targetOrient=t,a.setPos(r.sumVectors(a.pos,i))},a.setPathGoal=function(e){a.pathGoalCoord.x=e.x,a.pathGoalCoord.y=e.y},a.setOrientGoal=function(e){var t=r.normalise(r.vectorToDestination(a.pos,e));a.targetOrient.x=t.x,a.targetOrient.y=t.y},a.update=function(){a.deltaTime=t.getDeltaTime(),a.rePathDelay>0&&(a.rePathDelay-=a.deltaTime);var e=Math.abs(a.pos.x-a.lastFramePos.x),i=Math.abs(a.pos.y-a.lastFramePos.y);a.prevInMotion=a.inMotion,a.inMotion=Math.sqrt(e*e+(i+i))>0,a.rotateTowardOrientation(),a.lastFramePos.x=a.pos.x,a.lastFramePos.y=a.pos.y},a}return{movement:e}}();return o}),define("maths",[],function(){var e=function(){function e(e){return e*(Math.PI/180)}function t(e){return e*(180/Math.PI)}function i(e){return e*e}function r(e,t){return Math.random()*(t-e)+e}function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}return{degToRad:e,radToDeg:t,squareOf:i,randomInRange:r,randomIntInRange:n}}();return e}),define("npc",["enginevars","thingdefs","time","weapon","weapondefs","vector2","player","collision","movement","maths"],function(e,t,i,r,n,o,a,s,l,d){var c=function(){function e(e,n,f,u,h,y){var p={guid:x++,velocity:{x:0,y:0},states:{idle:"idle",patrol:"patrol",advance:"advance",aim:"aim",attack:"attack",special:"special",hit:"hit",dying:"dying",dead:"dead"},debug:{stateIdx:0},playerPos:a.getPos(),currentState:"idle",prevState:"idle",framesSinceLastStateChange:0,parentThing:e,halfFOV:n.halfFOV,sceneData:f,moveSpeed:n.npcDef.moveSpeed,turnSpeed:n.npcDef.turnSpeed,alerted:!1,meleeDistance:n.npcDef.meleeDistance,alertRadius:n.npcDef.alertRadius,patrolNodes:u,prevColliding:!1,weapon:null,specialWeapon:null,attackDelay:n.npcDef.attackDelay,attackDelayTime:n.npcDef.attackDelay,attackInterval:{min:n.npcDef.attackIntervalMin,max:n.npcDef.attackIntervalMax},attackedSinceStateChange:!1,timeUntilNextAttack:n.npcDef.attackIntervalMin,aimTime:0,aimTimeMax:n.npcDef.aimTimeMax};return p.movement=l.movement(p,h,y),p.weapon=r.weapon(c[n.npcDef.weaponType],p.movement.pos,p.movement.orient,a,!1),p.checkForCollisions=function(){var e=s.checkCollisionsNpcNpcs(p,p.sceneData.things);if(e.result)for(var t=e.others,i=0;i<t.length;i++){var r=t[i],n=r.movement.pos.x-p.movement.pos.x,a=r.movement.pos.y-p.movement.pos.y,l=Math.sqrt(n*n+a*a),d=-(l-p.parentThing.colRad-r.parentThing.colRad),c=d/2,x=.01*c,f=o.scaleVector(o.normalise(o.vectorToDestination(p.movement.pos,r.movement.pos)),c+x);r.movement.pos.x+=f.x,r.movement.pos.y+=f.y;var u=o.scaleVector(o.normalise(o.vectorToDestination(r.movement.pos,p.movement.pos)),c+x);p.movement.pos.x+=u.x,p.movement.pos.y+=u.y}p.prevColliding=p.colliding,p.colliding=e.result},p.checkForStuck=function(){p.colliding&&p.prevColliding&&console.log("NPC ["+p.guid+"] is stuck!")},p.checkForPlayer=function(){if(s.lineOfSight(p.parentThing.pos,p.playerPos,p.sceneData.sectors,p.sceneData.doors).result){var e=o.vectorToDestination(p.parentThing.pos,p.playerPos);if(o.getMagnitude(e)<p.alertRadius)return void(p.alerted=!0);var t=o.radiansBetweenVectors(e,p.parentThing.fwd);if(t<p.halfFOV)return void(p.alerted=!0)}},p.patrol=function(){p.patrolNodes.length>0&&p.movement.patrol()},p.advance=function(){p.playerAlive&&o.getMagnitude(o.vectorToDestination(p.movement.pos,p.playerPos))>p.meleeDistance&&(p.movement.setPathGoal(p.playerPos),p.movement.pathFollow())},p.tryAttack=function(){p.playerAlive&&(p.timeUntilNextAttack-=t,p.timeUntilNextAttack<=0&&(p.switchState(p.states.aim),p.timeUntilNextAttack=d.randomIntInRange(p.attackInterval.min,p.attackInterval.max)))},p.aimAtPlayer=function(){p.aimTime+=t,p.movement.setOrientGoal(p.playerPos),(p.movement.facingTargetOrient()||p.aimTime>p.aimTimeMax)&&(console.log("NPC ["+p.guid+"] aiming at player..."),p.aimTime=0,p.switchState(p.states.attack))},p.attack=function(){if(!p.attackedSinceStateChange&&(p.movement.setOrientGoal(p.playerPos),p.attackDelay-=t,p.attackDelay<=0)){var e=s.lineOfSight(p.parentThing.pos,p.playerPos,p.sceneData.sectors,p.sceneData.doors);e.result&&(console.log("NPC ["+p.guid+"] firing at player!"),p.weapon.fire(),p.weapon.unlock()),p.attackDelay=p.attackDelayTime,p.attackedSinceStateChange=!0}},p.checkHealth=function(){p.parentThing.health!=p.parentThing.prevHealth&&p.switchState("hit"),p.parentThing.health<=0&&p.switchState("dying")},p.stateActions=function(){switch(p.currentState){case p.states.idle:p.checkForPlayer(),p.checkHealth(),p.checkForCollisions(),p.checkForStuck(),p.alerted&&p.switchState(p.states.advance);break;case p.states.patrol:p.patrol(),p.checkForPlayer(),p.checkHealth(),p.checkForCollisions(),p.checkForStuck(),p.movement.inMotion&&!p.movement.prevInMotion?p.parentThing.sprite.switchSequence("walk"):!p.movement.inMotion&&p.movement.prevInMotion&&p.parentThing.sprite.switchSequence("idle"),p.alerted&&p.switchState(p.states.advance);break;case p.states.advance:p.advance(),p.checkHealth(),p.checkForCollisions(),p.checkForStuck(),p.tryAttack();break;case p.states.aim:p.checkHealth(),p.checkForCollisions(),p.checkForStuck(),p.aimAtPlayer();break;case p.states.attack:p.checkHealth(),p.checkForCollisions(),p.checkForStuck(),p.attack(),p.framesSinceLastStateChange>p.parentThing.sprite.frameSequences[p.parentThing.sprite.currentSequence].duration&&p.switchState(p.states.advance);break;case p.states.special:p.checkHealth(),p.checkForCollisions(),p.checkForStuck();break;case p.states.hit:p.checkHealth(),p.checkForCollisions(),p.checkForStuck(),p.framesSinceLastStateChange>p.parentThing.sprite.frameSequences[p.parentThing.sprite.currentSequence].duration&&p.switchState("advance");break;case p.states.dying:p.framesSinceLastStateChange>p.parentThing.sprite.frameSequences[p.parentThing.sprite.currentSequence].duration&&p.switchState("dead");break;case p.states.dead:break;default:console.log("ERROR: MOD_NPC.stateActions : state not recognised")}},p.switchState=function(e){if(p.states.hasOwnProperty(e))switch(p.prevState=p.currentState,p.currentState=e,p.framesSinceLastStateChange=0,p.attackedSinceStateChange=!1,p.currentState){case p.states.idle:p.parentThing.sprite.switchSequence("idle"),p.parentThing.isSolid=!0;break;case p.states.patrol:p.parentThing.sprite.switchSequence("walk");break;case p.states.advance:p.parentThing.sprite.switchSequence("walk");break;case p.states.aim:p.parentThing.sprite.switchSequence("aim");break;case p.states.attack:p.parentThing.sprite.switchSequence("shoot");break;case p.states.special:p.parentThing.sprite.switchSequence("special");break;case p.states.hit:p.parentThing.sprite.switchSequence("hit");break;case p.states.dying:p.movement.exitLocalNodes(),p.parentThing.sprite.switchSequence("dying"),p.parentThing.isSolid=!1;break;case p.states.dead:p.parentThing.sprite.switchSequence("dead");break;default:console.log('ERROR: npc.switchState : transition behaviour not defined for the state "'+e+'"')}else console.log('ERROR: npc.switchState : state "'+e+'" not recognised')},p.debugCycleStates=function(){if(p.framesSinceLastStateChange>p.parentThing.sprite.frameSequences[p.parentThing.sprite.currentSequence].duration){p.debug.stateIdx>=Object.keys(p.states).length?p.debug.stateIdx=0:p.debug.stateIdx++;var e=0;for(var t in p.states)p.debug.stateIdx==e&&p.switchState(t),e++}},p.update=function(e){t=i.getDeltaTime(),p.sceneData=e,p.playerPos=a.getPos(),p.playerAlive=a.getAlive(),p.framesSinceLastStateChange+=t,p.movement.update(),p.weapon.update(e),p.stateActions()},p}var t=i.getDeltaTime(),c=n.get(),x=0;return{npc:e}}();return c}),define("things",["enginevars","assets","sprite","thingdefs","npc","time","collision"],function(e,t,i,r,n,o,a){var s=function(){function s(e,r,o){var s=c[r.type],l={isCreature:r.isCreature,isSolid:s.isSolid,solidToProjectiles:s.solidToProjectiles,isRenderable:s.isRenderable,guid:e,type:s.type,isNPC:s.isNPC,pos:{x:r.pos.x,y:r.pos.y},fwd:{x:r.orient.x,y:r.orient.y},colRad:s.collisionRadius,projectileColRad:s.projectileCollisionRadius,anchor:s.anchor,anchorHeight:r.anchorHeight,anchorOffset:s.anchorOffset,destructible:s.destructible};l.destructible&&(l.hitCooldown=0,l.hitCooldownTime=s.hitCooldownTime,l.health=s.health,l.prevHealth=l.health);var d=s.spriteInfo;d.sheetTex=t.get(l.type),l.sprite=i.sprite(d,l);var u=o.sectors;l.parentSector=null;for(var h=0;h<u.length;h++)if(a.pointInPolygon(l.pos,u[h].lineDefs,u[h].bBox)){var y=u[h];null!=l.parentSector?a.sectorWithinSector(y,l.parentSector)&&(l.parentSector=y,l.lightLevel=y.lightLevel):(l.parentSector=y,l.lightLevel=y.lightLevel)}l.isNPC&&(l.npc=n.npc(l,s,o,r.patrolNodes,o.pathNodes,o.size)),l.update=function(e,t){l.isNPC&&l.npc.update(t),l.getSectorProps(t.sectors),l.sprite.update(e),l.hitCooldown-=f,l.hitCooldown<0&&(l.hitCooldown=0),l.destructible&&(l.prevHealth=l.health)},l.getSectorProps=function(e){l.parentSector=null;for(var t=0;t<e.length;t++)if(a.pointInPolygon(l.pos,e[t].lineDefs,e[t].bBox)){var i=e[t];null!=l.parentSector?a.sectorWithinSector(i,l.parentSector)&&(l.parentSector=i,l.lightLevel=i.lightLevel,"floor"==l.anchor?l.anchorHeight=i.floorHeight:"ceiling"==l.anchor&&(l.anchorHeight=i.ceilingHeight)):(l.parentSector=i,l.lightLevel=i.lightLevel,"floor"==l.anchor?l.anchorHeight=i.floorHeight:"ceiling"==l.anchor&&(l.anchorHeight=i.ceilingHeight))}},l.projectileHit=function(e,t){l.hitCooldown=l.hitCooldownTime,l.prevHealth=l.health,l.health-=e},x.push(l)}function l(e,t){var i=0;x=[];for(var r=0;r<e.length;r++){var n=e[r];thingDef=c[n.type],thingDef.instantiable&&s(i++,e[r],t)}}function d(e,t){f=o.getDeltaTime();for(var i=0;i<x.length;i++)x[i].update(e,t)}var c=r.get(),x=[],f=(e.get("propCollisionRadius"),o.getDeltaTime());return{init:l,update:d,getThings:function(){return x}}}();return s}),define("level1",[],function(){var e=function(){var e={size:{x:"1024",y:"1024",z:1024},skyTexture:"skyred",lineDefs:[{start:{x:320,y:0,attached:!1},end:{x:360,y:-224,attached:!1},sides:{leftNormal:{x:-.984427575508482,y:-.17579063848365756},rightNormal:{x:.984427575508482,y:.17579063848365745}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:320,y:-224,w:40,h:224}},{start:{x:360,y:-224,attached:!1},end:{x:160,y:-496,attached:!1},sides:{leftNormal:{x:-.8056510126494246,y:.5923904504775181},rightNormal:{x:.8056510126494246,y:-.5923904504775181}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:160,y:-496,w:200,h:272}},{start:{x:160,y:-496,attached:!1},end:{x:-200,y:-488,attached:!1},sides:{leftNormal:{x:.022216737285146823,y:.9997531778316099},rightNormal:{x:-.022216737285146948,y:-.9997531778316099}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-200,y:-496,w:360,h:8}},{start:{x:-200,y:-488,attached:!1},end:{x:-432,y:-296,attached:!1},sides:{leftNormal:{x:.637567714034226,y:.7703943211246898},rightNormal:{x:-.637567714034226,y:-.7703943211246898}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-432,y:-488,w:232,h:192}},{start:{x:-432,y:-296,attached:!1},end:{x:-472,y:-112,attached:!1},sides:{leftNormal:{x:.9771763639228009,y:.21242964433104375},rightNormal:{x:-.9771763639228009,y:-.21242964433104364}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-472,y:-296,w:40,h:184}},{start:{x:-472,y:-112,attached:!1},end:{x:-272,y:112,attached:!1},sides:{leftNormal:{x:.7459376616259147,y:-.6660157693088524},rightNormal:{x:-.7459376616259147,y:.6660157693088524}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-472,y:-112,w:200,h:224}},{start:{x:-272,y:112,attached:!1},end:{x:-64,y:-16,attached:!1},sides:{leftNormal:{x:-.5240974256643347,y:-.851658316704544},rightNormal:{x:.5240974256643347,y:.851658316704544}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-272,y:-16,w:208,h:128}},{start:{x:-64,y:-16,attached:!1},end:{x:128,y:0,attached:!1},sides:{leftNormal:{x:.08304547985374003,y:-.9965457582448796},rightNormal:{x:-.08304547985373992,y:.9965457582448796}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:-16,w:192,h:16}},{start:{x:128,y:0,attached:!1},end:{x:176,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:128,y:0,w:48,h:0}},{start:{x:176,y:0,attached:!1},end:{x:288,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:176,y:0,w:112,h:0}},{start:{x:288,y:0,attached:!1},end:{x:320,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:288,y:0,w:32,h:0}},{start:{x:176,y:0,attached:!1},end:{x:176,y:32,attached:!1},sides:{leftNormal:{x:1,y:6.123233995736766e-17},rightNormal:{x:-1,y:6.123233995736766e-17}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:176,y:0,w:0,h:32}},{start:{x:176,y:32,attached:!1},end:{x:128,y:32,attached:!1},sides:{leftNormal:{x:-6.123233995736766e-17,y:1},rightNormal:{x:-6.123233995736766e-17,y:-1}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:128,y:32,w:48,h:0}},{start:{x:128,y:32,attached:!1},end:{x:112,y:88,attached:!1},sides:{leftNormal:{x:.9615239476408232,y:.2747211278973781},rightNormal:{x:-.9615239476408232,y:-.274721127897378}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:112,y:32,w:16,h:56}},{start:{x:112,y:88,attached:!1},end:{x:352,y:120,attached:!1},sides:{leftNormal:{x:.132163720091018,y:-.9912279006826347},rightNormal:{x:-.1321637200910179,y:.9912279006826347}},texRef:"0",texRefUpper:"stonebrick64",
texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:112,y:88,w:240,h:32}},{start:{x:352,y:120,attached:!1},end:{x:360,y:40,attached:!1},sides:{leftNormal:{x:-.9950371902099892,y:-.09950371902099897},rightNormal:{x:.9950371902099892,y:.09950371902099886}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:352,y:40,w:8,h:80}},{start:{x:360,y:40,attached:!1},end:{x:328,y:32,attached:!1},sides:{leftNormal:{x:-.24253562503633302,y:.9701425001453319},rightNormal:{x:.2425356250363329,y:-.9701425001453319}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:328,y:32,w:32,h:8}},{start:{x:328,y:32,attached:!1},end:{x:320,y:0,attached:!1},sides:{leftNormal:{x:-.9701425001453319,y:.2425356250363329},rightNormal:{x:.9701425001453319,y:-.24253562503633302}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:320,y:0,w:8,h:32}},{start:{x:112,y:88,attached:!1},end:{x:72,y:136,attached:!1},sides:{leftNormal:{x:.7682212795973759,y:.6401843996644799},rightNormal:{x:-.7682212795973759,y:-.6401843996644799}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:72,y:88,w:40,h:48}},{start:{x:72,y:136,attached:!1},end:{x:312,y:248,attached:!1},sides:{leftNormal:{x:.4228854653311239,y:-.9061831399952655},rightNormal:{x:-.4228854653311238,y:.9061831399952655}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:72,y:136,w:240,h:112}},{start:{x:312,y:248,attached:!1},end:{x:352,y:120,attached:!1},sides:{leftNormal:{x:-.9544799780350297,y:-.29827499313594685},rightNormal:{x:.9544799780350297,y:.29827499313594674}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:312,y:120,w:40,h:128}},{start:{x:72,y:136,attached:!1},end:{x:32,y:152,attached:!1},sides:{leftNormal:{x:.37139067635410367,y:.9284766908852594},rightNormal:{x:-.3713906763541038,y:-.9284766908852594}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:32,y:136,w:40,h:16}},{start:{x:32,y:152,attached:!1},end:{x:208,y:368,attached:!1},sides:{leftNormal:{x:.7752349855172893,y:-.6316729511622358},rightNormal:{x:-.7752349855172893,y:.6316729511622358}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:32,y:152,w:176,h:216}},{start:{x:208,y:368,attached:!1},end:{x:312,y:248,attached:!1},sides:{leftNormal:{x:-.7556890827898176,y:-.6549305384178419},rightNormal:{x:.7556890827898176,y:.6549305384178419}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:208,y:248,w:104,h:120}},{start:{x:32,y:152,attached:!1},end:{x:0,y:160,attached:!1},sides:{leftNormal:{x:.2425356250363329,y:.9701425001453319},rightNormal:{x:-.24253562503633302,y:-.9701425001453319}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:0,y:152,w:32,h:8}},{start:{x:0,y:160,attached:!1},end:{x:104,y:424,attached:!1},sides:{leftNormal:{x:.9304083928170915,y:-.36652451838249056},rightNormal:{x:-.9304083928170915,y:.36652451838249067}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:0,y:160,w:104,h:264}},{start:{x:104,y:424,attached:!1},end:{x:208,y:368,attached:!1},sides:{leftNormal:{x:-.4740998230350174,y:-.8804710999221753},rightNormal:{x:.4740998230350175,y:.8804710999221753}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:104,y:368,w:104,h:56}},{start:{x:0,y:160,attached:!1},end:{x:-24,y:144,attached:!1},sides:{leftNormal:{x:-.5547001962252291,y:.8320502943378437},rightNormal:{x:.5547001962252291,y:-.8320502943378437}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-24,y:144,w:24,h:16}},{start:{x:-24,y:144,attached:!1},end:{x:-64,y:152,attached:!1},sides:{leftNormal:{x:.196116135138184,y:.9805806756909202},rightNormal:{x:-.1961161351381841,y:-.9805806756909202}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:144,w:40,h:8}},{start:{x:-64,y:152,attached:!1},end:{x:-48,y:208,attached:!1},sides:{leftNormal:{x:.9615239476408232,y:-.274721127897378},rightNormal:{x:-.9615239476408232,y:.2747211278973781}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:152,w:16,h:56}},{start:{x:-48,y:208,attached:!1},end:{x:-88,y:224,attached:!1},sides:{leftNormal:{x:.37139067635410367,y:.9284766908852594},rightNormal:{x:-.3713906763541038,y:-.9284766908852594}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-88,y:208,w:40,h:16}},{start:{x:-88,y:224,attached:!1},end:{x:-112,y:160,attached:!1},sides:{leftNormal:{x:-.9363291775690445,y:.35112344158839165},rightNormal:{x:.9363291775690445,y:-.35112344158839176}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-112,y:160,w:24,h:64}},{start:{x:104,y:424,attached:!1},end:{x:96,y:456,attached:!1},sides:{leftNormal:{x:.9701425001453319,y:.24253562503633302},rightNormal:{x:-.9701425001453319,y:-.2425356250363329}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:96,y:424,w:8,h:32}},{start:{x:96,y:456,attached:!1},end:{x:48,y:472,attached:!1},sides:{leftNormal:{x:.3162277660168379,y:.9486832980505138},rightNormal:{x:-.316227766016838,y:-.9486832980505138}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:48,y:456,w:48,h:16}},{start:{x:48,y:472,attached:!1},end:{x:32,y:424,attached:!1},sides:{leftNormal:{x:-.9486832980505138,y:.3162277660168379},rightNormal:{x:.9486832980505138,y:-.316227766016838}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:32,y:424,w:16,h:48}},{start:{x:32,y:424,attached:!1},end:{x:-8,y:440,attached:!1},sides:{leftNormal:{x:.37139067635410367,y:.9284766908852594},rightNormal:{x:-.3713906763541038,y:-.9284766908852594}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-8,y:424,w:40,h:16}},{start:{x:-8,y:440,attached:!1},end:{x:8,y:488,attached:!1},sides:{leftNormal:{x:.9486832980505138,y:-.3162277660168379},rightNormal:{x:-.9486832980505138,y:.316227766016838}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-8,y:440,w:16,h:48}},{start:{x:8,y:488,attached:!1},end:{x:-360,y:496,attached:!1},sides:{leftNormal:{x:.021733995409215508,y:.9997637888239163},rightNormal:{x:-.021733995409215633,y:-.9997637888239163}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:488,w:368,h:8}},{start:{x:-360,y:496,attached:!1},end:{x:-280,y:320,attached:!1},sides:{leftNormal:{x:-.9103664774626047,y:-.41380294430118403},rightNormal:{x:.9103664774626047,y:.4138029443011839}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:320,w:80,h:176}},{start:{x:-280,y:320,attached:!1},end:{x:-312,y:304,attached:!1},sides:{leftNormal:{x:-.447213595499958,y:.8944271909999159},rightNormal:{x:.44721359549995787,y:-.8944271909999159}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-312,y:304,w:32,h:16}},{start:{x:-312,y:304,attached:!1},end:{x:-384,y:344,attached:!1},sides:{leftNormal:{x:.485642931178632,y:.8741572761215377},rightNormal:{x:-.4856429311786321,y:-.8741572761215377}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-384,y:304,w:72,h:40}},{start:{x:-384,y:344,attached:!1},end:{x:-504,y:312,attached:!1},sides:{leftNormal:{x:-.2576626505603324,y:.9662349396012463},rightNormal:{x:.2576626505603323,y:-.9662349396012463}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-504,y:312,w:120,h:32}},{start:{x:-504,y:312,attached:!1},end:{x:-496,y:48,attached:!1},sides:{leftNormal:{x:-.9995411791453814,y:-.030289126640769198},rightNormal:{x:.9995411791453814,y:.030289126640769073}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-504,y:48,w:8,h:264}},{start:{x:-496,y:48,attached:!1},end:{x:-320,y:88,attached:!1},sides:{leftNormal:{x:.22162110358896817,y:-.9751328557914597},rightNormal:{x:-.22162110358896805,y:.9751328557914597}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-496,y:48,w:176,h:40}},{start:{x:-320,y:88,attached:!1},end:{x:-272,y:168,attached:!1},sides:{leftNormal:{x:.8574929257125441,y:-.5144957554275265},rightNormal:{x:-.8574929257125441,y:.5144957554275265}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-320,y:88,w:48,h:80}},{start:{x:-272,y:168,attached:!1},end:{x:-240,y:176,attached:!1},sides:{leftNormal:{x:.24253562503633302,y:-.9701425001453319},rightNormal:{x:-.2425356250363329,y:.9701425001453319}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-272,y:168,w:32,h:8}},{start:{x:-240,y:176,attached:!1},end:{x:-216,y:128,attached:!1},sides:{leftNormal:{x:-.8944271909999159,y:-.447213595499958},rightNormal:{x:.8944271909999159,y:.44721359549995787}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-240,y:128,w:24,h:48}},{start:{x:-216,y:128,attached:!1},end:{x:-112,y:160,attached:!1},sides:{leftNormal:{x:.29408584883752314,y:-.95577900872195},rightNormal:{x:-.29408584883752303,y:.95577900872195}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-216,y:128,w:104,h:32}},{start:{x:-168,y:-440,attached:!1},end:{x:-376,y:-272,attached:!1},sides:{leftNormal:{x:.6283371070876212,y:.7779411802037216},rightNormal:{x:-.6283371070876212,y:-.7779411802037216}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-376,y:-440,w:208,h:168}},{start:{x:-376,y:-272,attached:!1},end:{x:-408,y:-120,attached:!1},sides:{leftNormal:{x:.9785497849867489,y:.20601048104984196},rightNormal:{x:-.9785497849867489,y:-.20601048104984185}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-408,y:-272,w:32,h:152}},{start:{x:-408,y:-120,attached:!1},end:{x:-264,y:56,attached:!1},sides:{leftNormal:{x:.773957299203321,y:-.6332377902572627},rightNormal:{x:-.773957299203321,y:.6332377902572627}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-408,y:-120,w:144,h:176}},{start:{x:-264,y:56,attached:!1},end:{x:-72,y:-64,attached:!1},sides:{leftNormal:{x:-.52999894000318,y:-.847998304005088},rightNormal:{x:.52999894000318,y:.847998304005088}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-264,y:-64,w:192,h:120}},{start:{x:-72,y:-64,attached:!1},end:{x:48,y:-64,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-72,y:-64,w:120,h:0}},{start:{x:48,y:-64,attached:!1},end:{x:8,y:-360,attached:!1},sides:{leftNormal:{x:-.9909924304103233,y:.13391789600139498},rightNormal:{x:.9909924304103233,y:-.1339178960013951}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:8,y:-360,w:40,h:296}},{start:{x:8,y:-360,attached:!1},end:{x:-168,y:-440,attached:!1},sides:{leftNormal:{x:-.41380294430118403,y:.9103664774626047},rightNormal:{x:.4138029443011839,y:-.9103664774626047}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-168,y:-440,w:176,h:80}},{start:{x:-184,y:-368,attached:!1},end:{x:-328,y:-256,attached:!1},sides:{leftNormal:{x:.6139406135149205,y:.7893522173763263},rightNormal:{x:-.6139406135149205,y:-.7893522173763263}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-328,y:-368,w:144,h:112}},{start:{x:-328,y:-256,attached:!1},end:{x:-360,y:-128,attached:!1},sides:{leftNormal:{x:.9701425001453319,y:.24253562503633302},rightNormal:{x:-.9701425001453319,y:-.2425356250363329}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:-256,w:32,h:128}},{start:{x:-360,y:-128,attached:!1},end:{x:-256,y:0,attached:!1},sides:{leftNormal:{x:.7761140001162655,y:-.6305926250944657},rightNormal:{x:-.7761140001162655,y:.6305926250944657}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:-128,w:104,h:128}},{start:{x:-256,y:0,attached:!1},end:{x:-96,y:-104,attached:!1},sides:{leftNormal:{x:-.5449883505954141,y:-.838443616300637},rightNormal:{x:.5449883505954141,y:.838443616300637}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-256,y:-104,w:160,h:104}},{start:{x:-96,y:-104,attached:!1},end:{x:-88,y:-264,attached:!1},sides:{leftNormal:{x:-.9987523388778445,y:-.049937616943892295},rightNormal:{x:.9987523388778445,y:.04993761694389217}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-96,y:-264,w:8,h:160}},{start:{x:-88,y:-264,attached:!1},end:{x:-184,y:-368,attached:!1},sides:{leftNormal:{x:-.7348034446274879,y:.6782801027330658},rightNormal:{x:.7348034446274879,y:-.6782801027330658}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-368,w:96,h:104}},{start:{x:-272,y:168,attached:!1},end:{x:-312,y:304,attached:!1},sides:{leftNormal:{x:.9593655015712707,y:.2821663239915502},rightNormal:{x:-.9593655015712707,y:-.2821663239915501}},texRef:"woodwalltrans",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-312,y:168,w:40,h:136}},{start:{x:128,y:-384,attached:!1},end:{x:128,y:-320,attached:!1},sides:{leftNormal:{x:1,y:6.123233995736766e-17},rightNormal:{x:-1,y:6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-384,w:0,h:64}},{start:{x:128,y:-320,attached:!1},end:{x:192,y:-320,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-320,w:64,h:0}},{start:{x:192,y:-320,attached:!1},end:{x:192,y:-384,attached:!1},sides:{leftNormal:{x:-1,y:-6.123233995736766e-17},rightNormal:{x:1,y:-6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:192,y:-384,w:0,h:64}},{start:{x:192,y:-384,attached:!1},end:{x:128,y:-384,attached:!1},sides:{leftNormal:{x:-6.123233995736766e-17,y:1},rightNormal:{x:-6.123233995736766e-17,y:-1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-384,w:64,h:0}},{start:{x:128,y:-256,attached:!1},end:{x:128,y:-192,attached:!1},sides:{leftNormal:{x:1,y:6.123233995736766e-17},rightNormal:{x:-1,y:6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-256,w:0,h:64}},{start:{x:128,y:-192,attached:!1},end:{x:192,y:-192,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-192,w:64,h:0}},{start:{x:192,y:-192,attached:!1},end:{x:192,y:-256,attached:!1},sides:{leftNormal:{x:-1,y:-6.123233995736766e-17},rightNormal:{x:1,y:-6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:192,y:-256,w:0,h:64}},{start:{x:192,y:-256,attached:!1},end:{x:128,y:-256,attached:!1},sides:{leftNormal:{x:-6.123233995736766e-17,y:1},rightNormal:{x:-6.123233995736766e-17,y:-1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-256,w:64,h:0}},{start:{x:-200,y:-240,attached:!1},end:{x:-280,y:-200,attached:!1},sides:{leftNormal:{x:.44721359549995787,y:.8944271909999159},rightNormal:{x:-.447213595499958,y:-.8944271909999159}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-280,y:-240,w:80,h:40}},{start:{x:-280,y:-200,attached:!1},end:{x:-296,y:-128,attached:!1},sides:{leftNormal:{x:.9761870601839528,y:.21693045781865622},rightNormal:{x:-.9761870601839528,y:-.2169304578186561}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-296,y:-200,w:16,h:72}},{start:{x:-296,y:-128,attached:!1},end:{x:-240,y:-64,attached:!1},sides:{leftNormal:{x:.7525766947068778,y:-.658504607868518},rightNormal:{x:-.7525766947068778,y:.658504607868518}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-296,y:-128,w:56,h:64}},{start:{x:-240,y:-64,attached:!1},end:{x:-144,y:-128,attached:!1},sides:{leftNormal:{x:-.5547001962252291,y:-.8320502943378437},rightNormal:{x:.5547001962252291,y:.8320502943378437}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-240,y:-128,w:96,h:64}},{start:{x:-144,y:-128,attached:!1},end:{x:-200,y:-240,attached:!1},sides:{leftNormal:{x:-.8944271909999159,y:.44721359549995787},rightNormal:{x:.8944271909999159,y:-.447213595499958}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-200,y:-240,w:56,h:112}},{start:{x:-48,y:208,attached:!1},end:{x:32,y:424,attached:!1},sides:{leftNormal:{x:.9377487607237036,y:-.3473143558235939},rightNormal:{x:-.9377487607237036,y:.347314355823594}},texRef:"0",texRefUpper:"0",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-48,y:208,w:80,h:216}}],doors:[],sectors:[{lineDefs:[{start:{x:320,y:0,attached:!1},end:{x:360,y:-224,attached:!1},sides:{leftNormal:{x:-.984427575508482,y:-.17579063848365756},rightNormal:{x:.984427575508482,y:.17579063848365745}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:320,y:-224,w:40,h:224}},{start:{x:360,y:-224,attached:!1},end:{x:160,y:-496,attached:!1},sides:{leftNormal:{x:-.8056510126494246,y:.5923904504775181},rightNormal:{x:.8056510126494246,y:-.5923904504775181}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:160,y:-496,w:200,h:272}},{start:{x:160,y:-496,attached:!1},end:{x:-200,y:-488,attached:!1},sides:{leftNormal:{x:.022216737285146823,y:.9997531778316099},rightNormal:{x:-.022216737285146948,y:-.9997531778316099}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-200,y:-496,w:360,h:8}},{start:{x:-200,y:-488,attached:!1},end:{x:-432,y:-296,attached:!1},sides:{leftNormal:{x:.637567714034226,y:.7703943211246898},rightNormal:{x:-.637567714034226,y:-.7703943211246898}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-432,y:-488,w:232,h:192}},{start:{x:-432,y:-296,attached:!1},end:{x:-472,y:-112,attached:!1},sides:{leftNormal:{x:.9771763639228009,y:.21242964433104375},rightNormal:{x:-.9771763639228009,y:-.21242964433104364}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-472,y:-296,w:40,h:184}},{start:{x:-472,y:-112,attached:!1},end:{x:-272,y:112,attached:!1},sides:{leftNormal:{x:.7459376616259147,y:-.6660157693088524},rightNormal:{x:-.7459376616259147,y:.6660157693088524}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-472,y:-112,w:200,h:224}},{start:{x:-272,y:112,attached:!1},end:{x:-64,y:-16,attached:!1},sides:{leftNormal:{x:-.5240974256643347,y:-.851658316704544},rightNormal:{x:.5240974256643347,y:.851658316704544}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-272,y:-16,w:208,h:128}},{start:{x:-64,y:-16,attached:!1},end:{x:128,y:0,attached:!1},sides:{leftNormal:{x:.08304547985374003,y:-.9965457582448796},rightNormal:{x:-.08304547985373992,y:.9965457582448796}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:-16,w:192,h:16}},{start:{x:128,y:0,attached:!1},end:{x:176,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:128,y:0,w:48,h:0}},{start:{x:176,y:0,attached:!1},end:{x:288,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:176,y:0,w:112,h:0}},{start:{x:288,y:0,attached:!1},end:{x:320,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:288,y:0,w:32,h:0}}],bBox:{x:-472,y:-496,w:832,h:608},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"blackhex64",ceilingHeight:120,floorHeight:16,lightLevel:.8,collisionFacesInverted:!1,upperWallHeight:56},{lineDefs:[{start:{x:-168,y:-440,attached:!1},end:{x:-376,y:-272,attached:!1},sides:{leftNormal:{x:.6283371070876212,y:.7779411802037216},rightNormal:{x:-.6283371070876212,y:-.7779411802037216}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-376,y:-440,w:208,h:168}},{start:{x:-376,y:-272,attached:!1},end:{x:-408,y:-120,attached:!1},sides:{leftNormal:{x:.9785497849867489,y:.20601048104984196},rightNormal:{x:-.9785497849867489,y:-.20601048104984185}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-408,y:-272,w:32,h:152}},{start:{x:-408,y:-120,attached:!1},end:{x:-264,y:56,attached:!1},sides:{leftNormal:{x:.773957299203321,y:-.6332377902572627},rightNormal:{x:-.773957299203321,y:.6332377902572627}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-408,y:-120,w:144,h:176}},{start:{x:-264,y:56,attached:!1},end:{x:-72,y:-64,attached:!1},sides:{leftNormal:{x:-.52999894000318,y:-.847998304005088},rightNormal:{x:.52999894000318,y:.847998304005088}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-264,y:-64,w:192,h:120}},{start:{x:-72,y:-64,attached:!1},end:{x:48,y:-64,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-72,y:-64,w:120,h:0}},{start:{x:48,y:-64,attached:!1},end:{x:8,y:-360,attached:!1},sides:{leftNormal:{x:-.9909924304103233,y:.13391789600139498},rightNormal:{x:.9909924304103233,y:-.1339178960013951}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:8,y:-360,w:40,h:296}},{start:{x:8,y:-360,attached:!1},end:{x:-168,y:-440,attached:!1},sides:{leftNormal:{x:-.41380294430118403,y:.9103664774626047},rightNormal:{x:.4138029443011839,y:-.9103664774626047}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-168,y:-440,w:176,h:80}}],bBox:{x:-408,y:-440,w:456,h:496},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"0",ceilingHeight:150,floorHeight:16,lightLevel:1,collisionFacesInverted:!1,upperWallHeight:86},{lineDefs:[{start:{x:-184,y:-368,attached:!1},end:{x:-328,y:-256,attached:!1},sides:{leftNormal:{x:.6139406135149205,y:.7893522173763263},rightNormal:{x:-.6139406135149205,y:-.7893522173763263}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-328,y:-368,w:144,h:112}},{start:{x:-328,y:-256,attached:!1},end:{x:-360,y:-128,attached:!1},sides:{leftNormal:{x:.9701425001453319,y:.24253562503633302},rightNormal:{x:-.9701425001453319,y:-.2425356250363329}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:-256,w:32,h:128}},{start:{x:-360,y:-128,attached:!1},end:{x:-256,y:0,attached:!1},sides:{leftNormal:{x:.7761140001162655,y:-.6305926250944657},rightNormal:{x:-.7761140001162655,y:.6305926250944657}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:-128,w:104,h:128}},{start:{x:-256,y:0,attached:!1},end:{x:-96,y:-104,attached:!1},sides:{leftNormal:{x:-.5449883505954141,y:-.838443616300637},rightNormal:{x:.5449883505954141,y:.838443616300637}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-256,y:-104,w:160,h:104}},{start:{x:-96,y:-104,attached:!1},end:{x:-88,y:-264,attached:!1},sides:{leftNormal:{x:-.9987523388778445,y:-.049937616943892295},rightNormal:{x:.9987523388778445,y:.04993761694389217}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-96,y:-264,w:8,h:160}},{start:{x:-88,y:-264,attached:!1},end:{x:-184,y:-368,attached:!1},sides:{leftNormal:{x:-.7348034446274879,y:.6782801027330658},rightNormal:{x:.7348034446274879,y:-.6782801027330658}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-368,w:96,h:104}}],bBox:{x:-360,y:-368,w:272,h:368},isSelected:!1,texRefFloor:"water64",texRefCeiling:"0",ceilingHeight:150,floorHeight:0,lightLevel:1,collisionFacesInverted:!1,upperWallHeight:86},{lineDefs:[{start:{x:-200,y:-240,attached:!1},end:{x:-280,y:-200,attached:!1},sides:{leftNormal:{x:.44721359549995787,y:.8944271909999159},rightNormal:{x:-.447213595499958,y:-.8944271909999159}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-280,y:-240,w:80,h:40}},{start:{x:-280,y:-200,attached:!1},end:{x:-296,y:-128,attached:!1},sides:{leftNormal:{x:.9761870601839528,y:.21693045781865622},rightNormal:{x:-.9761870601839528,y:-.2169304578186561}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-296,y:-200,w:16,h:72}},{start:{x:-296,y:-128,attached:!1},end:{x:-240,y:-64,attached:!1},sides:{leftNormal:{x:.7525766947068778,y:-.658504607868518},rightNormal:{x:-.7525766947068778,y:.658504607868518}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-296,y:-128,w:56,h:64}},{start:{x:-240,y:-64,attached:!1},end:{x:-144,y:-128,attached:!1},sides:{leftNormal:{x:-.5547001962252291,y:-.8320502943378437},rightNormal:{x:.5547001962252291,y:.8320502943378437}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-240,y:-128,w:96,h:64}},{start:{x:-144,y:-128,attached:!1},end:{x:-200,y:-240,attached:!1},sides:{leftNormal:{x:-.8944271909999159,y:.44721359549995787},rightNormal:{x:.8944271909999159,y:-.447213595499958}},texRef:"0",texRefUpper:"0",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-200,y:-240,w:56,h:112}}],bBox:{x:-296,y:-240,w:152,h:176},isSelected:!1,texRefFloor:"floorearth64",texRefCeiling:"0",ceilingHeight:150,floorHeight:32,lightLevel:1,collisionFacesInverted:!1,upperWallHeight:86},{lineDefs:[{start:{x:128,y:-384,attached:!1},end:{x:128,y:-320,attached:!1},sides:{leftNormal:{x:1,y:6.123233995736766e-17},rightNormal:{x:-1,y:6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-384,w:0,h:64}},{start:{x:128,y:-320,attached:!1},end:{x:192,y:-320,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-320,w:64,h:0}},{start:{x:192,y:-320,attached:!1},end:{x:192,y:-384,attached:!1},sides:{leftNormal:{x:-1,y:-6.123233995736766e-17},rightNormal:{x:1,y:-6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:192,y:-384,w:0,h:64}},{start:{x:192,y:-384,attached:!1},end:{x:128,y:-384,attached:!1},sides:{leftNormal:{x:-6.123233995736766e-17,y:1},rightNormal:{x:-6.123233995736766e-17,y:-1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-384,w:64,h:0}}],bBox:{x:128,y:-384,w:64,h:64},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"light64",ceilingHeight:100,floorHeight:16,lightLevel:2,collisionFacesInverted:!1,upperWallHeight:36},{lineDefs:[{start:{x:128,y:-256,attached:!1},end:{x:128,y:-192,attached:!1},sides:{leftNormal:{x:1,y:6.123233995736766e-17},rightNormal:{x:-1,y:6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-256,w:0,h:64}},{start:{x:128,y:-192,attached:!1},end:{x:192,y:-192,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:128,y:-192,w:64,h:0}},{start:{x:192,y:-192,attached:!1},end:{x:192,y:-256,attached:!1},sides:{leftNormal:{x:-1,y:-6.123233995736766e-17},rightNormal:{x:1,y:-6.123233995736766e-17}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:192,y:-256,w:0,h:64}},{start:{x:192,y:-256,attached:!1},end:{x:128,y:-256,attached:!1},sides:{leftNormal:{x:-6.123233995736766e-17,y:1},rightNormal:{x:-6.123233995736766e-17,y:-1}},texRef:"0",texRefUpper:"wolfdoorsilver64",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{
x:128,y:-256,w:64,h:0}}],bBox:{x:128,y:-256,w:64,h:64},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"light64",ceilingHeight:100,floorHeight:16,lightLevel:2,collisionFacesInverted:!1,upperWallHeight:36},{lineDefs:[{start:{x:-312,y:304,attached:!1},end:{x:-384,y:344,attached:!1},sides:{leftNormal:{x:.485642931178632,y:.8741572761215377},rightNormal:{x:-.4856429311786321,y:-.8741572761215377}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-384,y:304,w:72,h:40}},{start:{x:-384,y:344,attached:!1},end:{x:-504,y:312,attached:!1},sides:{leftNormal:{x:-.2576626505603324,y:.9662349396012463},rightNormal:{x:.2576626505603323,y:-.9662349396012463}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-504,y:312,w:120,h:32}},{start:{x:-504,y:312,attached:!1},end:{x:-496,y:48,attached:!1},sides:{leftNormal:{x:-.9995411791453814,y:-.030289126640769198},rightNormal:{x:.9995411791453814,y:.030289126640769073}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-504,y:48,w:8,h:264}},{start:{x:-496,y:48,attached:!1},end:{x:-320,y:88,attached:!1},sides:{leftNormal:{x:.22162110358896817,y:-.9751328557914597},rightNormal:{x:-.22162110358896805,y:.9751328557914597}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-496,y:48,w:176,h:40}},{start:{x:-320,y:88,attached:!1},end:{x:-272,y:168,attached:!1},sides:{leftNormal:{x:.8574929257125441,y:-.5144957554275265},rightNormal:{x:-.8574929257125441,y:.5144957554275265}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-320,y:88,w:48,h:80}},{start:{x:-272,y:168,attached:!1},end:{x:-312,y:304,attached:!1},sides:{leftNormal:{x:.9593655015712707,y:.2821663239915502},rightNormal:{x:-.9593655015712707,y:-.2821663239915501}},texRef:"woodwalltrans",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-312,y:168,w:40,h:136}}],bBox:{x:-504,y:48,w:232,h:296},isSelected:!1,texRefFloor:"floorearth64",texRefCeiling:"0",ceilingHeight:168,floorHeight:110,lightLevel:1,collisionFacesInverted:!1,upperWallHeight:104},{lineDefs:[{start:{x:176,y:0,attached:!1},end:{x:288,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:176,y:0,w:112,h:0}},{start:{x:288,y:0,attached:!1},end:{x:320,y:0,attached:!1},sides:{leftNormal:{x:6.123233995736766e-17,y:-1},rightNormal:{x:6.123233995736766e-17,y:1}},texRef:"0",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:288,y:0,w:32,h:0}},{start:{x:328,y:32,attached:!1},end:{x:320,y:0,attached:!1},sides:{leftNormal:{x:-.9701425001453319,y:.2425356250363329},rightNormal:{x:.9701425001453319,y:-.24253562503633302}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:320,y:0,w:8,h:32}},{start:{x:360,y:40,attached:!1},end:{x:328,y:32,attached:!1},sides:{leftNormal:{x:-.24253562503633302,y:.9701425001453319},rightNormal:{x:.2425356250363329,y:-.9701425001453319}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:328,y:32,w:32,h:8}},{start:{x:352,y:120,attached:!1},end:{x:360,y:40,attached:!1},sides:{leftNormal:{x:-.9950371902099892,y:-.09950371902099897},rightNormal:{x:.9950371902099892,y:.09950371902099886}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:352,y:40,w:8,h:80}},{start:{x:112,y:88,attached:!1},end:{x:352,y:120,attached:!1},sides:{leftNormal:{x:.132163720091018,y:-.9912279006826347},rightNormal:{x:-.1321637200910179,y:.9912279006826347}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:112,y:88,w:240,h:32}},{start:{x:128,y:32,attached:!1},end:{x:112,y:88,attached:!1},sides:{leftNormal:{x:.9615239476408232,y:.2747211278973781},rightNormal:{x:-.9615239476408232,y:-.274721127897378}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:112,y:32,w:16,h:56}},{start:{x:176,y:32,attached:!1},end:{x:128,y:32,attached:!1},sides:{leftNormal:{x:-6.123233995736766e-17,y:1},rightNormal:{x:-6.123233995736766e-17,y:-1}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:128,y:32,w:48,h:0}},{start:{x:176,y:0,attached:!1},end:{x:176,y:32,attached:!1},sides:{leftNormal:{x:1,y:6.123233995736766e-17},rightNormal:{x:-1,y:6.123233995736766e-17}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:176,y:0,w:0,h:32}}],bBox:{x:112,y:0,w:248,h:120},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorearth64",ceilingHeight:104,floorHeight:32,lightLevel:.7,collisionFacesInverted:!1,upperWallHeight:40},{lineDefs:[{start:{x:112,y:88,attached:!1},end:{x:352,y:120,attached:!1},sides:{leftNormal:{x:.132163720091018,y:-.9912279006826347},rightNormal:{x:-.1321637200910179,y:.9912279006826347}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:112,y:88,w:240,h:32}},{start:{x:312,y:248,attached:!1},end:{x:352,y:120,attached:!1},sides:{leftNormal:{x:-.9544799780350297,y:-.29827499313594685},rightNormal:{x:.9544799780350297,y:.29827499313594674}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:312,y:120,w:40,h:128}},{start:{x:72,y:136,attached:!1},end:{x:312,y:248,attached:!1},sides:{leftNormal:{x:.4228854653311239,y:-.9061831399952655},rightNormal:{x:-.4228854653311238,y:.9061831399952655}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:72,y:136,w:240,h:112}},{start:{x:112,y:88,attached:!1},end:{x:72,y:136,attached:!1},sides:{leftNormal:{x:.7682212795973759,y:.6401843996644799},rightNormal:{x:-.7682212795973759,y:-.6401843996644799}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:72,y:88,w:40,h:48}}],bBox:{x:72,y:88,w:280,h:160},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorearth64",ceilingHeight:120,floorHeight:48,lightLevel:.6,collisionFacesInverted:!1,upperWallHeight:56},{lineDefs:[{start:{x:72,y:136,attached:!1},end:{x:312,y:248,attached:!1},sides:{leftNormal:{x:.4228854653311239,y:-.9061831399952655},rightNormal:{x:-.4228854653311238,y:.9061831399952655}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:72,y:136,w:240,h:112}},{start:{x:208,y:368,attached:!1},end:{x:312,y:248,attached:!1},sides:{leftNormal:{x:-.7556890827898176,y:-.6549305384178419},rightNormal:{x:.7556890827898176,y:.6549305384178419}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:208,y:248,w:104,h:120}},{start:{x:32,y:152,attached:!1},end:{x:208,y:368,attached:!1},sides:{leftNormal:{x:.7752349855172893,y:-.6316729511622358},rightNormal:{x:-.7752349855172893,y:.6316729511622358}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:32,y:152,w:176,h:216}},{start:{x:72,y:136,attached:!1},end:{x:32,y:152,attached:!1},sides:{leftNormal:{x:.37139067635410367,y:.9284766908852594},rightNormal:{x:-.3713906763541038,y:-.9284766908852594}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:32,y:136,w:40,h:16}}],bBox:{x:32,y:136,w:280,h:232},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorearth64",ceilingHeight:136,floorHeight:64,lightLevel:.5,collisionFacesInverted:!1,upperWallHeight:72},{lineDefs:[{start:{x:32,y:152,attached:!1},end:{x:208,y:368,attached:!1},sides:{leftNormal:{x:.7752349855172893,y:-.6316729511622358},rightNormal:{x:-.7752349855172893,y:.6316729511622358}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:32,y:152,w:176,h:216}},{start:{x:104,y:424,attached:!1},end:{x:208,y:368,attached:!1},sides:{leftNormal:{x:-.4740998230350174,y:-.8804710999221753},rightNormal:{x:.4740998230350175,y:.8804710999221753}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:104,y:368,w:104,h:56}},{start:{x:0,y:160,attached:!1},end:{x:104,y:424,attached:!1},sides:{leftNormal:{x:.9304083928170915,y:-.36652451838249056},rightNormal:{x:-.9304083928170915,y:.36652451838249067}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:0,y:160,w:104,h:264}},{start:{x:32,y:152,attached:!1},end:{x:0,y:160,attached:!1},sides:{leftNormal:{x:.2425356250363329,y:.9701425001453319},rightNormal:{x:-.24253562503633302,y:-.9701425001453319}},texRef:"stonebrick64",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:0,y:152,w:32,h:8}}],bBox:{x:0,y:152,w:208,h:272},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorearth64",ceilingHeight:152,floorHeight:80,lightLevel:.6,collisionFacesInverted:!1,upperWallHeight:88},{lineDefs:[{start:{x:0,y:160,attached:!1},end:{x:104,y:424,attached:!1},sides:{leftNormal:{x:.9304083928170915,y:-.36652451838249056},rightNormal:{x:-.9304083928170915,y:.36652451838249067}},texRef:"0",texRefUpper:"stonebrick64",texRefLower:"stonebrick64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:0,y:160,w:104,h:264}},{start:{x:104,y:424,attached:!1},end:{x:96,y:456,attached:!1},sides:{leftNormal:{x:.9701425001453319,y:.24253562503633302},rightNormal:{x:-.9701425001453319,y:-.2425356250363329}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:96,y:424,w:8,h:32}},{start:{x:96,y:456,attached:!1},end:{x:48,y:472,attached:!1},sides:{leftNormal:{x:.3162277660168379,y:.9486832980505138},rightNormal:{x:-.316227766016838,y:-.9486832980505138}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:48,y:456,w:48,h:16}},{start:{x:48,y:472,attached:!1},end:{x:32,y:424,attached:!1},sides:{leftNormal:{x:-.9486832980505138,y:.3162277660168379},rightNormal:{x:.9486832980505138,y:-.316227766016838}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:32,y:424,w:16,h:48}},{start:{x:-48,y:208,attached:!1},end:{x:32,y:424,attached:!1},sides:{leftNormal:{x:.9377487607237036,y:-.3473143558235939},rightNormal:{x:-.9377487607237036,y:.347314355823594}},texRef:"0",texRefUpper:"0",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-48,y:208,w:80,h:216}},{start:{x:-64,y:152,attached:!1},end:{x:-48,y:208,attached:!1},sides:{leftNormal:{x:.9615239476408232,y:-.274721127897378},rightNormal:{x:-.9615239476408232,y:.2747211278973781}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:152,w:16,h:56}},{start:{x:-24,y:144,attached:!1},end:{x:-64,y:152,attached:!1},sides:{leftNormal:{x:.196116135138184,y:.9805806756909202},rightNormal:{x:-.1961161351381841,y:-.9805806756909202}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:144,w:40,h:8}},{start:{x:0,y:160,attached:!1},end:{x:-24,y:144,attached:!1},sides:{leftNormal:{x:-.5547001962252291,y:.8320502943378437},rightNormal:{x:.5547001962252291,y:-.8320502943378437}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-24,y:144,w:24,h:16}}],bBox:{x:-64,y:144,w:168,h:328},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorearth64",ceilingHeight:168,floorHeight:96,lightLevel:.7,collisionFacesInverted:!1,upperWallHeight:104},{lineDefs:[{start:{x:-48,y:208,attached:!1},end:{x:-88,y:224,attached:!1},sides:{leftNormal:{x:.37139067635410367,y:.9284766908852594},rightNormal:{x:-.3713906763541038,y:-.9284766908852594}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-88,y:208,w:40,h:16}},{start:{x:-88,y:224,attached:!1},end:{x:-112,y:160,attached:!1},sides:{leftNormal:{x:-.9363291775690445,y:.35112344158839165},rightNormal:{x:.9363291775690445,y:-.35112344158839176}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-112,y:160,w:24,h:64}},{start:{x:-216,y:128,attached:!1},end:{x:-112,y:160,attached:!1},sides:{leftNormal:{x:.29408584883752314,y:-.95577900872195},rightNormal:{x:-.29408584883752303,y:.95577900872195}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-216,y:128,w:104,h:32}},{start:{x:-240,y:176,attached:!1},end:{x:-216,y:128,attached:!1},sides:{leftNormal:{x:-.8944271909999159,y:-.447213595499958},rightNormal:{x:.8944271909999159,y:.44721359549995787}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-240,y:128,w:24,h:48}},{start:{x:-272,y:168,attached:!1},end:{x:-240,y:176,attached:!1},sides:{leftNormal:{x:.24253562503633302,y:-.9701425001453319},rightNormal:{x:-.2425356250363329,y:.9701425001453319}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-272,y:168,w:32,h:8}},{start:{x:-272,y:168,attached:!1},end:{x:-312,y:304,attached:!1},sides:{leftNormal:{x:.9593655015712707,y:.2821663239915502},rightNormal:{x:-.9593655015712707,y:-.2821663239915501}},texRef:"woodwalltrans",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-312,y:168,w:40,h:136}},{start:{x:-280,y:320,attached:!1},end:{x:-312,y:304,attached:!1},sides:{leftNormal:{x:-.447213595499958,y:.8944271909999159},rightNormal:{x:.44721359549995787,y:-.8944271909999159}},texRef:"greenmetal64",texRefUpper:"greenmetal64",texRefLower:"greenmetal64",solid:!0,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-312,y:304,w:32,h:16}},{start:{x:-360,y:496,attached:!1},end:{x:-280,y:320,attached:!1},sides:{leftNormal:{x:-.9103664774626047,y:-.41380294430118403},rightNormal:{x:.9103664774626047,y:.4138029443011839}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:320,w:80,h:176}},{start:{x:8,y:488,attached:!1},end:{x:-360,y:496,attached:!1},sides:{leftNormal:{x:.021733995409215508,y:.9997637888239163},rightNormal:{x:-.021733995409215633,y:-.9997637888239163}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:488,w:368,h:8}},{start:{x:-8,y:440,attached:!1},end:{x:8,y:488,attached:!1},sides:{leftNormal:{x:.9486832980505138,y:-.3162277660168379},rightNormal:{x:-.9486832980505138,y:.316227766016838}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-8,y:440,w:16,h:48}},{start:{x:32,y:424,attached:!1},end:{x:-8,y:440,attached:!1},sides:{leftNormal:{x:.37139067635410367,y:.9284766908852594},rightNormal:{x:-.3713906763541038,y:-.9284766908852594}},texRef:"woodlion",texRefUpper:"woodlion",texRefLower:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-8,y:424,w:40,h:16}},{start:{x:-48,y:208,attached:!1},end:{x:32,y:424,attached:!1},sides:{leftNormal:{x:.9377487607237036,y:-.3473143558235939},rightNormal:{x:-.9377487607237036,y:.347314355823594}},texRef:"0",texRefUpper:"0",texRefLower:"0",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-48,y:208,w:80,h:216}}],bBox:{x:-360,y:128,w:392,h:368},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorearth64",ceilingHeight:168,floorHeight:96,lightLevel:.8,collisionFacesInverted:!1,upperWallHeight:104}],things:[{pos:{x:-174,y:405},orient:{x:1,y:0},type:"playerstart",isSolid:!1,isRenderable:!1,isNpc:!1,isSelected:!1},{pos:{x:-424,y:135},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-362,y:214},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-462,y:256},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-459,y:85},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-473,y:117},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-387,y:312},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-30,y:180},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-289,y:454},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-274,y:404},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-239,y:445},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:144,y:60},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:332,y:64},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:107,y:-407},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:158,y:-403},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:146,y:-365},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:174,y:-339},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:220,y:-340},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:210,y:-386},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:153,y:-460},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:110,y:-455},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:43,y:-460},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-41,y:-136},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-32,y:-218},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:0,y:-176},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-436,y:-127},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-428,y:-175},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-419,y:-233},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-373,y:-205},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-389,y:-157},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-233,y:-155},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isNpc:!1,collisionRadius:32,anchor:"floor"},{pos:{x:-170,y:237},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-71,y:279},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-102,y:321},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-43,y:392},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-215,y:307},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-192,y:458},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-246,y:211},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-275,y:278},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:31,y:272},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:109,y:312},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:128,y:195},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:232,y:269},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:262,y:188},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:180,y:125},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:123,y:123},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:266,y:85},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:223,y:37},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:278,y:25},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:43,y:-358},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:281,y:-178},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:102,y:-118},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-88,y:-465},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-64,y:-451},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-77,y:-37},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-170,y:20},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-210,y:51},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-300,y:-385},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-257,y:-403},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:-207,y:-455},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isNpc:!1,collisionRadius:0,anchor:"ceiling"},{pos:{x:162,y:-287},orient:{x:1,y:0},type:"telepath",isSolid:!0,isRenderable:!0,isNpc:!0,collisionRadius:16,anchor:"floor",patrolNodes:[]},{pos:{x:-141,y:-364},orient:{x:1,y:0},type:"telepath",isSolid:!0,isRenderable:!0,isNpc:!0,collisionRadius:16,anchor:"floor",patrolNodes:[]},{pos:{x:6,y:-408},orient:{x:1,y:0},type:"telepath",isSolid:!0,isRenderable:!0,isNpc:!0,collisionRadius:16,anchor:"floor",patrolNodes:[]}],pathNodes:[[{x:-480,y:-480,mX:0,mY:0,isValid:!1},{x:-416,y:-480,mX:1,mY:0,isValid:!1},{x:-352,y:-480,mX:2,mY:0,isValid:!1},{x:-288,y:-480,mX:3,mY:0,isValid:!1},{x:-224,y:-480,mX:4,mY:0,isValid:!1},{x:-160,y:-480,mX:5,mY:0,isValid:!1},{x:-96,y:-480,mX:6,mY:0,isValid:!1},{x:-32,y:-480,mX:7,mY:0,isValid:!1},{x:32,y:-480,mX:8,mY:0,isValid:!1},{x:96,y:-480,mX:9,mY:0,isValid:!1},{x:160,y:-480,mX:10,mY:0,isValid:!1},{x:224,y:-480,mX:11,mY:0,isValid:!1},{x:288,y:-480,mX:12,mY:0,isValid:!1},{x:352,y:-480,mX:13,mY:0,isValid:!1},{x:416,y:-480,mX:14,mY:0,isValid:!1},{x:480,y:-480,mX:15,mY:0,isValid:!1}],[{x:-480,y:-416,mX:0,mY:1,isValid:!1},{x:-416,y:-416,mX:1,mY:1,isValid:!1},{x:-352,y:-416,mX:2,mY:1,isValid:!1},{x:-288,y:-416,mX:3,mY:1,isValid:!1},{x:-224,y:-416,mX:4,mY:1,isValid:!0},{x:-160,y:-416,mX:5,mY:1,isValid:!0},{x:-96,y:-416,mX:6,mY:1,isValid:!0},{x:-32,y:-416,mX:7,mY:1,isValid:!0},{x:32,y:-416,mX:8,mY:1,isValid:!1},{x:96,y:-416,mX:9,mY:1,isValid:!1},{x:160,y:-416,mX:10,mY:1,isValid:!1},{x:224,y:-416,mX:11,mY:1,isValid:!1},{x:288,y:-416,mX:12,mY:1,isValid:!1},{x:352,y:-416,mX:13,mY:1,isValid:!1},{x:416,y:-416,mX:14,mY:1,isValid:!1},{x:480,y:-416,mX:15,mY:1,isValid:!1}],[{x:-480,y:-352,mX:0,mY:2,isValid:!1},{x:-416,y:-352,mX:1,mY:2,isValid:!1},{x:-352,y:-352,mX:2,mY:2,isValid:!1},{x:-288,y:-352,mX:3,mY:2,isValid:!0},{x:-224,y:-352,mX:4,mY:2,isValid:!0},{x:-160,y:-352,mX:5,mY:2,isValid:!0},{x:-96,y:-352,mX:6,mY:2,isValid:!0},{x:-32,y:-352,mX:7,mY:2,isValid:!0},{x:32,y:-352,mX:8,mY:2,isValid:!0},{x:96,y:-352,mX:9,mY:2,isValid:!0},{x:160,y:-352,mX:10,mY:2,isValid:!1},{x:224,y:-352,mX:11,mY:2,isValid:!1},{x:288,y:-352,mX:12,mY:2,isValid:!1},{x:352,y:-352,mX:13,mY:2,isValid:!1},{x:416,y:-352,mX:14,mY:2,isValid:!1},{x:480,y:-352,mX:15,mY:2,isValid:!1}],[{x:-480,y:-288,mX:0,mY:3,isValid:!1},{x:-416,y:-288,mX:1,mY:3,isValid:!0},{x:-352,y:-288,mX:2,mY:3,isValid:!0},{x:-288,y:-288,mX:3,mY:3,isValid:!0},{x:-224,y:-288,mX:4,mY:3,isValid:!0},{x:-160,y:-288,mX:5,mY:3,isValid:!0},{x:-96,y:-288,mX:6,mY:3,isValid:!0},{x:-32,y:-288,mX:7,mY:3,isValid:!0},{x:32,y:-288,mX:8,mY:3,isValid:!0},{x:96,y:-288,mX:9,mY:3,isValid:!0},{x:160,y:-288,mX:10,mY:3,isValid:!0},{x:224,y:-288,mX:11,mY:3,isValid:!0},{x:288,y:-288,mX:12,mY:3,isValid:!0},{x:352,y:-288,mX:13,mY:3,isValid:!1},{x:416,y:-288,mX:14,mY:3,isValid:!1},{x:480,y:-288,mX:15,mY:3,isValid:!1}],[{x:-480,y:-224,mX:0,mY:4,isValid:!1},{x:-416,y:-224,mX:1,mY:4,isValid:!1},{x:-352,y:-224,mX:2,mY:4,isValid:!1},{x:-288,y:-224,mX:3,mY:4,isValid:!0},{x:-224,y:-224,mX:4,mY:4,isValid:!0},{x:-160,y:-224,mX:5,mY:4,isValid:!0},{x:-96,y:-224,mX:6,mY:4,isValid:!0},{x:-32,y:-224,mX:7,mY:4,isValid:!1},{x:32,y:-224,mX:8,mY:4,isValid:!0},{x:96,y:-224,mX:9,mY:4,isValid:!0},{x:160,y:-224,mX:10,mY:4,isValid:!0},{x:224,y:-224,mX:11,mY:4,isValid:!0},{x:288,y:-224,mX:12,mY:4,isValid:!0},{x:352,y:-224,mX:13,mY:4,isValid:!1},{x:416,y:-224,mX:14,mY:4,isValid:!1},{x:480,y:-224,mX:15,mY:4,isValid:!1}],[{x:-480,y:-160,mX:0,mY:5,isValid:!1},{x:-416,y:-160,mX:1,mY:5,isValid:!1},{x:-352,y:-160,mX:2,mY:5,isValid:!1},{x:-288,y:-160,mX:3,mY:5,isValid:!0},{x:-224,y:-160,mX:4,mY:5,isValid:!1},{x:-160,y:-160,mX:5,mY:5,isValid:!0},{x:-96,y:-160,mX:6,mY:5,isValid:!0},{x:-32,y:-160,mX:7,mY:5,isValid:!1},{x:32,y:-160,mX:8,mY:5,isValid:!1},{x:96,y:-160,mX:9,mY:5,isValid:!0},{x:160,y:-160,mX:10,mY:5,isValid:!0},{x:224,y:-160,mX:11,mY:5,isValid:!0},{x:288,y:-160,mX:12,mY:5,isValid:!0},{x:352,y:-160,mX:13,mY:5,isValid:!1},{x:416,y:-160,mX:14,mY:5,isValid:!1},{x:480,y:-160,mX:15,mY:5,isValid:!1}],[{x:-480,y:-96,mX:0,mY:6,isValid:!1},{x:-416,y:-96,mX:1,mY:6,isValid:!1},{x:-352,y:-96,mX:2,mY:6,isValid:!0},{x:-288,y:-96,mX:3,mY:6,isValid:!0},{x:-224,y:-96,mX:4,mY:6,isValid:!0},{x:-160,y:-96,mX:5,mY:6,isValid:!0},{x:-96,y:-96,mX:6,mY:6,isValid:!0},{x:-32,y:-96,mX:7,mY:6,isValid:!1},{x:32,y:-96,mX:8,mY:6,isValid:!0},{x:96,y:-96,mX:9,mY:6,isValid:!0},{x:160,y:-96,mX:10,mY:6,isValid:!0},{x:224,y:-96,mX:11,mY:6,isValid:!0},{x:288,y:-96,mX:12,mY:6,isValid:!0},{x:352,y:-96,mX:13,mY:6,isValid:!1},{x:416,y:-96,mX:14,mY:6,isValid:!1},{x:480,y:-96,mX:15,mY:6,isValid:!1}],[{x:-480,y:-32,mX:0,mY:7,isValid:!1},{x:-416,y:-32,mX:1,mY:7,isValid:!1},{x:-352,y:-32,mX:2,mY:7,isValid:!0},{x:-288,y:-32,mX:3,mY:7,isValid:!0},{x:-224,y:-32,mX:4,mY:7,isValid:!0},{x:-160,y:-32,mX:5,mY:7,isValid:!0},{x:-96,y:-32,mX:6,mY:7,isValid:!0},{x:-32,y:-32,mX:7,mY:7,isValid:!0},{x:32,y:-32,mX:8,mY:7,isValid:!0},{x:96,y:-32,mX:9,mY:7,isValid:!0},{x:160,y:-32,mX:10,mY:7,isValid:!0},{x:224,y:-32,mX:11,mY:7,isValid:!0},{x:288,y:-32,mX:12,mY:7,isValid:!0},{x:352,y:-32,mX:13,mY:7,isValid:!1},{x:416,y:-32,mX:14,mY:7,isValid:!1},{x:480,y:-32,mX:15,mY:7,isValid:!1}],[{x:-480,y:32,mX:0,mY:8,isValid:!1},{x:-416,y:32,mX:1,mY:8,isValid:!1},{x:-352,y:32,mX:2,mY:8,isValid:!1},{x:-288,y:32,mX:3,mY:8,isValid:!0},{x:-224,y:32,mX:4,mY:8,isValid:!0},{x:-160,y:32,mX:5,mY:8,isValid:!1},{x:-96,y:32,mX:6,mY:8,isValid:!1},{x:-32,y:32,mX:7,mY:8,isValid:!1},{x:32,y:32,mX:8,mY:8,isValid:!1},{x:96,y:32,mX:9,mY:8,isValid:!1},{x:160,y:32,mX:10,mY:8,isValid:!1},{x:224,y:32,mX:11,mY:8,isValid:!0},{x:288,y:32,mX:12,mY:8,isValid:!0},{x:352,y:32,mX:13,mY:8,isValid:!1},{x:416,y:32,mX:14,mY:8,isValid:!1},{x:480,y:32,mX:15,mY:8,isValid:!1}],[{x:-480,y:96,mX:0,mY:9,isValid:!1},{x:-416,y:96,mX:1,mY:9,isValid:!1},{x:-352,y:96,mX:2,mY:9,isValid:!1},{x:-288,y:96,mX:3,mY:9,isValid:!1},{x:-224,y:96,mX:4,mY:9,isValid:!1},{x:-160,y:96,mX:5,mY:9,isValid:!1},{x:-96,y:96,mX:6,mY:9,isValid:!1},{x:-32,y:96,mX:7,mY:9,isValid:!1},{x:32,y:96,mX:8,mY:9,isValid:!1},{x:96,y:96,mX:9,mY:9,isValid:!1},{x:160,y:96,mX:10,mY:9,isValid:!1},{x:224,y:96,mX:11,mY:9,isValid:!0},{x:288,y:96,mX:12,mY:9,isValid:!0},{x:352,y:96,mX:13,mY:9,isValid:!1},{x:416,y:96,mX:14,mY:9,isValid:!1},{x:480,y:96,mX:15,mY:9,isValid:!1}],[{x:-480,y:160,mX:0,mY:10,isValid:!1},{x:-416,y:160,mX:1,mY:10,isValid:!1},{x:-352,y:160,mX:2,mY:10,isValid:!0},{x:-288,y:160,mX:3,mY:10,isValid:!1},{x:-224,y:160,mX:4,mY:10,isValid:!1},{x:-160,y:160,mX:5,mY:10,isValid:!1},{x:-96,y:160,mX:6,mY:10,isValid:!1},{x:-32,y:160,mX:7,mY:10,isValid:!1},{x:32,y:160,mX:8,mY:10,isValid:!1},{x:96,y:160,mX:9,mY:10,isValid:!0},{x:160,y:160,mX:10,mY:10,isValid:!0},{x:224,y:160,mX:11,mY:10,isValid:!0},{x:288,y:160,mX:12,mY:10,isValid:!0},{x:352,y:160,mX:13,mY:10,isValid:!1},{x:416,y:160,mX:14,mY:10,isValid:!1},{x:480,y:160,mX:15,mY:10,isValid:!1}],[{x:-480,y:224,mX:0,mY:11,isValid:!1},{x:-416,y:224,mX:1,mY:11,isValid:!0},{x:-352,y:224,mX:2,mY:11,isValid:!1},{x:-288,y:224,mX:3,mY:11,isValid:!1},{x:-224,y:224,mX:4,mY:11,isValid:!0},{x:-160,y:224,mX:5,mY:11,isValid:!0},{x:-96,y:224,mX:6,mY:11,isValid:!1},{x:-32,y:224,mX:7,mY:11,isValid:!1},{x:32,y:224,mX:8,mY:11,isValid:!0},{x:96,y:224,mX:9,mY:11,isValid:!0},{x:160,y:224,mX:10,mY:11,isValid:!0},{x:224,y:224,mX:11,mY:11,isValid:!0},{x:288,y:224,mX:12,mY:11,isValid:!0},{x:352,y:224,mX:13,mY:11,isValid:!1},{x:416,y:224,mX:14,mY:11,isValid:!1},{x:480,y:224,mX:15,mY:11,isValid:!1}],[{x:-480,y:288,mX:0,mY:12,isValid:!1},{x:-416,y:288,mX:1,mY:12,isValid:!1},{x:-352,y:288,mX:2,mY:12,isValid:!1},{x:-288,y:288,mX:3,mY:12,isValid:!0},{x:-224,y:288,mX:4,mY:12,isValid:!0},{x:-160,y:288,mX:5,mY:12,isValid:!0},{x:-96,y:288,mX:6,mY:12,isValid:!0},{x:-32,y:288,mX:7,mY:12,isValid:!0},{
x:32,y:288,mX:8,mY:12,isValid:!0},{x:96,y:288,mX:9,mY:12,isValid:!0},{x:160,y:288,mX:10,mY:12,isValid:!0},{x:224,y:288,mX:11,mY:12,isValid:!0},{x:288,y:288,mX:12,mY:12,isValid:!1},{x:352,y:288,mX:13,mY:12,isValid:!1},{x:416,y:288,mX:14,mY:12,isValid:!1},{x:480,y:288,mX:15,mY:12,isValid:!1}],[{x:-480,y:352,mX:0,mY:13,isValid:!1},{x:-416,y:352,mX:1,mY:13,isValid:!1},{x:-352,y:352,mX:2,mY:13,isValid:!1},{x:-288,y:352,mX:3,mY:13,isValid:!1},{x:-224,y:352,mX:4,mY:13,isValid:!0},{x:-160,y:352,mX:5,mY:13,isValid:!0},{x:-96,y:352,mX:6,mY:13,isValid:!0},{x:-32,y:352,mX:7,mY:13,isValid:!0},{x:32,y:352,mX:8,mY:13,isValid:!0},{x:96,y:352,mX:9,mY:13,isValid:!0},{x:160,y:352,mX:10,mY:13,isValid:!0},{x:224,y:352,mX:11,mY:13,isValid:!1},{x:288,y:352,mX:12,mY:13,isValid:!1},{x:352,y:352,mX:13,mY:13,isValid:!1},{x:416,y:352,mX:14,mY:13,isValid:!1},{x:480,y:352,mX:15,mY:13,isValid:!1}],[{x:-480,y:416,mX:0,mY:14,isValid:!1},{x:-416,y:416,mX:1,mY:14,isValid:!1},{x:-352,y:416,mX:2,mY:14,isValid:!1},{x:-288,y:416,mX:3,mY:14,isValid:!1},{x:-224,y:416,mX:4,mY:14,isValid:!1},{x:-160,y:416,mX:5,mY:14,isValid:!0},{x:-96,y:416,mX:6,mY:14,isValid:!0},{x:-32,y:416,mX:7,mY:14,isValid:!0},{x:32,y:416,mX:8,mY:14,isValid:!1},{x:96,y:416,mX:9,mY:14,isValid:!1},{x:160,y:416,mX:10,mY:14,isValid:!1},{x:224,y:416,mX:11,mY:14,isValid:!1},{x:288,y:416,mX:12,mY:14,isValid:!1},{x:352,y:416,mX:13,mY:14,isValid:!1},{x:416,y:416,mX:14,mY:14,isValid:!1},{x:480,y:416,mX:15,mY:14,isValid:!1}],[{x:-480,y:480,mX:0,mY:15,isValid:!1},{x:-416,y:480,mX:1,mY:15,isValid:!1},{x:-352,y:480,mX:2,mY:15,isValid:!1},{x:-288,y:480,mX:3,mY:15,isValid:!1},{x:-224,y:480,mX:4,mY:15,isValid:!1},{x:-160,y:480,mX:5,mY:15,isValid:!1},{x:-96,y:480,mX:6,mY:15,isValid:!1},{x:-32,y:480,mX:7,mY:15,isValid:!1},{x:32,y:480,mX:8,mY:15,isValid:!1},{x:96,y:480,mX:9,mY:15,isValid:!1},{x:160,y:480,mX:10,mY:15,isValid:!1},{x:224,y:480,mX:11,mY:15,isValid:!1},{x:288,y:480,mX:12,mY:15,isValid:!1},{x:352,y:480,mX:13,mY:15,isValid:!1},{x:416,y:480,mX:14,mY:15,isValid:!1},{x:480,y:480,mX:15,mY:15,isValid:!1}]]};return{get:function(){return e}}}();return e}),define("level-demo",[],function(){var e=function(){var e={lineDefs:[{start:{x:-64,y:128,attached:!1},end:{x:-184,y:-64,attached:!1},sides:{leftNormal:{x:-.847998304005088,y:.52999894000318},rightNormal:{x:.847998304005088,y:-.52999894000318}},texRef:"greenmetalhole64",texRefUpper:"greenmetalhole64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-64,w:120,h:192},drawStart:{x:-64,y:128,attached:!1}},{start:{x:-184,y:-64,attached:!1},end:{x:-56,y:-240,attached:!1},sides:{leftNormal:{x:-.8087360843031884,y:-.5881716976750462},rightNormal:{x:.8087360843031884,y:.5881716976750462}},texRef:"0",texRefUpper:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-240,w:128,h:176},drawStart:{x:-184,y:-64,attached:!1}},{start:{x:-56,y:-240,attached:!1},end:{x:208,y:-184,attached:!1},sides:{leftNormal:{x:.20750420835506334,y:-.9782341251024412},rightNormal:{x:-.20750420835506322,y:.9782341251024412}},texRef:"stonebrick64",texRefUpper:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-56,y:-240,w:264,h:56},drawStart:{x:-56,y:-240,attached:!1}},{start:{x:208,y:-184,attached:!1},end:{x:192,y:80,attached:!1},sides:{leftNormal:{x:.9981684966311908,y:.06049506040189041},rightNormal:{x:-.9981684966311908,y:-.06049506040189029}},texRef:"woodlion",texRefUpper:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:192,y:-184,w:16,h:264},drawStart:{x:208,y:-184,attached:!1}},{start:{x:-64,y:128,attached:!1},end:{x:192,y:80,attached:!1},sides:{leftNormal:{x:-.1842885350501853,y:-.9828721869343219},rightNormal:{x:.18428853505018541,y:.9828721869343219}},texRef:"wolfdoorsilver64",texRefUpper:"wolfdoorsilver64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:80,w:256,h:48},drawStart:{x:192,y:80,attached:!1}},{start:{x:-184,y:-64,attached:!1},end:{x:-360,y:-72,attached:!1},sides:{leftNormal:{x:-.04540766091865005,y:.9989685402102997},rightNormal:{x:.04540766091864992,y:-.9989685402102997}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:-72,w:176,h:8},drawStart:{x:-360,y:-72,attached:!1}},{start:{x:-360,y:-72,attached:!1},end:{x:-584,y:-272,attached:!1},sides:{leftNormal:{x:-.6660157693088524,y:.7459376616259147},rightNormal:{x:.6660157693088524,y:-.7459376616259147}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-584,y:-272,w:224,h:200},drawStart:{x:-584,y:-272,attached:!1}},{start:{x:-584,y:-272,attached:!1},end:{x:-480,y:-480,attached:!1},sides:{leftNormal:{x:-.8944271909999159,y:-.447213595499958},rightNormal:{x:.8944271909999159,y:.44721359549995787}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-584,y:-480,w:104,h:208},drawStart:{x:-480,y:-480,attached:!1}},{start:{x:-480,y:-480,attached:!1},end:{x:-280,y:-472,attached:!1},sides:{leftNormal:{x:.03996803834887164,y:-.9992009587217894},rightNormal:{x:-.03996803834887151,y:.9992009587217894}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-480,y:-480,w:200,h:8},drawStart:{x:-280,y:-472,attached:!1}},{start:{x:-280,y:-472,attached:!1},end:{x:-232,y:-520,attached:!1},sides:{leftNormal:{x:-.7071067811865476,y:-.7071067811865476},rightNormal:{x:.7071067811865476,y:.7071067811865476}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-280,y:-520,w:48,h:48},drawStart:{x:-232,y:-520,attached:!1}},{start:{x:-232,y:-520,attached:!1},end:{x:-88,y:-344,attached:!1},sides:{leftNormal:{x:.773957299203321,y:-.6332377902572627},rightNormal:{x:-.773957299203321,y:.6332377902572627}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-232,y:-520,w:144,h:176},drawStart:{x:-88,y:-344,attached:!1}},{start:{x:-88,y:-344,attached:!1},end:{x:-56,y:-240,attached:!1},sides:{leftNormal:{x:.95577900872195,y:-.29408584883752303},rightNormal:{x:-.95577900872195,y:.29408584883752314}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-88,y:-344,w:32,h:104},drawStart:{x:-56,y:-240,attached:!1}}],doors:[],sectors:[{lineDefs:[{start:{x:-64,y:128,attached:!1},end:{x:-184,y:-64,attached:!1},sides:{leftNormal:{x:-.847998304005088,y:.52999894000318},rightNormal:{x:.847998304005088,y:-.52999894000318}},texRef:"greenmetalhole64",texRefUpper:"greenmetalhole64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-64,w:120,h:192},drawStart:{x:-64,y:128,attached:!1}},{start:{x:-184,y:-64,attached:!1},end:{x:-56,y:-240,attached:!1},sides:{leftNormal:{x:-.8087360843031884,y:-.5881716976750462},rightNormal:{x:.8087360843031884,y:.5881716976750462}},texRef:"0",texRefUpper:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-240,w:128,h:176},drawStart:{x:-184,y:-64,attached:!1}},{start:{x:-56,y:-240,attached:!1},end:{x:208,y:-184,attached:!1},sides:{leftNormal:{x:.20750420835506334,y:-.9782341251024412},rightNormal:{x:-.20750420835506322,y:.9782341251024412}},texRef:"stonebrick64",texRefUpper:"stonebrick64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-56,y:-240,w:264,h:56},drawStart:{x:-56,y:-240,attached:!1}},{start:{x:208,y:-184,attached:!1},end:{x:192,y:80,attached:!1},sides:{leftNormal:{x:.9981684966311908,y:.06049506040189041},rightNormal:{x:-.9981684966311908,y:-.06049506040189029}},texRef:"woodlion",texRefUpper:"woodlion",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:192,y:-184,w:16,h:264},drawStart:{x:208,y:-184,attached:!1}},{start:{x:-64,y:128,attached:!1},end:{x:192,y:80,attached:!1},sides:{leftNormal:{x:-.1842885350501853,y:-.9828721869343219},rightNormal:{x:.18428853505018541,y:.9828721869343219}},texRef:"wolfdoorsilver64",texRefUpper:"wolfdoorsilver64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-64,y:80,w:256,h:48},drawStart:{x:192,y:80,attached:!1}}],bBox:{x:-184,y:-240,w:392,h:368},isSelected:!1,texRefFloor:"floorearth64",texRefCeiling:"0",ceilingHeight:"128",upperWallHeight:64,lightLevel:"64",collisionFacesInverted:!1},{lineDefs:[{start:{x:-184,y:-64,attached:!1},end:{x:-56,y:-240,attached:!1},sides:{leftNormal:{x:-.8087360843031884,y:-.5881716976750462},rightNormal:{x:.8087360843031884,y:.5881716976750462}},texRef:"0",texRefUpper:"greenmetal64",solid:!1,opaque:!1,isSelected:!1,isDeleted:!1,bBox:{x:-184,y:-240,w:128,h:176},drawStart:{x:-184,y:-64,attached:!1}},{start:{x:-88,y:-344,attached:!1},end:{x:-56,y:-240,attached:!1},sides:{leftNormal:{x:.95577900872195,y:-.29408584883752303},rightNormal:{x:-.95577900872195,y:.29408584883752314}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-88,y:-344,w:32,h:104},drawStart:{x:-56,y:-240,attached:!1}},{start:{x:-232,y:-520,attached:!1},end:{x:-88,y:-344,attached:!1},sides:{leftNormal:{x:.773957299203321,y:-.6332377902572627},rightNormal:{x:-.773957299203321,y:.6332377902572627}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-232,y:-520,w:144,h:176},drawStart:{x:-88,y:-344,attached:!1}},{start:{x:-280,y:-472,attached:!1},end:{x:-232,y:-520,attached:!1},sides:{leftNormal:{x:-.7071067811865476,y:-.7071067811865476},rightNormal:{x:.7071067811865476,y:.7071067811865476}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-280,y:-520,w:48,h:48},drawStart:{x:-232,y:-520,attached:!1}},{start:{x:-480,y:-480,attached:!1},end:{x:-280,y:-472,attached:!1},sides:{leftNormal:{x:.03996803834887164,y:-.9992009587217894},rightNormal:{x:-.03996803834887151,y:.9992009587217894}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-480,y:-480,w:200,h:8},drawStart:{x:-280,y:-472,attached:!1}},{start:{x:-584,y:-272,attached:!1},end:{x:-480,y:-480,attached:!1},sides:{leftNormal:{x:-.8944271909999159,y:-.447213595499958},rightNormal:{x:.8944271909999159,y:.44721359549995787}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-584,y:-480,w:104,h:208},drawStart:{x:-480,y:-480,attached:!1}},{start:{x:-360,y:-72,attached:!1},end:{x:-584,y:-272,attached:!1},sides:{leftNormal:{x:-.6660157693088524,y:.7459376616259147},rightNormal:{x:.6660157693088524,y:-.7459376616259147}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-584,y:-272,w:224,h:200},drawStart:{x:-584,y:-272,attached:!1}},{start:{x:-184,y:-64,attached:!1},end:{x:-360,y:-72,attached:!1},sides:{leftNormal:{x:-.04540766091865005,y:.9989685402102997},rightNormal:{x:.04540766091864992,y:-.9989685402102997}},texRef:"greenmetal64",texRefUpper:"greenmetal64",solid:!0,opaque:!0,isSelected:!1,isDeleted:!1,bBox:{x:-360,y:-72,w:176,h:8},drawStart:{x:-360,y:-72,attached:!1}}],bBox:{x:-584,y:-520,w:528,h:456},isSelected:!1,texRefFloor:"blackhex64",texRefCeiling:"floorlavacracks64",ceilingHeight:"64",upperWallHeight:0,lightLevel:"64",collisionFacesInverted:!1}],things:[{pos:{x:79,y:-2},orient:{x:1,y:0},type:"playerstart",isSolid:!1,isRenderable:!1,isCreature:!1,isSelected:!1},{pos:{x:36,y:-183},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-135,y:-77},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-126,y:-45},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-24,y:-210},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:72,y:-156},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:132,y:-161},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:151,y:-106},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:98,y:-108},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:169,y:-159},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-49,y:93},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-15,y:-177},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:19,y:-147},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:163,y:55},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:129,y:60},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:110,y:75},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:149,y:37},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:172,y:8},orient:{x:1,y:0},type:"barrel01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-422,y:-376},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-280,y:-404},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-338,y:-139},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-264,y:-132},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-243,y:-205},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-211,y:-171},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-172,y:-230},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-178,y:-349},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-429,y:-315},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-371,y:-356},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-285,y:-365},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-224,y:-395},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:-503,y:-280},orient:{x:1,y:0},type:"stalactite01",isSolid:!1,isRenderable:!0,isCreature:!1,collisionRadius:0,anchor:"ceiling",isSelected:!1},{pos:{x:9,y:-8},orient:{x:1,y:0},type:"deadtree01",isSolid:!0,isRenderable:!0,isCreature:!1,collisionRadius:32,anchor:"floor",isSelected:!1},{pos:{x:-222,y:-339},orient:{x:1,y:0},type:"monster01",isSolid:!0,isRenderable:!0,isCreature:!0,collisionRadius:16,anchor:"floor"}],pathNodes:[{pos:{x:-93,y:-3},isSelected:!1},{pos:{x:-33,y:-85},isSelected:!1},{pos:{x:-298,y:-234},isSelected:!1},{pos:{x:-437,y:-416},isSelected:!1},{pos:{x:-479,y:-330},isSelected:!1},{pos:{x:-526,y:-272},isSelected:!1},{pos:{x:-444,y:-220},isSelected:!1},{pos:{x:-358,y:-300},isSelected:!1},{pos:{x:-351,y:-420},isSelected:!1},{pos:{x:-247,y:-300},isSelected:!1},{pos:{x:-233,y:-464},isSelected:!1},{pos:{x:-259,y:-385},isSelected:!1},{pos:{x:-154,y:-373},isSelected:!1},{pos:{x:-162,y:-278},isSelected:!1},{pos:{x:-105,y:-241},isSelected:!1},{pos:{x:-195,y:-133},isSelected:!1},{pos:{x:-306,y:-117},isSelected:!1},{pos:{x:-388,y:-163},isSelected:!1},{pos:{x:-89,y:-108},isSelected:!1},{pos:{x:-50,y:-206},isSelected:!1},{pos:{x:-12,y:-138},isSelected:!1},{pos:{x:-38,y:-27},isSelected:!1},{pos:{x:-19,y:43},isSelected:!1},{pos:{x:52,y:50},isSelected:!1},{pos:{x:2,y:85},isSelected:!1},{pos:{x:111,y:-56},isSelected:!1},{pos:{x:161,y:-56},isSelected:!1},{pos:{x:114,y:-137},isSelected:!1}],patrolNodes:[{pos:{x:1,y:-90},waitTime:0,isSelected:!1},{pos:{x:58,y:-72},waitTime:0,isSelected:!1},{pos:{x:-65,y:-156},waitTime:0,isSelected:!1},{pos:{x:-133,y:-309},waitTime:0,isSelected:!1},{pos:{x:-377,y:-241},waitTime:0,isSelected:!1}]};return{get:function(){return e}}}();return e}),define("gameworld",["player","enginevars","collision","input","doors","things","effects","level1","level-demo"],function(e,t,i,r,n,o,a,s,l){var d=function(){function t(){for(var e=0;e<R.sectors.length;e++)for(var t=R.sectors[e],r=0;r<t.lineDefs.length;r++){var n=t.lineDefs[r],o=n.start.x,a=n.start.y,s=n.end.x,l=n.end.y;n.parentSectors=[],n.inwardSides={left:!1,right:!1};for(var d=0;d<R.sectors.length;d++)for(var c=R.sectors[d],x=c.lineDefs,f=0;f<x.length;f++)x[f].start.x==o&&x[f].start.y==a&&x[f].end.x==s&&x[f].end.y==l&&n.parentSectors.push(c);n.twoSided=n.parentSectors.length>1;var u={x:n.start.x+.5*(n.end.x-n.start.x),y:n.start.y+.5*(n.end.y-n.start.y)},h={x:u.x+4*n.sides.leftNormal.x,y:u.y+4*n.sides.leftNormal.y},y={x:u.x+4*n.sides.rightNormal.x,y:u.y+4*n.sides.rightNormal.y};n.leftParSec=null,n.rightParSec=null;for(var p=0;p<R.sectors.length;p++){var m=R.sectors[p];i.pointInPolygon(h,m.lineDefs,m.bBox)&&(n.inwardSides.left=!0,n.texRefLeftFloor=m.texRefFloor,n.texRefLeftCeiling=m.texRefCeiling,n.lightLevelLeft=m.lightLevel,n.upperWallLeft=m.upperWallHeight,n.leftParSec=m),i.pointInPolygon(y,m.lineDefs,m.bBox)&&(n.inwardSides.right=!0,n.texRefRightFloor=m.texRefFloor,n.texRefRightCeiling=m.texRefCeiling,n.lightLevelRight=m.lightLevel,n.upperWallRight=m.upperWallHeight,n.rightParSec=m),n.hasUpper=n.upperWallLeft>0||n.upperWallRight>0,null!=n.leftParSec&&null!=n.rightParSec?(n.leftUpper=n.leftParSec.ceilingHeight-n.rightParSec.ceilingHeight,n.leftLower=n.rightParSec.floorHeight-n.leftParSec.floorHeight,n.rightUpper=n.rightParSec.ceilingHeight-n.leftParSec.ceilingHeight,n.rightLower=n.leftParSec.floorHeight-n.rightParSec.floorHeight,n.leftUpper=n.leftUpper>0?n.leftUpper:0,n.leftLower=n.leftLower>0?n.leftLower:0,n.rightUpper=n.rightUpper>0?n.rightUpper:0,n.rightLower=n.rightLower>0?n.rightLower:0):(n.leftUpper=0,n.leftLower=0,n.rightUpper=0,n.rightLower=0),n.leftMiddle=null!=n.leftParSec?n.leftParSec.ceilingHeight-n.leftParSec.floorHeight-n.leftUpper-n.leftLower:0,n.rightMiddle=null!=n.rightParSec?n.rightParSec.ceilingHeight-n.rightParSec.floorHeight-n.rightUpper-n.rightLower:0}n.twoSided||(n.collisionInverted=n.parentSectors[0].collisionFacesInverted),!n.twoSided||"undefined"!=typeof n.texRefLeftFloor&&"undefined"!=typeof n.texRefLeftCeiling&&"undefined"!=typeof n.texRefRightFloor&&"undefined"!=typeof n.texRefRightCeiling||console.log("ERROR in lineDef floor/ceiling texRef assignment - this most likely indicates a mapping error / level file issue.")}}function d(){for(var e=R.pathNodes,t=e.length,i=e[0].length,r=0;t>r;r++)for(var n=0;i>n;n++){var o=e[r][n];o.nodeParentIdx={x:0,y:0},o.flag="none",o.list="none",o.gCost=0,o.hCost=0,o.fCost=0,o.occupants=[]}}function c(){for(var e=R.things,t=e.length,r=0;t>r;r++)for(var n=e[r],o=R.sectors,a=o.length,s=0;a>s;s++){var l=o[s];i.pointInPolygon(n.pos,l.lineDefs,l.bBox)&&(n.isRenderable&&("floor"==n.anchor?n.anchorHeight=l.floorHeight:"ceiling"==n.anchor&&(n.anchorHeight=l.ceilingHeight)),"playerstart"==n.type&&(n.pos.z=l.floorHeight))}}function x(){t(),c(),d()}function f(e){switch(console.log("Loading level "+e),e){case 0:R=l.get();break;case 1:R=s.get();break;default:console.log("ERROR: cannot load level - level "+e+" does not exist")}x()}function u(){f(1),n.init(R.doors),o.init(R.things,h());for(var e=0;e<R.things.length;e++)if("playerstart"==R.things[e].type)return R.things[e].pos;console.log("ERROR: cannot load level - no player start found")}function h(){var e={origin:g,size:R.size,skyTexture:R.skyTexture,sectors:R.sectors,doors:R.doors,things:o.getThings(),effects:a.get(),pathNodes:R.pathNodes};return e}function y(){n.openNearby(e.getPos())}function p(){w=r.getKeyStates(),v=r.getMouseStates(),b=r.getPadStates(),(w.ctrl||b.btnA)&&y()}function m(){p(),n.update(),o.update(e.getPos(),h())}var g={x:0,y:0,z:0},w=null,v=null,b=null,R={};return{init:u,update:m,actionButton:y,setCurrentLevel:function(e){R=e},getCurrentLevel:function(){return R},getSceneData:h,getSectors:function(){return R.sectors}}}();return d}),define("renderer",["jquery","maths","enginevars"],function(e,t,i){var r=function(){function r(e,i,r,n,o,a,s,l){var d;d="undefined"==typeof l?T:m_2dCtxDbg,d.save(),d.translate(e,i),d.rotate(t.degToRad(s)),d.beginPath(),d.moveTo(0,0),d.lineTo(r-e,n-i),d.strokeStyle=o,d.lineWidth=a,d.stroke(),d.restore()}function n(e,i,r,n,o,a,s){L.save(),L.translate(e,i),L.rotate(t.degToRad(s)),L.beginPath(),L.moveTo(0,0),L.lineTo(r-e,n-i),L.strokeStyle=o,L.lineWidth=a,L.stroke(),L.restore()}function o(e,i,r,n,o,a,s){var l=T;l.save(),l.translate(e,i),l.translate(r/2,n/2),l.rotate(t.degToRad(s)),l.translate(-(r/2),-(n/2)),l.beginPath(),l.moveTo(0,0),l.lineTo(r,0),l.moveTo(r,0),l.lineTo(r,n),l.moveTo(r,n),l.lineTo(0,n),l.moveTo(0,n),l.lineTo(0,0),l.strokeStyle=o,l.lineWidth=a,l.stroke(),l.restore()}function a(e,t,i,r,n,o){var a=T;"undefined"!=typeof o&&o&&(a=X),a.fillStyle=n,a.fillRect(e,t,i,r)}function s(e,t,i,r,n){L.fillStyle=n,L.fillRect(e,t,i,r)}function l(e,t,i,r,n,o){var a=T;"undefined"!=typeof o&&o&&(a=m_2dCtxDbg),a.fillStyle=r,a.font="normal "+n+"px Helvetica, sans-serif",a.fillText(e,t,i)}function d(e,t,i,r,n){L.fillStyle=r,L.font="bold "+n+"px Helvetica, sans-serif",L.fillText(e,t,i)}function c(e,t,i,r,n){var o=L;"undefined"!=typeof dbg&&dbg&&(o=m_2dCtxDbg),o.fillStyle=r,o.font="normal "+n+"px Helvetica, sans-serif",o.fillText(e,t,i)}function x(e,t,i,r,n,o){var a=T;"undefined"!=typeof o&&o&&(a=X),a.drawImage(e,t,i,r,n)}function f(e,t,i,r,n){L.drawImage(e,t,i,r,n)}function u(e,t,i,r,n,o,a,s,l,d){var c=T;"undefined"!=typeof d&&d&&(c=X),c.drawImage(e,t,i,r,n,o,a,s,l)}function h(e,t,i,r,n,o,a,s,l){L.drawImage(e,t,i,r,n,o,a,s,l)}function y(e,t){var i=T;i.fillStyle=t,i.beginPath(),i.moveTo(e[0].x,e[0].y);for(var r=0;r<e.length;r++)r<e.length-1?i.lineTo(e[r+1].x,e[r+1].y):i.lineTo(e[0].x,e[0].y);i.fill()}function p(e,t,i,r,n,o){var a;a="undefined"==typeof o?T:m_2dCtxDbg,a.beginPath(),a.arc(e,t,i,0,2*Math.PI),a.fillStyle=r,a.fill()}function m(e,t,i,r,n,o){var a;a="undefined"==typeof o?T:m_2dCtxDbg,a.beginPath(),a.arc(e,t,i,0,2*Math.PI),a.strokeStyle=r,a.lineWidth=n,a.stroke()}function g(e,t,i,r,n){u(P,t,i,r,n,t,i,r,n)}function w(e){var t;t="undefined"==typeof e?T:m_2dCtxDbg,t.fillStyle="#000",t.fillRect(0,0,D[0].width,D[0].height)}function v(){L.clearRect(0,0,q.x,q.y)}function b(){return T.getImageData(0,0,q.x,q.y)}function R(){return L.getImageData(0,0,q.x,q.y)}function S(e){T.putImageData(e,0,0)}function N(e){L.putImageData(e,0,0)}function k(){D=i.get("gameCVS"),T=D[0].getContext("2d"),C=i.get("hudCVS"),L=C[0].getContext("2d"),m_2dCtxDbg=e("#debugcvs")[0].getContext("2d"),T.imageSmoothingEnabled=!1}var D,C,T,L,q=i.get("canvasSize"),P=document.createElement("canvas"),X=P.getContext("2d");return P.width=q.x,P.height=q.y,{init:k,drawLine:r,drawLineHud:n,drawLineRect:o,drawRect:a,drawRectHud:s,drawCircle:p,drawLineCircle:m,drawImage:x,drawClippedImage:u,drawText:l,drawDebugText:c,drawFilledPath:y,getCanvasPixels:b,getHudCanvasPixels:R,setCanvasPixels:S,setHudCanvasPixels:N,flipPreRendered:g,drawImageHud:f,drawClippedImageHud:h,drawTextHud:d,clear:w,clearHud:v}}();return r}),define("worldrenderer",["assets","renderer","maths","enginevars","collision","vector2"],function(e,t,i,r,n,o){var a=function(){function i(e){ie=e}function a(e,t,i,r,n,o,a){for(var s=ce(a,{x:0,y:-1}),l=me(s),d=pe(s),c=Re,x=o.x,f=o.y,u=e.length,h=H,y=0;u>y;y++)for(var p=e[y],m=p.lineDefs,g=m.length,w=0;g>w;w++){var v=m[w],b=v.start,R=v.end,S=b.x-x,N=b.y-f,k=R.x-x,D=R.y-f,C=S*l-N*d,T=N*l+S*d,L=k*l-D*d,q=D*l+k*d,P=v.sides,X=P.leftNormal,Y=(P.rightNormal,{x:X.x*l-X.y*d,y:X.y*l+X.x*d});T>-h&&q>-h||I.push({origStartX:v.start.x,origStartY:v.start.y,startX:C,startY:T,endX:L,endY:q,normLeftX:Y.x,normLeftY:Y.y,texRef:v.texRef,texRefFloor:p.texRefFloor,texRefCeiling:p.texRefCeiling,floorHeight:null!=v.leftParSec?v.leftParSec.floorHeight:32,ceilingHeight:null!=v.leftParSec?v.leftParSec.ceilingHeight:96,floorHeightLeft:null!=v.leftParSec?v.leftParSec.floorHeight:32,floorHeightRight:null!=v.rightParSec?v.rightParSec.floorHeight:32,ceilingHeightLeft:null!=v.leftParSec?v.leftParSec.ceilingHeight:96,ceilingHeightRight:null!=v.rightParSec?v.rightParSec.ceilingHeight:96,lightLevelLeft:v.lightLevelLeft,lightLevelRight:v.lightLevelRight,texRefLeftFloor:v.texRefLeftFloor,texRefLeftCeiling:v.texRefLeftCeiling,texRefRightFloor:v.texRefRightFloor,texRefRightCeiling:v.texRefRightCeiling,leftUpper:v.leftUpper,leftMiddle:v.leftMiddle,leftLower:v.leftLower,rightUpper:v.rightUpper,rightMiddle:v.rightMiddle,rightLower:v.rightLower,texRefUpper:v.texRefUpper,texRefLower:v.texRefLower,isSolid:v.solid,isOpaque:v.opaque,visSide:"left",isDoor:!1})}for(var V=t.length,B=0;V>B;B++){var U=t[B],M=U.start,O=U.end,S=M.x-x,N=M.y-f,k=O.x-x,D=O.y-f,C=S*l-N*d,T=N*l+S*d,L=k*l-D*d,q=D*l+k*d,P=U.sides,X=P.leftNormal,Y=(P.rightNormal,{x:X.x*l-X.y*d,y:X.y*l+X.x*d});T>-h&&q>-h||I.push({startX:C,startY:T,endX:L,endY:q,normLeftX:Y.x,normLeftY:Y.y,texRef:U.texRef,texRefUpper:null,lightLevel:255,isSolid:U.solid,isOpaque:U.opaque,visSide:"left",hasUpper:!1,upperWallLeft:U.upperWallLeft,upperWallRight:U.upperWallRight,isDoor:!0})}for(var F=i.length,E=0;F>E;E++){var j=i[E];if(j.isRenderable){var A=j.pos,$=j.fwd,G=A.x-x,K=A.y-f,Q=G*l-K*d,J=K*l+G*d,Z=$.x*l-$.y*d,ee=$.y*l+$.x*d;h>J&&z.push({x:Q,y:J,fwdX:Z,fwdY:ee,dist:c(G*G+K*K),anchor:j.anchor,anchorHeight:j.anchorHeight,anchorOffset:j.anchorOffset,type:j.type,isNPC:j.isNPC,collisionRadius:j.colRad,sprite:j.sprite,lightLevel:j.lightLevel})}}for(var te=r.length,ie=0;te>ie;ie++){var re=r[ie],ne=re.pos,G=ne.x-x,K=ne.y-f,Q=G*l-K*d,J=K*l+G*d;h>J&&W.push({x:Q,y:J,dist:c(G*G+K*K),anchor:re.anchor,type:re.effectType,sprite:re.sprite})}for(var oe=0;oe<n.length;oe++)for(var ae=0;ae<n[oe].length;ae++){var se=n[oe][ae],G=se.x-x,K=se.y-f,Q=G*l-K*d,J=K*l+G*d;h>J&&_.push({x:Q,y:J,isValid:se.isValid,isOccupied:se.occupants.length>0})}}function s(e,t){for(var i=de,r=e.length,n=0;r>n;n++){var o=e[n],a=o.startX,s=o.startY,l={x:a+(o.endX-a)/2,y:s+(o.endY-s)/2};i(l,{x:o.normLeftX,y:o.normLeftY})>q?(o.visSide="left",o.isDoor||(o.texRefFloor=o.texRefLeftFloor,o.texRefCeiling=o.texRefLeftCeiling,o.lightLevel=o.lightLevelLeft,o.upperWall=o.upperWallLeft,o.floorHeight=o.floorHeightLeft,o.ceilingHeight=o.ceilingHeightLeft,o.upper=o.leftUpper,o.middle=o.leftMiddle,o.lower=o.leftLower)):(o.visSide="right",o.isDoor||(o.texRefFloor=o.texRefRightFloor,o.texRefCeiling=o.texRefRightCeiling,o.lightLevel=o.lightLevelRight,o.upperWall=o.upperWallRight,o.floorHeight=o.floorHeightRight,o.ceilingHeight=o.ceilingHeightRight,o.upper=o.rightUpper,o.middle=o.rightMiddle,o.lower=o.rightLower))}}function l(e){for(var i=0;i<I.length;i++)t.drawLine(I[i].startX+O.x,I[i].startY+O.y,I[i].endX+O.x,I[i].endY+O.y,"#0f0",1,0,!0),t.drawText("x: "+Math.round(I[i].origStartX)+" y: "+Math.round(I[i].origStartY),I[i].startX+O.x,I[i].startY+O.y,"#fff",12,!0);t.drawLineCircle(O.x,O.y,r.get("playerCollisionRadius"),"#f00",1,!0),t.drawText("x: "+Math.round(e.pos.x)+" y: "+Math.round(e.pos.y),O.x,O.y+20,"#fff",12,!0);var n=ce(e.fwd,{x:0,y:-1}),o=Math.cos(n),a=Math.sin(n),s=e.proj.x*o-e.proj.y*a,l=e.proj.y*o+e.proj.x*a;t.drawLine(O.x,O.y,64*s+O.x,64*l+O.y,"#fff",1,0,!0);var d=e.slidingPlane.x*o-e.slidingPlane.y*a,c=e.slidingPlane.y*o+e.slidingPlane.x*a;t.drawLine(O.x,O.y,64*d+O.x,64*c+O.y,"#0ff",1,0,!0),t.drawLine(O.x,O.y,se[0].x+O.x,se[0].y+O.y,"#f00",1,0,!0),t.drawLine(O.x,O.y,se[se.length-1].x+O.x,se[se.length-1].y+O.y,"#f00",1,0,!0);for(var x=0;x<_.length;x++){var f=_[x].isOccupied?"#84f":"#080";_[x].isValid||(f="#444"),t.drawLineCircle(_[x].x+O.x,_[x].y+O.y,4,f,1,!0)}}function d(){for(var e=M.x,t=M.y,i=O.y,r=P,n=te,o=ne,a=Re,s=F,l=Y,d=Ne,c=j,x=$,f=G,u=K,h=0;e>h;h++){for(var y=n[h],p=y.length,m=f[h],g=u[h],w=x[h],v=p-1,b=0;p>b;b++){var R=y[b];if(!R.isDoor&&R.isOpaque){v=b;break}}for(var b=v;b>=0;b--){var S=y[b],N=S.dist,k=N*o[h],D=1/k,C=S.ceilingHeight-S.floorHeight,T=C*D*l,L=S.upper/C*T,q=S.middle/C*T,V=S.lower/C*T,B=(X-S.floorHeight)*D*l,H=(1-a(k)*s)*S.lightLevel,U=T/(C/r),E=S.texRef,A=S.texRefUpper,I=S.texRefLower,z=i+B,W=z-T,_=~~(W+L),ie=~~(z-V),re=~z,oe=S.texOffset;0>_&&(_=0),ie>t&&(ie=t),0>=q&&(q=1);var ae=d[E];if("0"!=E&&ae.loaded===!0)for(var se=(ae.img,ae.texSizeX),le=ae.texSizeY,de=~~(oe%se),ce=ae.pixels,xe=ae.texSizeY/U,fe=_;ie>fe;fe++){var ue=~~((fe+re)*xe%le+le),he=4*(ue*se+de),ye=4*(fe*e+h);if(0!=ce[he+3]){var pe=ce[he],me=ce[he+1],ge=ce[he+2];c[ye]=pe*H,c[ye+1]=me*H,c[ye+2]=ge*H,c[ye+3]=255,w[fe]=N}}var we=~~W,ve=_,be=re;0>we&&(we=0),ve>t&&(ve=t),i>ve&&ve++,L++;var Se=d[A];if("0"!=A&&Se.loaded===!0)for(var ke=(Se.img,Se.texSizeX),De=Se.texSizeY,Ce=~~(oe%ke),Te=Se.pixels,Le=Se.texSizeY/U,qe=we;ve>qe;qe++){var Pe=~~((qe+be)*Le%De+De),Xe=4*(Pe*ke+Ce),Ye=4*(qe*e+h);if(0!=Te[Xe+3]){var Ve=Te[Xe],Be=Te[Xe+1],He=Te[Xe+2];c[Ye]=Ve*H,c[Ye+1]=Be*H,c[Ye+2]=He*H,c[Ye+3]=255,w[qe]=N}}var Ue=ie,Me=~~z,Oe=re;0>Ue&&(Ue=0),Me>t&&(Me=t);var Fe=d[I];if("0"!=I&&Fe.loaded===!0)for(var Ee=(Fe.img,Fe.texSizeX),je=Fe.texSizeY,Ae=~~(oe%Ee),Ie=Fe.pixels,ze=Fe.texSizeY/U,We=Ue;Me>We;We++){var _e=~~((We+Oe)*ze%je+je),$e=4*(_e*Ee+Ae),Ge=4*(We*e+h);if(0!=Ie[$e+3]){var Ke=Ie[$e],Qe=Ie[$e+1],Je=Ie[$e+2];c[Ge]=Ke*H,c[Ge+1]=Qe*H,c[Ge+2]=Je*H,c[Ge+3]=255,w[We]=N}}S.isDoor||(m.push(ie),g.push(_),Q[h].push([S.texRefFloor,S.texRefCeiling]),J[h].push(S.lightLevel),Z[h].push(S.floorHeight),ee[h].push(S.ceilingHeight))}}}function c(e,t){for(var i=M.x,r=M.y,n=he(e),o=F,a=ne,s=re,l=$,d=me,c=pe,x=ve,f=be,u=Re,h=G,y=h.length,p=Q,m=J,g=Z,w=Y,v=f(.5*r),b=Ne,R=j,S=0;y>S;S++){var N=l[S],k=h[S];if(k.length>0)for(var D=k.length,C=p[S],T=m[S],L=g[S],q=a[S],P=n+s[S],V=d(P),B=c(P),H=t.x,U=t.y,O=0;D>O;O++){var E,A=k[O],I=C[O],z=I[0],W=T[O],_=L[O],K=~~(X-_);E=D-1>O?k[O+1]:r-1,v>=A&&(A=v+1);var ee=b[z];if("undefined"!=typeof ee&&ee.loaded===!0)for(var te=A;E>=te;te++){var ie=K*(w/(te-v))/q;if(!(N[te]<=ie)){var oe=ie*V+H,ae=ie*B+U,se=ee.texSizeX,le=ee.texSizeY,de=~~x(oe%se),ce=~~x(ae%le),xe=4*(ce*se+de),fe=(1-u(ie)*o)*W,ue=ee.pixels[xe]*fe,ye=ee.pixels[xe+1]*fe,ge=ee.pixels[xe+2]*fe,we=4*(te*i+S);R[we]=ue,R[we+1]=ye,R[we+2]=ge,R[we+3]=255,N[te]=ie}}}}}function x(e,t){for(var i=M.x,r=M.y,n=L,o=T,a=he(e),s=a+n,l=U,d=F,c=ne,x=re,f=$,u=me,h=pe,y=ve,p=be,m=Re,g=K,w=g.length,v=Q,b=J,R=Z,S=ee,N=Y,k=p(.5*r),D=j,C=Ne,q=ie,P=0;w>P;P++){var V=f[P],B=g[P];if(B.length>0)for(var H=B.length,O=v[P],E=b[P],A=(R[P],S[P]),I=c[P],z=a+x[P],W=u(z),_=h(z),G=t.x,te=t.y,oe=0;H>oe;oe++){var ae,se=B[oe],le=O[oe],de=le[1],ce=E[oe],xe=A[oe],fe=~~(xe-X);if(ae=H-1>oe?B[oe+1]:0,se>k&&(se=k),"0"==de){var ue=C[q],ye=ue.texSizeX,ge=ue.texSizeY,we=~~(s/o*ye),Se=~~((we+P)%ye),ke=ue.pixels;if("undefined"!=typeof ue&&ue.loaded===!0)for(var De=se;De>=ae;De--)if(!(V[De]<l)){var Ce=~~((De+1)%ge),Te=4*(Ce*ye+Se),Le=4*(De*i+P),qe=ke[Te],Pe=ke[Te+1],Xe=ke[Te+2];
D[Le]=qe,D[Le+1]=Pe,D[Le+2]=Xe,D[Le+3]=255}}else{var Ye=C[de];if("undefined"!=typeof Ye&&Ye.loaded===!0)for(var ye=Ye.texSizeX,ge=Ye.texSizeY,De=se;De>=ae;De--){var Ve=fe*(N/(k-De))/I;if(!(V[De]<=Ve)){var Be=Ve*W+G,He=Ve*_+te,Ue=~~y(Be%ye),Me=~~y(He%ge),Oe=4*(Me*ye+Ue),Fe=(1-m(Ve)*d)*ce,qe=Ye.pixels[Oe]*Fe,Pe=Ye.pixels[Oe+1]*Fe,Xe=Ye.pixels[Oe+2]*Fe,Ee=4*(De*i+P);D[Ee]=qe,D[Ee+1]=Pe,D[Ee+2]=Xe,D[Ee+3]=255,V[De]=Ve}}}}}}function f(e,i){var r=z,n=r.length,o=Y,a=F,s=M.x,l=M.y,d=O.x,c=O.y,x=X,f=ce,u=(i.x,i.y,me),h=ge,y=Re,p=j,m=$,g=D;r.sort(g);for(var w=0;n>w;w++){var v=r[w],b=v.isNPC?"#88f":"#f00";t.drawLineCircle(v.x+O.x,v.y+O.y,ye,b,1,!0),t.drawLine(v.x+O.x,v.y+O.y,v.x+64*v.fwdX+O.x,v.y+64*v.fwdY+O.y,b,1,0,!0);var R=v.sprite,S=R.getCurrentFrame(),N=S.sheetTex,k=R.sourceScale,C=v.collisionRadius;if(N.loaded===!0){var T=S.frameCoords,L=T.x,q=T.y,P=T.w,V=T.h,B=N.pixels,H=S.sheetTex,U=H.texSizeX,E=H.texSizeY,A=v.x,I=v.y,W=v.dist,_=f({x:0,y:-1},{x:A,y:I}),G=W*u(_),K=(1-y(G)*a)*v.lightLevel,Q=1/G,J=P*k*Q*o,Z=V*k*Q*o,ee=Z/(V*k),te=V/Z,ie=J/2,re=Z/2,ne=d+o*h(_),oe=ne-ie,ae=ne+ie;if(oe>=s||0>ae)continue;var se=c-re,le=c+re;"floor"==v.anchor?(le=c+(x-v.anchorHeight+v.anchorOffset)*ee,se=le-Z):"ceiling"==v.anchor&&(se=c-(v.anchorHeight+v.anchorOffset-x)*ee,le=se+Z);var de=-oe,xe=-se,fe=~~de;0>oe&&(oe=0),ae>=s&&(ae=s-1),0>se&&(se=0),le>=l&&(le=l-1),oe=~~oe,ae=~~ae,se=~~se,le=~~le;for(var ue=oe;ae>=ue;ue++)for(var he=~~(((ue+fe)*te+L)%U),pe=m[ue],we=se;le>=we;we++)if(!(pe[we]<G-C)){var ve=~~(((we+xe)*te+q)%E);0>ve&&(ve=0);var be=4*(ve*E+he),Se=4*(we*s+ue);if(0!=B[be+3]){var Ne=B[be],ke=B[be+1],De=B[be+2];p[Se]=Ne*K,p[Se+1]=ke*K,p[Se+2]=De*K,p[Se+3]=255,pe[we]=G}}}}}function u(e,t){if(0!=W.length){var i=W,r=i.length,n=Y,o=M.x,a=M.y,s=O.x,l=O.y,d=ce,c=X,x=(t.x,t.y,me),f=ge,u=be,h=j,y=$,p=D;i.sort(p);for(var m=0;r>m;m++){var g=i[m],w=g.sprite,v=w.getCurrentFrame(),b=v.sheetTex,R=w.sourceScale;if(b.loaded===!0){var S=v.frameCoords.w,N=v.frameCoords.h,k=b.pixels,C=v.sheetTex.texSizeX,T=v.sheetTex.texSizeY,L=g.x,q=g.y,P=g.dist,V=d({x:0,y:-1},{x:L,y:q}),B=P*x(V),H=1/B,U=~~(S*R*H*n),F=~~(N*R*H*n),E=F/(N*R),A=N/F,I=~~(U/2),z=~~(F/2),_=s+u(n*f(V)),G=~~(c*E),K=_-I,Q=_+I;if(K>=o||0>Q)continue;var J=l-z,Z=l+z;"floor"==g.anchor?(Z=l+G,J=Z-F):"ceiling"==g.anchor&&(J=l-G,Z=J+F);var ee=-K,te=-J;0>K&&(K=0),Q>=o&&(Q=o-1),0>J&&(J=0),Z>=a&&(Z=a-1);for(var ie=K;Q>=ie;ie++)for(var re=~~(((ie+ee)*A+v.frameCoords.x)%C),ne=y[ie],oe=J;Z>=oe;oe++)if(!(ne[oe]<B)){var ae=~~(((oe+te)*A+v.frameCoords.y)%T),se=4*(ae*T+re),le=4*(oe*o+ie);if(0!=k[se+3]){var de=k[se],xe=k[se+1],fe=k[se+2];h[le]=de,h[le+1]=xe,h[le+2]=fe,h[le+3]=255}}}}}}function h(){for(var e=M.x,t=I,i=t.length,r=le,n=Re,o=k,a=0;e>a;a++){for(var s=se[a],l=s.x,d=s.y,c=[],x=0;i>x;x++){var f=t[x],u=f.startX,h=f.startY,y=f.endX,p=f.endY,m=r(0,0,l,d,u,h,y,p);if(m){var g=m.x,w=m.y,v=g-u,b=w-h,R=n(v*v+b*b),S=n(g*g+w*w),N={screenX:a,isect:m,dist:S,texOffset:R,texRef:f.texRef,hasUpper:f.hasUpper,isOpaque:f.isOpaque,isSolid:f.isSolid,isDoor:f.isDoor,lightLevel:f.lightLevel,floorHeight:f.floorHeight,ceilingHeight:f.ceilingHeight,upper:f.upper,middle:f.middle,lower:f.lower};f.isDoor||(N.texRefFloor=f.texRefFloor,N.texRefCeiling=f.texRefCeiling,N.texRefUpper=f.texRefUpper,N.texRefLower=f.texRefLower,N.upperWall=f.upperWall),c.push(N)}}c.sort(o),te[a]=c}}function y(e,t){b(),R();var r=t.fwd,n=t.pos,o=e.sectors,y=e.doors,p=e.things,m=e.effects,g=e.pathNodes;I=[],z=[],W=[],_=[],X=t.camHeight,i(e.skyTexture),a(o,y,p,m,g,n,r),s(I,n),h(),d(t.occupiedSector.floorHeight),c(t.fwd,t.pos),x(t.fwd,t.pos),f(t.fwd,t.pos),u(t.fwd,t.pos),l(t)}function p(){return new Uint8ClampedArray(M.y*M.x*4)}function m(e,i){ke&&(A=i.occupiedSector,j=p(),y(e,i),E.data.set(j),t.setCanvasPixels(E))}function g(){for(var e=U,t=M.x,i=M.y,r=0;t>r;r++){for(var n=[],o=[],a=0;i>=a;a++)n.push(e),o.push(e);$.push(n)}}function w(){for(var e=M.x,t=0;e>t;t++)G.push([]),K.push([]),Q.push([]),J.push([]),Z.push([]),ee.push([])}function v(){for(var e=M.x,t=0;e>t;t++)te.push([])}function b(){for(var e=U,t=M.x,i=M.y,r=0;t>r;r++)for(var n=0;i>=n;n++)$[r][n]=e}function R(){for(var e=M.x,t=0;e>t;t++)G[t]=[],K[t]=[],Q[t]=[],J[t]=[],Z[t]=[],ee[t]=[]}function S(){for(var e=me,t=we,i=M.x,r=M.y,n=O.x,o=O.y,a=re,s=ne,l=oe,d=ae,c=0;i>c;c++){var x=t((c-n)/Y);a.push(x),s.push(e(x))}for(var f=0;r>=f;f++){var u=t((f-o)/Y);l.push(u),d.push(e(u))}}function N(){for(var e=U,t=ue,i=fe,r=xe,n=re,o=se,a=M.x,s=0;a>s;s++)o[s]=t(r(i({x:0,y:-1},n[s])),e)}function k(e,t){return e.dist-t.dist}function D(e,t){return t.dist-e.dist}function C(){Ne=e.get(),S(),N(),g(),w(),v(),E=t.getCanvasPixels(),ke=!0}var T=6.28318531,L=3.14159265,q=1.57079633,P=r.get("wallHeight"),X=r.get("cameraHeight"),Y=r.get("distToProjSurf"),V=r.get("fovAngle"),B=V/2,H=(Math.tan(B),r.get("nearClip")),U=r.get("farClip"),M=r.get("canvasSize"),O={x:Math.round(M.x/2),y:Math.round(M.y/2)},F=.025,E=null,j=null,A=null,I=[],z=[],W=[],_=[],$=[],G=[],K=[],Q=[],J=[],Z=[],ee=[],te=[],ie="none",re=[],ne=[],oe=[],ae=[],se=[],le=n.intersectsLineWithLineOptimised,de=o.radiansBetweenVectors,ce=o.signedRadiansBetweenVectors,xe=o.normalise,fe=o.rotateByRadians,ue=o.scaleVector,he=o.radiansFromVector,ye=r.get("propCollisionRadius"),pe=Math.sin,me=Math.cos,ge=Math.tan,we=Math.atan,ve=Math.abs,be=(Math.floor,Math.round),Re=Math.sqrt,Se=document.createElement("canvas"),Ne=(Se.getContext("2d"),{}),ke=!1;return{init:C,drawScene:m}}();return a}),define("hud",["enginevars","renderer","time","maths"],function(e,t,i,r){var n=function(){function n(e){var i=e.currentWeapon,r=i.sprite.getCurrentFrame(),n=r.sheetTex,o=i.fullbrightsSheet;if(n.loaded){for(var a=t.getHudCanvasPixels(),s=new Uint8ClampedArray(w.y*w.x*4),l=w.x,d=(w.y,i.hudCoords),c=r.frameCoords,x=Math.round(d.x-c.w),f=d.x,u=Math.round(d.y-c.h),h=d.y,y=(n.texSizeX,n.texSizeY),p=n.pixels,m=e.lightLevel,g=x;f>g;g++)for(var v=c.x+(g-x),b=u;h>b;b++){var R=c.y+(b-u),S=4*(R*y+v),N=4*(b*l+g);0!=p[S+3]&&(s[N]=~~(p[S]*m),s[N+1]=~~(p[S+1]*m),s[N+2]=~~(p[S+2]*m),s[N+3]=255)}a.data.set(s),t.setHudCanvasPixels(a),t.drawClippedImageHud(o.img,c.x,c.y,c.w,c.h,Math.round(d.x-c.w),Math.round(d.y-c.h),c.w,c.h)}}function o(){if(R.loaded){var e=R.frames["hud-bg-bar"];t.drawClippedImageHud(R.img,e.x,e.y,e.w,e.h,Math.round(w.x-e.w),Math.round(w.y-e.h),e.w,e.h)}}function a(e){var i=Math.round(e.armour/b);if(i>0){var r=R.frames["bars-"+i];t.drawClippedImageHud(R.img,r.x,r.y,r.w,r.h,S.armourBars.x,S.armourBars.y,r.w,r.h)}}function s(e){var i=Math.round(e.health/b);if(i>0){var r=R.frames["bars-"+i];t.drawClippedImageHud(R.img,r.x,r.y,r.w,r.h,S.healthBars.x,S.healthBars.y,r.w,r.h)}}function l(e){switch(e.currentWeapon.ammo.type){case"bullet":var i=e.currentWeapon.ammo.mag.current;if(i>0&&e.currentWeapon.currentState!=e.currentWeapon.states.reloading)if(20>=i){var r=R.frames["bullets-"+i];t.drawClippedImageHud(R.img,r.x,r.y,r.w,r.h,S.magAmmo.x,S.magAmmo.centralY,r.w,r.h)}else{var n=R.frames["bullets-"+(i-20)],o=R.frames["bullets-20"];t.drawClippedImageHud(R.img,n.x,n.y,n.w,n.h,S.magAmmo.x,S.magAmmo.topY,n.w,n.h),t.drawClippedImageHud(R.img,o.x,o.y,o.w,o.h,S.magAmmo.x,S.magAmmo.bottomY,o.w,o.h)}break;default:console.log('WARNING: MOD_Hud.drawReadout_MagAmmo : ammo type "'+e.currentWeapon.ammo.type+'" not handled.')}}function d(e){var i=e.currentWeapon.ammo.total.current;if(i>0){var r=Math.ceil(i/e.currentWeapon.ammo.mag.capacity);if(5>=r){var n=R.frames["mags-"+r];t.drawClippedImageHud(R.img,n.x,n.y,n.w,n.h,S.reserveAmmo.x,S.reserveAmmo.centralY,n.w,n.h)}else{var o=R.frames["mags-"+(r-5)],a=R.frames["mags-5"];t.drawClippedImageHud(R.img,o.x,o.y,o.w,o.h,S.reserveAmmo.x,S.reserveAmmo.topY,o.w,o.h),t.drawClippedImageHud(R.img,a.x,a.y,a.w,a.h,S.reserveAmmo.x,S.reserveAmmo.bottomY,a.w,a.h)}}}function c(e){var i=R.frames["weapon-"+e.currentWeapon.type];t.drawClippedImageHud(R.img,i.x,i.y,i.w,i.h,S.weaponType[e.currentWeapon.type].x,S.weaponType[e.currentWeapon.type].y,i.w,i.h)}function x(){for(var e=N.states.normal,t=!1,i=0,n=3;!t;){switch(r.randomIntInRange(1,4)){case 1:e=N.states.lookleft;break;case 2:e=N.states.lookright;break;case 3:e=N.states.turnleft;break;case 4:e=N.states.turnright;break;default:e=N.states.normal}t=e!=N.currentState||++i>=n}return e}function f(e){return e.hitCooldown==e.hitCooldownTime?(N.currentState=N.states.hit,void(N.stateCooldown=r.randomIntInRange(N.currentState.duration.min,N.currentState.duration.max))):e.currentWeapon.currentState==e.currentWeapon.states.firing?(N.currentState=N.states.mean,void(N.stateCooldown=r.randomIntInRange(N.currentState.duration.min,N.currentState.duration.max))):(N.stateCooldown<=0&&(N.currentState==N.states.hit?N.currentState=N.states.mean:N.currentState==N.states.normal?N.currentState=x():N.currentState=N.states.normal,N.stateCooldown=r.randomIntInRange(N.currentState.duration.min,N.currentState.duration.max)),void(N.stateCooldown-=g))}function u(e){var i=1;i=e.armour>Math.round(e.maxArmour/2)?1:e.armour>0?2:e.health>Math.round(e.maxHealth/2)?4:5;var r=R.frames["head-"+i+"-"+N.currentState.name];t.drawClippedImageHud(R.img,r.x,r.y,r.w,r.h,Math.round(S.moodHead.x-r.w/2),Math.round(S.moodHead.y-r.h/2),r.w,r.h)}function h(e){if(e.alive){if(e.hudEffects.hit){var i=e.hitCooldown/e.hitCooldownTime;t.drawRectHud(0,0,w.x,w.y,"rgba(255,0,0,"+.5*i+")")}}else t.drawRectHud(0,0,w.x,w.y,"rgba(255,0,0,0.5)"),t.drawTextHud("YOU ARE DEAD",v.x-62,v.y+8,"#fff",16)}function y(e){g=i.getDeltaTime(),e.alive&&(n(e),o(),a(e),s(e),l(e),d(e),c(e),f(e),u(e),t.drawLineHud(v.x,v.y-4,v.x,v.y+4,"#fff",1,0),t.drawLineHud(v.x-4,v.y,v.x+4,v.y,"#fff",1,0)),h(e)}function p(){R.img=new Image,R.img.src=R.path,R.img.onload=function(){R.loaded=!0}}function m(){N.currentState=N.states.normal,N.stateCooldown=r.randomIntInRange(N.states.normal.duration.min,N.states.normal.duration.max),p()}var g=i.getDeltaTime(),w=e.get("canvasSize"),v={x:Math.round(w.x/2),y:Math.round(w.y/2)},b=(e.get("playerHealth"),e.get("playerArmour"),e.get("hudUnitsPerBar")),R={path:"img/hud/sprites/hud-sheet-v2.png",img:null,texSizeX:512,texSizeY:512,loaded:!1,frames:{"head-1-mean":{x:204,y:2,w:30,h:44},"bars-15":{x:236,y:2,w:61,h:17},"bars-14":{x:299,y:2,w:57,h:17},"bars-13":{x:358,y:2,w:53,h:17},"bars-12":{x:413,y:2,w:49,h:17},"bars-11":{x:464,y:2,w:45,h:17},"head-1-normal":{x:3,y:3,w:30,h:43},"head-1-lookleft":{x:35,y:3,w:30,h:43},"head-1-lookright":{x:67,y:3,w:30,h:43},"head-1-turnleft":{x:99,y:3,w:34,h:43},"head-1-turnright":{x:135,y:3,w:34,h:43},"head-1-hit":{x:171,y:3,w:31,h:44},"bars-10":{x:236,y:21,w:41,h:17},"bars-9":{x:279,y:21,w:37,h:17},"bars-8":{x:318,y:21,w:33,h:17},"bars-7":{x:353,y:21,w:29,h:17},"bars-6":{x:384,y:21,w:25,h:17},"bars-5":{x:411,y:21,w:21,h:17},"bars-4":{x:434,y:21,w:17,h:17},"bars-3":{x:453,y:21,w:13,h:17},"bars-2":{x:468,y:21,w:9,h:17},"bars-1":{x:479,y:21,w:5,h:17},"bullets-20":{x:236,y:40,w:62,h:9},"bullets-19":{x:300,y:40,w:59,h:9},"bullets-18":{x:361,y:40,w:56,h:9},"bullets-17":{x:419,y:40,w:53,h:9},"head-2-mean":{x:203,y:48,w:30,h:45},"head-2-normal":{x:3,y:49,w:30,h:44},"head-2-lookleft":{x:35,y:49,w:30,h:44},"head-2-lookright":{x:67,y:49,w:30,h:44},"head-2-turnleft":{x:99,y:49,w:34,h:43},"head-2-hit":{x:170,y:49,w:31,h:44},"head-2-turnright":{x:134,y:50,w:34,h:42},"bullets-16":{x:236,y:51,w:50,h:9},"bullets-15":{x:288,y:51,w:47,h:9},"bullets-14":{x:337,y:51,w:44,h:9},"bullets-13":{x:383,y:51,w:41,h:9},"bullets-12":{x:426,y:51,w:38,h:9},"bullets-11":{x:466,y:51,w:35,h:9},"bullets-10":{x:236,y:62,w:32,h:9},"bullets-9":{x:270,y:62,w:29,h:9},"bullets-8":{x:301,y:62,w:26,h:9},"bullets-7":{x:329,y:62,w:23,h:9},"bullets-6":{x:354,y:62,w:20,h:9},"bullets-5":{x:376,y:62,w:17,h:9},"bullets-4":{x:395,y:62,w:14,h:9},"bullets-3":{x:411,y:62,w:11,h:9},"bullets-2":{x:424,y:62,w:8,h:9},"bullets-1":{x:434,y:62,w:5,h:9},"mags-5":{x:441,y:62,w:32,h:9},"mags-4":{x:475,y:62,w:26,h:9},"mags-3":{x:236,y:73,w:20,h:9},"mags-2":{x:258,y:73,w:14,h:9},"mags-1":{x:274,y:73,w:8,h:9},"weapon-pistol":{x:236,y:84,w:39,h:30},"weapon-shotgun":{x:277,y:84,w:47,h:15},"weapon-assaultrifle":{x:326,y:84,w:47,h:18},"head-4-mean":{x:202,y:140,w:31,h:45},"head-4-normal":{x:2,y:142,w:31,h:43},"head-4-lookleft":{x:35,y:142,w:30,h:43},"head-4-lookright":{x:67,y:142,w:30,h:43},"head-4-turnleft":{x:99,y:142,w:34,h:43},"head-4-turnright":{x:134,y:142,w:33,h:43},"head-4-hit":{x:170,y:142,w:30,h:44},"head-5-lookleft":{x:35,y:189,w:30,h:47},"head-5-hit":{x:170,y:189,w:31,h:49},"head-5-mean":{x:202,y:189,w:31,h:46},"head-5-normal":{x:2,y:190,w:32,h:46},"head-5-lookright":{x:67,y:190,w:30,h:46},"head-5-turnleft":{x:99,y:190,w:34,h:46},"head-5-turnright":{x:134,y:190,w:33,h:46},"hud-bg-bar":{x:2,y:239,w:400,h:67}}},S={armourBars:{x:108,y:269},healthBars:{x:79,y:269},magAmmo:{x:231,topY:269,bottomY:277,centralY:274},reserveAmmo:{x:295,topY:269,bottomY:277,centralY:273},moodHead:{x:199,y:271},weaponType:{pistol:{x:346,y:254}}},N={states:{normal:{name:"normal",duration:{min:40,max:240}},lookleft:{name:"lookleft",duration:{min:45,max:90}},lookright:{name:"lookright",duration:{min:45,max:90}},turnleft:{name:"turnleft",duration:{min:60,max:120}},turnright:{name:"turnright",duration:{min:60,max:120}},hit:{name:"hit",duration:{min:20,max:25}},mean:{name:"mean",duration:{min:35,max:45}}},currentState:null,stateCooldown:0};return{init:m,update:y}}();return n}),require(["jquery","assets","input","time","player","gameworld","enginevars","renderer","worldrenderer","hud","effects"],function(e,t,i,r,n,o,a,s,l,d,c){function x(){t.init(),s.init();var e=o.init();n.init(e,o.getSceneData()),l.init(),d.init(),window.requestAnimationFrame(f)}function f(){if(u++,S=r.getCurrent(),r.setDeltaTime(S-N),N=S,Date.now()-g>1e3){var e=u-w;R&&(e>v&&(v=e),b>e&&(b=e)),h.text("loops: "+u),y.text("fps: "+e),m.text("high: "+v),p.text("low: "+b),g=Date.now(),w=u,R=Date.now()-k>3e3}s.clear(!0),s.clearHud(),i.update(),n.update(o.getSceneData()),o.update(),l.drawScene(o.getSceneData(),n.getPlayerData()),c.update(n.getPos()),d.update(n.getHudData()),window.requestAnimationFrame(f)}var u=0,h=e("#loopCounter"),y=e("#fpsCounter"),p=e("#fpsLow"),m=e("#fpsHigh"),g=0,w=0,v=0,b=999,R=!1,S=r.getCurrent(),N=r.getCurrent(),k=Date.now();x()}),define("main",function(){});